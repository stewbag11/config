var d=h=>{throw TypeError(h)};var g=(h,t,s)=>t.has(h)||d("Cannot "+s);var i=(h,t,s)=>(g(h,t,"read from private field"),s?s.call(h):t.get(h)),c=(h,t,s)=>t.has(h)?d("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(h):t.set(h,s),f=(h,t,s,e)=>(g(h,t,"write to private field"),e?e.call(h,s):t.set(h,s),s);var p=(h,t,s,e)=>({set _(a){f(h,t,a,s)},get _(){return i(h,t,e)}});var u,o,n,l,r;class b{constructor(t){c(this,u);c(this,o,[]);c(this,n,0);c(this,l,0);c(this,r,0);f(this,u,t.capacity)}get length(){return i(this,r)}get isFull(){return i(this,r)===i(this,u)}at(t){if(i(this,r)===0)return;const s=t<0?i(this,r)+t:t;if(!(s>=i(this,r)))return i(this,o)[(i(this,n)+s)%i(this,u)]}push(t){const s=i(this,o)[i(this,n)],e=this.isFull;if(i(this,o)[i(this,l)]=t,f(this,r,Math.min(i(this,r)+1,i(this,u))),e&&i(this,n)===i(this,l)&&f(this,n,(i(this,n)+1)%i(this,u)),f(this,l,(i(this,l)+1)%i(this,u)),e)return s}shift(){if(i(this,r)===0)return;const t=i(this,o)[i(this,n)];return f(this,n,(i(this,n)+1)%i(this,u)),p(this,r)._--,t}forEach(t){let s=0;for(const e of this)t(e,s++)}reduce(t,s){let e=s,a=0;for(const y of this)e=t(e,y,a++);return e}*[Symbol.iterator](){for(let t=0;t<i(this,r);t++)yield this.at(t)}}u=new WeakMap,o=new WeakMap,n=new WeakMap,l=new WeakMap,r=new WeakMap;export{b as C};
//# sourceMappingURL=CircularBuffer-BES1B1-Nicfgaw3.js.map
