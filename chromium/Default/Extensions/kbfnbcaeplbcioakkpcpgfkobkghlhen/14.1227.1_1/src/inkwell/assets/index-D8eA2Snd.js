var Jv=Object.defineProperty;var ss=e=>{throw TypeError(e)};var Yv=(e,r,t)=>r in e?Jv(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var P=(e,r,t)=>Yv(e,typeof r!="symbol"?r+"":r,t),gi=(e,r,t)=>r.has(e)||ss("Cannot "+t);var p=(e,r,t)=>(gi(e,r,"read from private field"),t?t.call(e):r.get(e)),E=(e,r,t)=>r.has(e)?ss("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t),I=(e,r,t,n)=>(gi(e,r,"write to private field"),n?n.call(e,t):r.set(e,t),t),R=(e,r,t)=>(gi(e,r,"access private method"),t);var bi=(e,r,t,n)=>({set _(i){I(e,r,i,t)},get _(){return p(e,r,n)}});var At=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $P(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dr=function(e){return e&&e.Math===Math&&e},k=Dr(typeof globalThis=="object"&&globalThis)||Dr(typeof window=="object"&&window)||Dr(typeof self=="object"&&self)||Dr(typeof At=="object"&&At)||Dr(typeof At=="object"&&At)||function(){return this}()||Function("return this")(),lt={},M=function(e){try{return!!e()}catch{return!0}},Zv=M,W=!Zv(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Qv=M,Mn=!Qv(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Xv=Mn,Ct=Function.prototype.call,V=Xv?Ct.bind(Ct):function(){return Ct.apply(Ct,arguments)},Rc={},Ac={}.propertyIsEnumerable,Cc=Object.getOwnPropertyDescriptor,ed=Cc&&!Ac.call({1:2},1);Rc.f=ed?function(r){var t=Cc(this,r);return!!t&&t.enumerable}:Ac;var ft=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},kc=Mn,Dc=Function.prototype,mo=Dc.call,rd=kc&&Dc.bind.bind(mo,mo),_=kc?rd:function(e){return function(){return mo.apply(e,arguments)}},jc=_,td=jc({}.toString),nd=jc("".slice),Rr=function(e){return nd(td(e),8,-1)},id=_,od=M,ad=Rr,Si=Object,sd=id("".split),ud=od(function(){return!Si("z").propertyIsEnumerable(0)})?function(e){return ad(e)==="String"?sd(e,""):Si(e)}:Si,Ye=function(e){return e==null},cd=Ye,ld=TypeError,Qo=function(e){if(cd(e))throw new ld("Can't call method on "+e);return e},fd=ud,vd=Qo,vt=function(e){return fd(vd(e))},$i=typeof document=="object"&&document.all,j=typeof $i>"u"&&$i!==void 0?function(e){return typeof e=="function"||e===$i}:function(e){return typeof e=="function"},dd=j,K=function(e){return typeof e=="object"?e!==null:dd(e)},wi=k,hd=j,pd=function(e){return hd(e)?e:void 0},ee=function(e,r){return arguments.length<2?pd(wi[e]):wi[e]&&wi[e][r]},yd=_,dt=yd({}.isPrototypeOf),md=k,us=md.navigator,cs=us&&us.userAgent,ht=cs?String(cs):"",Nc=k,Ei=ht,ls=Nc.process,fs=Nc.Deno,vs=ls&&ls.versions||fs&&fs.version,ds=vs&&vs.v8,ae,vn;ds&&(ae=ds.split("."),vn=ae[0]>0&&ae[0]<4?1:+(ae[0]+ae[1]));!vn&&Ei&&(ae=Ei.match(/Edge\/(\d+)/),(!ae||ae[1]>=74)&&(ae=Ei.match(/Chrome\/(\d+)/),ae&&(vn=+ae[1])));var _c=vn,hs=_c,gd=M,bd=k,Sd=bd.String,Fc=!!Object.getOwnPropertySymbols&&!gd(function(){var e=Symbol("symbol detection");return!Sd(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&hs&&hs<41}),$d=Fc,Mc=$d&&!Symbol.sham&&typeof Symbol.iterator=="symbol",wd=ee,Ed=j,Id=dt,Td=Mc,Od=Object,Lc=Td?function(e){return typeof e=="symbol"}:function(e){var r=wd("Symbol");return Ed(r)&&Id(r.prototype,Od(e))},Pd=String,Ln=function(e){try{return Pd(e)}catch{return"Object"}},xd=j,Rd=Ln,Ad=TypeError,re=function(e){if(xd(e))return e;throw new Ad(Rd(e)+" is not a function")},Cd=re,kd=Ye,Ar=function(e,r){var t=e[r];return kd(t)?void 0:Cd(t)},Ii=V,Ti=j,Oi=K,Dd=TypeError,jd=function(e,r){var t,n;if(r==="string"&&Ti(t=e.toString)&&!Oi(n=Ii(t,e))||Ti(t=e.valueOf)&&!Oi(n=Ii(t,e))||r!=="string"&&Ti(t=e.toString)&&!Oi(n=Ii(t,e)))return n;throw new Dd("Can't convert object to primitive value")},Uc={exports:{}},Nd=!1,ps=k,_d=Object.defineProperty,Xo=function(e,r){try{_d(ps,e,{value:r,configurable:!0,writable:!0})}catch{ps[e]=r}return r},Fd=k,Md=Xo,ys="__core-js_shared__",ms=Uc.exports=Fd[ys]||Md(ys,{});(ms.versions||(ms.versions=[])).push({version:"3.38.0",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Un=Uc.exports,gs=Un,Bc=function(e,r){return gs[e]||(gs[e]=r||{})},Ld=Qo,Ud=Object,zc=function(e){return Ud(Ld(e))},Bd=_,zd=zc,Gd=Bd({}.hasOwnProperty),H=Object.hasOwn||function(r,t){return Gd(zd(r),t)},Wd=_,Vd=0,Kd=Math.random(),Hd=Wd(1 .toString),ea=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Hd(++Vd+Kd,36)},qd=k,Jd=Bc,bs=H,Yd=ea,Zd=Fc,Qd=Mc,ur=qd.Symbol,Pi=Jd("wks"),Xd=Qd?ur.for||ur:ur&&ur.withoutSetter||Yd,F=function(e){return bs(Pi,e)||(Pi[e]=Zd&&bs(ur,e)?ur[e]:Xd("Symbol."+e)),Pi[e]},eh=V,Ss=K,$s=Lc,rh=Ar,th=jd,nh=F,ih=TypeError,oh=nh("toPrimitive"),ah=function(e,r){if(!Ss(e)||$s(e))return e;var t=rh(e,oh),n;if(t){if(r===void 0&&(r="default"),n=eh(t,e,r),!Ss(n)||$s(n))return n;throw new ih("Can't convert object to primitive value")}return r===void 0&&(r="number"),th(e,r)},sh=ah,uh=Lc,Gc=function(e){var r=sh(e,"string");return uh(r)?r:r+""},ch=k,ws=K,go=ch.document,lh=ws(go)&&ws(go.createElement),ra=function(e){return lh?go.createElement(e):{}},fh=W,vh=M,dh=ra,Wc=!fh&&!vh(function(){return Object.defineProperty(dh("div"),"a",{get:function(){return 7}}).a!==7}),hh=W,ph=V,yh=Rc,mh=ft,gh=vt,bh=Gc,Sh=H,$h=Wc,Es=Object.getOwnPropertyDescriptor;lt.f=hh?Es:function(r,t){if(r=gh(r),t=bh(t),$h)try{return Es(r,t)}catch{}if(Sh(r,t))return mh(!ph(yh.f,r,t),r[t])};var te={},wh=W,Eh=M,Vc=wh&&Eh(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ih=K,Th=String,Oh=TypeError,ne=function(e){if(Ih(e))return e;throw new Oh(Th(e)+" is not an object")},Ph=W,xh=Wc,Rh=Vc,kt=ne,Is=Gc,Ah=TypeError,xi=Object.defineProperty,Ch=Object.getOwnPropertyDescriptor,Ri="enumerable",Ai="configurable",Ci="writable";te.f=Ph?Rh?function(r,t,n){if(kt(r),t=Is(t),kt(n),typeof r=="function"&&t==="prototype"&&"value"in n&&Ci in n&&!n[Ci]){var i=Ch(r,t);i&&i[Ci]&&(r[t]=n.value,n={configurable:Ai in n?n[Ai]:i[Ai],enumerable:Ri in n?n[Ri]:i[Ri],writable:!1})}return xi(r,t,n)}:xi:function(r,t,n){if(kt(r),t=Is(t),kt(n),xh)try{return xi(r,t,n)}catch{}if("get"in n||"set"in n)throw new Ah("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var kh=W,Dh=te,jh=ft,Ze=kh?function(e,r,t){return Dh.f(e,r,jh(1,t))}:function(e,r,t){return e[r]=t,e},Kc={exports:{}},bo=W,Nh=H,Hc=Function.prototype,_h=bo&&Object.getOwnPropertyDescriptor,ta=Nh(Hc,"name"),Fh=ta&&(function(){}).name==="something",Mh=ta&&(!bo||bo&&_h(Hc,"name").configurable),qc={EXISTS:ta,PROPER:Fh,CONFIGURABLE:Mh},Lh=_,Uh=j,So=Un,Bh=Lh(Function.toString);Uh(So.inspectSource)||(So.inspectSource=function(e){return Bh(e)});var na=So.inspectSource,zh=k,Gh=j,Ts=zh.WeakMap,Wh=Gh(Ts)&&/native code/.test(String(Ts)),Vh=Bc,Kh=ea,Os=Vh("keys"),ia=function(e){return Os[e]||(Os[e]=Kh(e))},Bn={},Hh=Wh,Jc=k,qh=K,Jh=Ze,ki=H,Di=Un,Yh=ia,Zh=Bn,Ps="Object already initialized",$o=Jc.TypeError,Qh=Jc.WeakMap,dn,Hr,hn,Xh=function(e){return hn(e)?Hr(e):dn(e,{})},ep=function(e){return function(r){var t;if(!qh(r)||(t=Hr(r)).type!==e)throw new $o("Incompatible receiver, "+e+" required");return t}};if(Hh||Di.state){var fe=Di.state||(Di.state=new Qh);fe.get=fe.get,fe.has=fe.has,fe.set=fe.set,dn=function(e,r){if(fe.has(e))throw new $o(Ps);return r.facade=e,fe.set(e,r),r},Hr=function(e){return fe.get(e)||{}},hn=function(e){return fe.has(e)}}else{var ir=Yh("state");Zh[ir]=!0,dn=function(e,r){if(ki(e,ir))throw new $o(Ps);return r.facade=e,Jh(e,ir,r),r},Hr=function(e){return ki(e,ir)?e[ir]:{}},hn=function(e){return ki(e,ir)}}var pt={set:dn,get:Hr,has:hn,enforce:Xh,getterFor:ep},oa=_,rp=M,tp=j,Dt=H,wo=W,np=qc.CONFIGURABLE,ip=na,Yc=pt,op=Yc.enforce,ap=Yc.get,xs=String,rn=Object.defineProperty,sp=oa("".slice),up=oa("".replace),cp=oa([].join),lp=wo&&!rp(function(){return rn(function(){},"length",{value:8}).length!==8}),fp=String(String).split("String"),vp=Kc.exports=function(e,r,t){sp(xs(r),0,7)==="Symbol("&&(r="["+up(xs(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Dt(e,"name")||np&&e.name!==r)&&(wo?rn(e,"name",{value:r,configurable:!0}):e.name=r),lp&&t&&Dt(t,"arity")&&e.length!==t.arity&&rn(e,"length",{value:t.arity});try{t&&Dt(t,"constructor")&&t.constructor?wo&&rn(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=op(e);return Dt(n,"source")||(n.source=cp(fp,typeof r=="string"?r:"")),e};Function.prototype.toString=vp(function(){return tp(this)&&ap(this).source||ip(this)},"toString");var Zc=Kc.exports,dp=j,hp=te,pp=Zc,yp=Xo,Q=function(e,r,t,n){n||(n={});var i=n.enumerable,o=n.name!==void 0?n.name:r;if(dp(t)&&pp(t,o,n),n.global)i?e[r]=t:yp(r,t);else{try{n.unsafe?e[r]&&(i=!0):delete e[r]}catch{}i?e[r]=t:hp.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},zn={},mp=Math.ceil,gp=Math.floor,bp=Math.trunc||function(r){var t=+r;return(t>0?gp:mp)(t)},Sp=bp,aa=function(e){var r=+e;return r!==r||r===0?0:Sp(r)},$p=aa,wp=Math.max,Ep=Math.min,Ip=function(e,r){var t=$p(e);return t<0?wp(t+r,0):Ep(t,r)},Tp=aa,Op=Math.min,Pp=function(e){var r=Tp(e);return r>0?Op(r,9007199254740991):0},xp=Pp,Qc=function(e){return xp(e.length)},Rp=vt,Ap=Ip,Cp=Qc,Rs=function(e){return function(r,t,n){var i=Rp(r),o=Cp(i);if(o===0)return!e&&-1;var a=Ap(n,o),s;if(e&&t!==t){for(;o>a;)if(s=i[a++],s!==s)return!0}else for(;o>a;a++)if((e||a in i)&&i[a]===t)return e||a||0;return!e&&-1}},kp={includes:Rs(!0),indexOf:Rs(!1)},Dp=_,ji=H,jp=vt,Np=kp.indexOf,_p=Bn,As=Dp([].push),Xc=function(e,r){var t=jp(e),n=0,i=[],o;for(o in t)!ji(_p,o)&&ji(t,o)&&As(i,o);for(;r.length>n;)ji(t,o=r[n++])&&(~Np(i,o)||As(i,o));return i},sa=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fp=Xc,Mp=sa,Lp=Mp.concat("length","prototype");zn.f=Object.getOwnPropertyNames||function(r){return Fp(r,Lp)};var el={};el.f=Object.getOwnPropertySymbols;var Up=ee,Bp=_,zp=zn,Gp=el,Wp=ne,Vp=Bp([].concat),Kp=Up("Reflect","ownKeys")||function(r){var t=zp.f(Wp(r)),n=Gp.f;return n?Vp(t,n(r)):t},Cs=H,Hp=Kp,qp=lt,Jp=te,ua=function(e,r,t){for(var n=Hp(r),i=Jp.f,o=qp.f,a=0;a<n.length;a++){var s=n[a];!Cs(e,s)&&!(t&&Cs(t,s))&&i(e,s,o(r,s))}},Yp=M,Zp=j,Qp=/#|\.prototype\./,yt=function(e,r){var t=ey[Xp(e)];return t===ty?!0:t===ry?!1:Zp(r)?Yp(r):!!r},Xp=yt.normalize=function(e){return String(e).replace(Qp,".").toLowerCase()},ey=yt.data={},ry=yt.NATIVE="N",ty=yt.POLYFILL="P",ca=yt,jt=k,ny=lt.f,iy=Ze,oy=Q,ay=Xo,sy=ua,uy=ca,q=function(e,r){var t=e.target,n=e.global,i=e.stat,o,a,s,u,c,l;if(n?a=jt:i?a=jt[t]||ay(t,{}):a=jt[t]&&jt[t].prototype,a)for(s in r){if(c=r[s],e.dontCallGetSet?(l=ny(a,s),u=l&&l.value):u=a[s],o=uy(n?s:t+(i?".":"#")+s,e.forced),!o&&u!==void 0){if(typeof c==typeof u)continue;sy(c,u)}(e.sham||u&&u.sham)&&iy(c,"sham",!0),oy(a,s,c,e)}},cy=Mn,rl=Function.prototype,ks=rl.apply,Ds=rl.call,tl=typeof Reflect=="object"&&Reflect.apply||(cy?Ds.bind(ks):function(){return Ds.apply(ks,arguments)}),ly=_,fy=re,nl=function(e,r,t){try{return ly(fy(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}},vy=K,dy=function(e){return vy(e)||e===null},hy=dy,py=String,yy=TypeError,my=function(e){if(hy(e))return e;throw new yy("Can't set "+py(e)+" as a prototype")},gy=nl,by=K,Sy=Qo,$y=my,mt=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=gy(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return function(i,o){return Sy(i),$y(o),by(i)&&(e?t(i,o):i.__proto__=o),i}}():void 0),wy=te.f,Ey=function(e,r,t){t in e||wy(e,t,{configurable:!0,get:function(){return r[t]},set:function(n){r[t]=n}})},Iy=j,Ty=K,js=mt,il=function(e,r,t){var n,i;return js&&Iy(n=r.constructor)&&n!==t&&Ty(i=n.prototype)&&i!==t.prototype&&js(e,i),e},Oy=F,Py=Oy("toStringTag"),ol={};ol[Py]="z";var la=String(ol)==="[object z]",xy=la,Ry=j,tn=Rr,Ay=F,Cy=Ay("toStringTag"),ky=Object,Dy=tn(function(){return arguments}())==="Arguments",jy=function(e,r){try{return e[r]}catch{}},Gn=xy?tn:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=jy(r=ky(e),Cy))=="string"?t:Dy?tn(r):(n=tn(r))==="Object"&&Ry(r.callee)?"Arguments":n},Ny=Gn,_y=String,Fy=function(e){if(Ny(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return _y(e)},My=Fy,fa=function(e,r){return e===void 0?arguments.length<2?"":r:My(e)},Ly=K,Uy=Ze,By=function(e,r){Ly(r)&&"cause"in r&&Uy(e,"cause",r.cause)},zy=_,al=Error,Gy=zy("".replace),Wy=function(e){return String(new al(e).stack)}("zxcasd"),sl=/\n\s*at [^:]*:[^\n]*/,Vy=sl.test(Wy),Ky=function(e,r){if(Vy&&typeof e=="string"&&!al.prepareStackTrace)for(;r--;)e=Gy(e,sl,"");return e},Hy=M,qy=ft,Jy=!Hy(function(){var e=new Error("a");return"stack"in e?(Object.defineProperty(e,"stack",qy(1,7)),e.stack!==7):!0}),Yy=Ze,Zy=Ky,Qy=Jy,Ns=Error.captureStackTrace,ul=function(e,r,t,n){Qy&&(Ns?Ns(e,r):Yy(e,"stack",Zy(t,n)))},_s=ee,Xy=H,Fs=Ze,em=dt,Ms=mt,Ls=ua,Us=Ey,rm=il,tm=fa,nm=By,im=ul,om=W,am=function(e,r,t,n){var i="stackTraceLimit",o=n?2:1,a=e.split("."),s=a[a.length-1],u=_s.apply(null,a);if(u){var c=u.prototype;if(Xy(c,"cause")&&delete c.cause,!t)return u;var l=_s("Error"),f=r(function(v,d){var h=tm(n?d:v,void 0),y=n?new u(v):new u;return h!==void 0&&Fs(y,"message",h),im(y,f,y.stack,2),this&&em(c,this)&&rm(y,this,f),arguments.length>o&&nm(y,arguments[o]),y});f.prototype=c,s!=="Error"?Ms?Ms(f,l):Ls(f,l,{name:!0}):om&&i in u&&(Us(f,u,i),Us(f,u,"prepareStackTrace")),Ls(f,u);try{c.name!==s&&Fs(c,"name",s),c.constructor=f}catch{}return f}},cl=q,sm=k,de=tl,ll=am,Eo="WebAssembly",Bs=sm[Eo],pn=new Error("e",{cause:7}).cause!==7,Qe=function(e,r){var t={};t[e]=ll(e,r,pn),cl({global:!0,constructor:!0,arity:1,forced:pn},t)},va=function(e,r){if(Bs&&Bs[e]){var t={};t[e]=ll(Eo+"."+e,r,pn),cl({target:Eo,stat:!0,constructor:!0,arity:1,forced:pn},t)}};Qe("Error",function(e){return function(t){return de(e,this,arguments)}});Qe("EvalError",function(e){return function(t){return de(e,this,arguments)}});Qe("RangeError",function(e){return function(t){return de(e,this,arguments)}});Qe("ReferenceError",function(e){return function(t){return de(e,this,arguments)}});Qe("SyntaxError",function(e){return function(t){return de(e,this,arguments)}});Qe("TypeError",function(e){return function(t){return de(e,this,arguments)}});Qe("URIError",function(e){return function(t){return de(e,this,arguments)}});va("CompileError",function(e){return function(t){return de(e,this,arguments)}});va("LinkError",function(e){return function(t){return de(e,this,arguments)}});va("RuntimeError",function(e){return function(t){return de(e,this,arguments)}});var um=W,cm=M,lm=ne,zs=fa,nn=Error.prototype.toString,fm=cm(function(){if(um){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if(nn.call(e)!=="true")return!0}return nn.call({message:1,name:2})!=="2: 1"||nn.call({})!=="Error"}),vm=fm?function(){var r=lm(this),t=zs(r.name,"Error"),n=zs(r.message);return t?n?t+": "+n:t:n}:nn,dm=Q,Gs=vm,Ws=Error.prototype;Ws.toString!==Gs&&dm(Ws,"toString",Gs);var hm=la,pm=Gn,ym=hm?{}.toString:function(){return"[object "+pm(this)+"]"},mm=la,gm=Q,bm=ym;mm||gm(Object.prototype,"toString",bm,{unsafe:!0});var Sm=M,$m=!Sm(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),wm=H,Em=j,Im=zc,Tm=ia,Om=$m,Vs=Tm("IE_PROTO"),Io=Object,Pm=Io.prototype,Wn=Om?Io.getPrototypeOf:function(e){var r=Im(e);if(wm(r,Vs))return r[Vs];var t=r.constructor;return Em(t)&&r instanceof t?t.prototype:r instanceof Io?Pm:null},fl={},xm=Xc,Rm=sa,Am=Object.keys||function(r){return xm(r,Rm)},Cm=W,km=Vc,Dm=te,jm=ne,Nm=vt,_m=Am;fl.f=Cm&&!km?Object.defineProperties:function(r,t){jm(r);for(var n=Nm(t),i=_m(t),o=i.length,a=0,s;o>a;)Dm.f(r,s=i[a++],n[s]);return r};var Fm=ee,vl=Fm("document","documentElement"),Mm=ne,Lm=fl,Ks=sa,Um=Bn,Bm=vl,zm=ra,Gm=ia,Hs=">",qs="<",To="prototype",Oo="script",dl=Gm("IE_PROTO"),Ni=function(){},hl=function(e){return qs+Oo+Hs+e+qs+"/"+Oo+Hs},Js=function(e){e.write(hl("")),e.close();var r=e.parentWindow.Object;return e=null,r},Wm=function(){var e=zm("iframe"),r="java"+Oo+":",t;return e.style.display="none",Bm.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(hl("document.F=Object")),t.close(),t.F},Nt,on=function(){try{Nt=new ActiveXObject("htmlfile")}catch{}on=typeof document<"u"?document.domain&&Nt?Js(Nt):Wm():Js(Nt);for(var e=Ks.length;e--;)delete on[To][Ks[e]];return on()};Um[dl]=!0;var da=Object.create||function(r,t){var n;return r!==null?(Ni[To]=Mm(r),n=new Ni,Ni[To]=null,n[dl]=r):n=on(),t===void 0?n:Lm.f(n,t)},Vm=q,Km=k,Hm=dt,Ys=Wn,yn=mt,qm=ua,pl=da,_t=Ze,_i=ft,Jm=ul,Ym=fa,Zm=F,Qm=M,Xm=Nd,Sr=Km.SuppressedError,eg=Zm("toStringTag"),mn=Error,rg=!!Sr&&Sr.length!==3,tg=!!Sr&&Qm(function(){return new Sr(1,2,3,{cause:4}).cause===4}),Vn=rg||tg,He=function(r,t,n){var i=Hm(Lr,this),o;return yn?o=Vn&&(!i||Ys(this)===Lr)?new Sr:yn(new mn,i?Ys(this):Lr):(o=i?this:pl(Lr),_t(o,eg,"Error")),n!==void 0&&_t(o,"message",Ym(n)),Jm(o,He,o.stack,1),_t(o,"error",r),_t(o,"suppressed",t),o};yn?yn(He,mn):qm(He,mn,{name:!0});var Lr=He.prototype=Vn?Sr.prototype:pl(mn.prototype,{constructor:_i(1,He),message:_i(1,""),name:_i(1,"SuppressedError")});Vn&&!Xm&&(Lr.constructor=He);Vm({global:!0,constructor:!0,arity:3,forced:Vn},{SuppressedError:He});var ng=dt,ig=TypeError,gt=function(e,r){if(ng(r,e))return e;throw new ig("Incorrect invocation")},og=Q,ha=function(e,r,t){for(var n in r)og(e,n,r[n],t);return e},Zs=Zc,ag=te,Kn=function(e,r,t){return t.get&&Zs(t.get,r,{getter:!0}),t.set&&Zs(t.set,r,{setter:!0}),ag.f(e,r,t)},sg=Rr,ug=_,cg=function(e){if(sg(e)==="Function")return ug(e)},Qs=cg,lg=re,fg=Mn,vg=Qs(Qs.bind),bt=function(e,r){return lg(e),r===void 0?e:fg?vg(e,r):function(){return e.apply(r,arguments)}},dg=V,hg=_,pg=bt,yg=ne,mg=re,yl=Ye,Fi=Ar,ml=F,gg=ml("asyncDispose"),Xs=ml("dispose"),bg=hg([].push),Sg=function(e,r){if(r==="async-dispose"){var t=Fi(e,gg);return t!==void 0||(t=Fi(e,Xs),t===void 0)?t:function(){dg(t,this)}}return Fi(e,Xs)},eu=function(e,r,t){return arguments.length<3&&!yl(e)&&(t=mg(Sg(yg(e),r))),t===void 0?function(){}:pg(t,e)},gl=function(e,r,t,n){var i;if(arguments.length<4){if(yl(r)&&t==="sync-dispose")return;i=eu(r,t)}else i=eu(void 0,t,n);bg(e.stack,i)},$g=q,gn=W,wg=ee,ru=re,Eg=gt,bl=Q,Ig=ha,Tg=Kn,Sl=F,$l=pt,Mi=gl,Og=wg("SuppressedError"),Pg=ReferenceError,xg=Sl("dispose"),Rg=Sl("toStringTag"),Hn="DisposableStack",Ag=$l.set,bn=$l.getterFor(Hn),Li="sync-dispose",Br="disposed",Cg="pending",Ft=function(e){var r=bn(e);if(r.state===Br)throw new Pg(Hn+" already disposed");return r},pa=function(){Ag(Eg(this,$r),{type:Hn,state:Cg,stack:[]}),gn||(this.disposed=!1)},$r=pa.prototype;Ig($r,{dispose:function(){var r=bn(this);if(r.state!==Br){r.state=Br,gn||(this.disposed=!0);for(var t=r.stack,n=t.length,i=!1,o;n;){var a=t[--n];t[n]=void 0;try{a()}catch(s){i?o=new Og(s,o):(i=!0,o=s)}}if(r.stack=void 0,i)throw o}},use:function(r){return Mi(Ft(this),r,Li),r},adopt:function(r,t){var n=Ft(this);return ru(t),Mi(n,void 0,Li,function(){t(r)}),r},defer:function(r){var t=Ft(this);ru(r),Mi(t,void 0,Li,r)},move:function(){var r=Ft(this),t=new pa;return bn(t).stack=r.stack,r.stack=[],r.state=Br,gn||(this.disposed=!0),t}});gn&&Tg($r,"disposed",{configurable:!0,get:function(){return bn(this).state===Br}});bl($r,xg,$r.dispose,{name:"dispose"});bl($r,Rg,Hn,{nonWritable:!0});$g({global:!0,constructor:!0},{DisposableStack:pa});var kg=M,Dg=j,jg=K,tu=Wn,Ng=Q,_g=F,Po=_g("iterator"),wl=!1,qe,Ui,Bi;[].keys&&(Bi=[].keys(),"next"in Bi?(Ui=tu(tu(Bi)),Ui!==Object.prototype&&(qe=Ui)):wl=!0);var Fg=!jg(qe)||kg(function(){var e={};return qe[Po].call(e)!==e});Fg&&(qe={});Dg(qe[Po])||Ng(qe,Po,function(){return this});var ya={IteratorPrototype:qe,BUGGY_SAFARI_ITERATORS:wl},Mg=V,Lg=Q,Ug=Ar,Bg=H,zg=F,nu=ya.IteratorPrototype,iu=zg("dispose");Bg(nu,iu)||Lg(nu,iu,function(){var e=Ug(this,"return");e&&Mg(e,this)});var Gg=k,qn=Gg,Wg=qn;Wg.DisposableStack;var jr=k,Vg=ht,Kg=Rr,Mt=function(e){return Vg.slice(0,e.length)===e},El=function(){return Mt("Bun/")?"BUN":Mt("Cloudflare-Workers")?"CLOUDFLARE":Mt("Deno/")?"DENO":Mt("Node.js/")?"NODE":jr.Bun&&typeof Bun.version=="string"?"BUN":jr.Deno&&typeof Deno.version=="object"?"DENO":Kg(jr.process)==="process"?"NODE":jr.window&&jr.document?"BROWSER":"REST"}(),Hg=El,ma=Hg==="NODE",qg=te.f,Jg=H,Yg=F,ou=Yg("toStringTag"),Jn=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Jg(e,ou)&&qg(e,ou,{configurable:!0,value:r})},Zg=ee,Qg=Kn,Xg=F,eb=W,au=Xg("species"),Il=function(e){var r=Zg(e);eb&&r&&!r[au]&&Qg(r,au,{configurable:!0,get:function(){return this}})},rb=_,tb=M,Tl=j,nb=Gn,ib=ee,ob=na,Ol=function(){},Pl=ib("Reflect","construct"),ga=/^\s*(?:class|function)\b/,ab=rb(ga.exec),sb=!ga.test(Ol),Nr=function(r){if(!Tl(r))return!1;try{return Pl(Ol,[],r),!0}catch{return!1}},xl=function(r){if(!Tl(r))return!1;switch(nb(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return sb||!!ab(ga,ob(r))}catch{return!0}};xl.sham=!0;var ub=!Pl||tb(function(){var e;return Nr(Nr.call)||!Nr(Object)||!Nr(function(){e=!0})||e})?xl:Nr,cb=ub,lb=Ln,fb=TypeError,vb=function(e){if(cb(e))return e;throw new fb(lb(e)+" is not a constructor")},su=ne,db=vb,hb=Ye,pb=F,yb=pb("species"),mb=function(e,r){var t=su(e).constructor,n;return t===void 0||hb(n=su(t)[yb])?r:db(n)},gb=_,Rl=gb([].slice),bb=TypeError,Sb=function(e,r){if(e<r)throw new bb("Not enough arguments");return e},$b=ht,Al=/(?:ipad|iphone|ipod).*applewebkit/i.test($b),X=k,wb=tl,Eb=bt,uu=j,Ib=H,Cl=M,cu=vl,Tb=Rl,lu=ra,Ob=Sb,Pb=Al,xb=ma,xo=X.setImmediate,Ro=X.clearImmediate,Rb=X.process,zi=X.Dispatch,Ab=X.Function,fu=X.MessageChannel,Cb=X.String,Gi=0,zr={},vu="onreadystatechange",qr,Fe,Wi,Vi;Cl(function(){qr=X.location});var ba=function(e){if(Ib(zr,e)){var r=zr[e];delete zr[e],r()}},Ki=function(e){return function(){ba(e)}},du=function(e){ba(e.data)},hu=function(e){X.postMessage(Cb(e),qr.protocol+"//"+qr.host)};(!xo||!Ro)&&(xo=function(r){Ob(arguments.length,1);var t=uu(r)?r:Ab(r),n=Tb(arguments,1);return zr[++Gi]=function(){wb(t,void 0,n)},Fe(Gi),Gi},Ro=function(r){delete zr[r]},xb?Fe=function(e){Rb.nextTick(Ki(e))}:zi&&zi.now?Fe=function(e){zi.now(Ki(e))}:fu&&!Pb?(Wi=new fu,Vi=Wi.port2,Wi.port1.onmessage=du,Fe=Eb(Vi.postMessage,Vi)):X.addEventListener&&uu(X.postMessage)&&!X.importScripts&&qr&&qr.protocol!=="file:"&&!Cl(hu)?(Fe=hu,X.addEventListener("message",du,!1)):vu in lu("script")?Fe=function(e){cu.appendChild(lu("script"))[vu]=function(){cu.removeChild(this),ba(e)}}:Fe=function(e){setTimeout(Ki(e),0)});var kl={set:xo,clear:Ro},pu=k,kb=W,Db=Object.getOwnPropertyDescriptor,jb=function(e){if(!kb)return pu[e];var r=Db(pu,e);return r&&r.value},Dl=function(){this.head=null,this.tail=null};Dl.prototype={add:function(e){var r={item:e,next:null},t=this.tail;t?t.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e){var r=this.head=e.next;return r===null&&(this.tail=null),e.item}}};var jl=Dl,Nb=ht,_b=/ipad|iphone|ipod/i.test(Nb)&&typeof Pebble<"u",Fb=ht,Mb=/web0s(?!.*chrome)/i.test(Fb),wr=k,Lb=jb,yu=bt,Hi=kl.set,Ub=jl,Bb=Al,zb=_b,Gb=Mb,qi=ma,mu=wr.MutationObserver||wr.WebKitMutationObserver,gu=wr.document,bu=wr.process,Lt=wr.Promise,Ao=Lb("queueMicrotask"),or,Ji,Yi,Ut,Su;if(!Ao){var Bt=new Ub,zt=function(){var e,r;for(qi&&(e=bu.domain)&&e.exit();r=Bt.get();)try{r()}catch(t){throw Bt.head&&or(),t}e&&e.enter()};!Bb&&!qi&&!Gb&&mu&&gu?(Ji=!0,Yi=gu.createTextNode(""),new mu(zt).observe(Yi,{characterData:!0}),or=function(){Yi.data=Ji=!Ji}):!zb&&Lt&&Lt.resolve?(Ut=Lt.resolve(void 0),Ut.constructor=Lt,Su=yu(Ut.then,Ut),or=function(){Su(zt)}):qi?or=function(){bu.nextTick(zt)}:(Hi=yu(Hi,wr),or=function(){Hi(zt)}),Ao=function(e){Bt.head||or(),Bt.add(e)}}var Wb=Ao,Vb=function(e,r){try{arguments.length===1?console.error(e):console.error(e,r)}catch{}},Sa=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}},Kb=k,Yn=Kb.Promise,Hb=k,Gr=Yn,qb=j,Jb=ca,Yb=na,Zb=F,$u=El,Zi=_c;Gr&&Gr.prototype;var Qb=Zb("species"),Co=!1,Nl=qb(Hb.PromiseRejectionEvent),Xb=Jb("Promise",function(){var e=Yb(Gr),r=e!==String(Gr);if(!r&&Zi===66)return!0;if(!Zi||Zi<51||!/native code/.test(e)){var t=new Gr(function(o){o(1)}),n=function(o){o(function(){},function(){})},i=t.constructor={};if(i[Qb]=n,Co=t.then(function(){})instanceof n,!Co)return!0}return!r&&($u==="BROWSER"||$u==="DENO")&&!Nl}),St={CONSTRUCTOR:Xb,REJECTION_EVENT:Nl,SUBCLASSING:Co},Xe={},wu=re,eS=TypeError,rS=function(e){var r,t;this.promise=new e(function(n,i){if(r!==void 0||t!==void 0)throw new eS("Bad Promise constructor");r=n,t=i}),this.resolve=wu(r),this.reject=wu(t)};Xe.f=function(e){return new rS(e)};var tS=q,Sn=ma,De=k,Er=V,Eu=Q,Iu=mt,nS=Jn,iS=Il,oS=re,an=j,aS=K,sS=gt,uS=mb,_l=kl.set,$a=Wb,cS=Vb,lS=Sa,fS=jl,Fl=pt,$n=Yn,wa=St,Ml=Xe,Zn="Promise",Ll=wa.CONSTRUCTOR,vS=wa.REJECTION_EVENT,dS=wa.SUBCLASSING,Qi=Fl.getterFor(Zn),hS=Fl.set,ar=$n&&$n.prototype,Me=$n,Gt=ar,Ul=De.TypeError,ko=De.document,Ea=De.process,Do=Ml.f,pS=Do,yS=!!(ko&&ko.createEvent&&De.dispatchEvent),Bl="unhandledrejection",mS="rejectionhandled",Tu=0,zl=1,gS=2,Ia=1,Gl=2,Wt,Ou,bS,Pu,Wl=function(e){var r;return aS(e)&&an(r=e.then)?r:!1},Vl=function(e,r){var t=r.value,n=r.state===zl,i=n?e.ok:e.fail,o=e.resolve,a=e.reject,s=e.domain,u,c,l;try{i?(n||(r.rejection===Gl&&$S(r),r.rejection=Ia),i===!0?u=t:(s&&s.enter(),u=i(t),s&&(s.exit(),l=!0)),u===e.promise?a(new Ul("Promise-chain cycle")):(c=Wl(u))?Er(c,u,o,a):o(u)):a(t)}catch(f){s&&!l&&s.exit(),a(f)}},Kl=function(e,r){e.notified||(e.notified=!0,$a(function(){for(var t=e.reactions,n;n=t.get();)Vl(n,e);e.notified=!1,r&&!e.rejection&&SS(e)}))},Hl=function(e,r,t){var n,i;yS?(n=ko.createEvent("Event"),n.promise=r,n.reason=t,n.initEvent(e,!1,!0),De.dispatchEvent(n)):n={promise:r,reason:t},!vS&&(i=De["on"+e])?i(n):e===Bl&&cS("Unhandled promise rejection",t)},SS=function(e){Er(_l,De,function(){var r=e.facade,t=e.value,n=xu(e),i;if(n&&(i=lS(function(){Sn?Ea.emit("unhandledRejection",t,r):Hl(Bl,r,t)}),e.rejection=Sn||xu(e)?Gl:Ia,i.error))throw i.value})},xu=function(e){return e.rejection!==Ia&&!e.parent},$S=function(e){Er(_l,De,function(){var r=e.facade;Sn?Ea.emit("rejectionHandled",r):Hl(mS,r,e.value)})},cr=function(e,r,t){return function(n){e(r,n,t)}},lr=function(e,r,t){e.done||(e.done=!0,t&&(e=t),e.value=r,e.state=gS,Kl(e,!0))},jo=function(e,r,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===r)throw new Ul("Promise can't be resolved itself");var n=Wl(r);n?$a(function(){var i={done:!1};try{Er(n,r,cr(jo,i,e),cr(lr,i,e))}catch(o){lr(i,o,e)}}):(e.value=r,e.state=zl,Kl(e,!1))}catch(i){lr({done:!1},i,e)}}};if(Ll&&(Me=function(r){sS(this,Gt),oS(r),Er(Wt,this);var t=Qi(this);try{r(cr(jo,t),cr(lr,t))}catch(n){lr(t,n)}},Gt=Me.prototype,Wt=function(r){hS(this,{type:Zn,done:!1,notified:!1,parent:!1,reactions:new fS,rejection:!1,state:Tu,value:void 0})},Wt.prototype=Eu(Gt,"then",function(r,t){var n=Qi(this),i=Do(uS(this,Me));return n.parent=!0,i.ok=an(r)?r:!0,i.fail=an(t)&&t,i.domain=Sn?Ea.domain:void 0,n.state===Tu?n.reactions.add(i):$a(function(){Vl(i,n)}),i.promise}),Ou=function(){var e=new Wt,r=Qi(e);this.promise=e,this.resolve=cr(jo,r),this.reject=cr(lr,r)},Ml.f=Do=function(e){return e===Me||e===bS?new Ou(e):pS(e)},an($n)&&ar!==Object.prototype)){Pu=ar.then,dS||Eu(ar,"then",function(r,t){var n=this;return new Me(function(i,o){Er(Pu,n,i,o)}).then(r,t)},{unsafe:!0});try{delete ar.constructor}catch{}Iu&&Iu(ar,Gt)}tS({global:!0,constructor:!0,wrap:!0,forced:Ll},{Promise:Me});nS(Me,Zn,!1);iS(Zn);var Qn={},wS=F,ES=Qn,IS=wS("iterator"),TS=Array.prototype,OS=function(e){return e!==void 0&&(ES.Array===e||TS[IS]===e)},PS=Gn,Ru=Ar,xS=Ye,RS=Qn,AS=F,CS=AS("iterator"),ql=function(e){if(!xS(e))return Ru(e,CS)||Ru(e,"@@iterator")||RS[PS(e)]},kS=V,DS=re,jS=ne,NS=Ln,_S=ql,FS=TypeError,MS=function(e,r){var t=arguments.length<2?_S(e):r;if(DS(t))return jS(kS(t,e));throw new FS(NS(e)+" is not iterable")},LS=V,Au=ne,US=Ar,BS=function(e,r,t){var n,i;Au(e);try{if(n=US(e,"return"),!n){if(r==="throw")throw t;return t}n=LS(n,e)}catch(o){i=!0,n=o}if(r==="throw")throw t;if(i)throw n;return Au(n),t},zS=bt,GS=V,WS=ne,VS=Ln,KS=OS,HS=Qc,Cu=dt,qS=MS,JS=ql,ku=BS,YS=TypeError,sn=function(e,r){this.stopped=e,this.result=r},Du=sn.prototype,Xn=function(e,r,t){var n=t&&t.that,i=!!(t&&t.AS_ENTRIES),o=!!(t&&t.IS_RECORD),a=!!(t&&t.IS_ITERATOR),s=!!(t&&t.INTERRUPTED),u=zS(r,n),c,l,f,v,d,h,y,g=function($){return c&&ku(c,"normal",$),new sn(!0,$)},m=function($){return i?(WS($),s?u($[0],$[1],g):u($[0],$[1])):s?u($,g):u($)};if(o)c=e.iterator;else if(a)c=e;else{if(l=JS(e),!l)throw new YS(VS(e)+" is not iterable");if(KS(l)){for(f=0,v=HS(e);v>f;f++)if(d=m(e[f]),d&&Cu(Du,d))return d;return new sn(!1)}c=qS(e,l)}for(h=o?e.next:c.next;!(y=GS(h,c)).done;){try{d=m(y.value)}catch($){ku(c,"throw",$)}if(typeof d=="object"&&d&&Cu(Du,d))return d}return new sn(!1)},ZS=F,Jl=ZS("iterator"),Yl=!1;try{var QS=0,ju={next:function(){return{done:!!QS++}},return:function(){Yl=!0}};ju[Jl]=function(){return this},Array.from(ju,function(){throw 2})}catch{}var Zl=function(e,r){try{if(!r&&!Yl)return!1}catch{return!1}var t=!1;try{var n={};n[Jl]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},XS=Yn,e$=Zl,r$=St.CONSTRUCTOR,Ql=r$||!e$(function(e){XS.all(e).then(void 0,function(){})}),t$=q,n$=V,i$=re,o$=Xe,a$=Sa,s$=Xn,u$=Ql;t$({target:"Promise",stat:!0,forced:u$},{all:function(r){var t=this,n=o$.f(t),i=n.resolve,o=n.reject,a=a$(function(){var s=i$(t.resolve),u=[],c=0,l=1;s$(r,function(f){var v=c++,d=!1;l++,n$(s,t,f).then(function(h){d||(d=!0,u[v]=h,--l||i(u))},o)}),--l||i(u)});return a.error&&o(a.value),n.promise}});var c$=q,l$=St.CONSTRUCTOR,No=Yn,f$=ee,v$=j,d$=Q,Nu=No&&No.prototype;c$({target:"Promise",proto:!0,forced:l$,real:!0},{catch:function(e){return this.then(void 0,e)}});if(v$(No)){var _u=f$("Promise").prototype.catch;Nu.catch!==_u&&d$(Nu,"catch",_u,{unsafe:!0})}var h$=q,p$=V,y$=re,m$=Xe,g$=Sa,b$=Xn,S$=Ql;h$({target:"Promise",stat:!0,forced:S$},{race:function(r){var t=this,n=m$.f(t),i=n.reject,o=g$(function(){var a=y$(t.resolve);b$(r,function(s){p$(a,t,s).then(n.resolve,i)})});return o.error&&i(o.value),n.promise}});var $$=q,w$=Xe,E$=St.CONSTRUCTOR;$$({target:"Promise",stat:!0,forced:E$},{reject:function(r){var t=w$.f(this),n=t.reject;return n(r),t.promise}});var I$=ne,T$=K,O$=Xe,P$=function(e,r){if(I$(e),T$(r)&&r.constructor===e)return r;var t=O$.f(e),n=t.resolve;return n(r),t.promise},x$=q,R$=ee,A$=St.CONSTRUCTOR,C$=P$;R$("Promise");x$({target:"Promise",stat:!0,forced:A$},{resolve:function(r){return C$(this,r)}});var k$=q,wn=W,Xl=ee,Fu=re,D$=gt,ef=Q,j$=ha,N$=Kn,rf=F,tf=pt,Xi=gl,Mu=Xl("Promise"),_$=Xl("SuppressedError"),F$=ReferenceError,M$=rf("asyncDispose"),L$=rf("toStringTag"),ei="AsyncDisposableStack",U$=tf.set,En=tf.getterFor(ei),eo="async-dispose",Wr="disposed",B$="pending",Vt=function(e){var r=En(e);if(r.state===Wr)throw new F$(ei+" already disposed");return r},Ta=function(){U$(D$(this,Ir),{type:ei,state:B$,stack:[]}),wn||(this.disposed=!1)},Ir=Ta.prototype;j$(Ir,{disposeAsync:function(){var r=this;return new Mu(function(t,n){var i=En(r);if(i.state===Wr)return t(void 0);i.state=Wr,wn||(r.disposed=!0);var o=i.stack,a=o.length,s=!1,u,c=function(f){s?u=new _$(f,u):(s=!0,u=f),l()},l=function(){if(a){var f=o[--a];o[a]=void 0;try{Mu.resolve(f()).then(l,c)}catch(v){c(v)}}else i.stack=void 0,s?n(u):t(void 0)};l()})},use:function(r){return Xi(Vt(this),r,eo),r},adopt:function(r,t){var n=Vt(this);return Fu(t),Xi(n,void 0,eo,function(){return t(r)}),r},defer:function(r){var t=Vt(this);Fu(r),Xi(t,void 0,eo,r)},move:function(){var r=Vt(this),t=new Ta;return En(t).stack=r.stack,r.stack=[],r.state=Wr,wn||(this.disposed=!0),t}});wn&&N$(Ir,"disposed",{configurable:!0,get:function(){return En(this).state===Wr}});ef(Ir,M$,Ir.disposeAsync,{name:"disposeAsync"});ef(Ir,L$,ei,{nonWritable:!0});k$({global:!0,constructor:!0},{AsyncDisposableStack:Ta});var nf=k,of=Un,af=j,Kt=Wn,z$=Q,G$=F,Lu="USE_FUNCTION_CONSTRUCTOR",Uu=G$("asyncIterator"),Bu=nf.AsyncIterator,zu=of.AsyncIteratorPrototype,Ce,ro;if(zu)Ce=zu;else if(af(Bu))Ce=Bu.prototype;else if(of[Lu]||nf[Lu])try{ro=Kt(Kt(Kt(Function("return async function*(){}()")()))),Kt(ro)===Object.prototype&&(Ce=ro)}catch{}Ce||(Ce={});af(Ce[Uu])||z$(Ce,Uu,function(){return this});var W$=Ce,V$=V,K$=Q,H$=ee,q$=Ar,J$=H,Y$=F,Gu=W$,Wu=Y$("asyncDispose"),Vu=H$("Promise");J$(Gu,Wu)||K$(Gu,Wu,function(){var e=this;return new Vu(function(r,t){var n=q$(e,"return");n?Vu.resolve(V$(n,e)).then(function(){r(void 0)},t):r(void 0)})});var Z$=qn;Z$.AsyncDisposableStack;var ri={},Q$=F;ri.f=Q$;var Ku=qn,X$=H,ew=ri,rw=te.f,sf=function(e){var r=Ku.Symbol||(Ku.Symbol={});X$(r,e)||rw(r,e,{value:ew.f(e)})},tw=k,nw=sf,iw=te.f,ow=lt.f,to=tw.Symbol;nw("asyncDispose");if(to){var Ht=ow(to,"asyncDispose");Ht.enumerable&&Ht.configurable&&Ht.writable&&iw(to,"asyncDispose",{value:Ht.value,enumerable:!1,configurable:!1,writable:!1})}var aw=ri;aw.f("asyncDispose");var sw=k,uw=sf,cw=te.f,lw=lt.f,no=sw.Symbol;uw("dispose");if(no){var qt=lw(no,"dispose");qt.enumerable&&qt.configurable&&qt.writable&&cw(no,"dispose",{value:qt.value,enumerable:!1,configurable:!1,writable:!1})}var fw=ri;fw.f("dispose");var uf={exports:{}},cf={},vw=Rr,dw=vt,lf=zn.f,hw=Rl,ff=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],pw=function(e){try{return lf(e)}catch{return hw(ff)}};cf.f=function(r){return ff&&vw(r)==="Window"?pw(r):lf(dw(r))};var yw=M,mw=yw(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),gw=M,bw=K,Sw=Rr,Hu=mw,un=Object.isExtensible,$w=gw(function(){un(1)}),ww=$w||Hu?function(r){return!bw(r)||Hu&&Sw(r)==="ArrayBuffer"?!1:un?un(r):!0}:un,Ew=M,Iw=!Ew(function(){return Object.isExtensible(Object.preventExtensions({}))}),Tw=q,Ow=_,Pw=Bn,xw=K,Oa=H,Rw=te.f,qu=zn,Aw=cf,Pa=ww,Cw=ea,kw=Iw,vf=!1,be=Cw("meta"),Dw=0,xa=function(e){Rw(e,be,{value:{objectID:"O"+Dw++,weakData:{}}})},jw=function(e,r){if(!xw(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Oa(e,be)){if(!Pa(e))return"F";if(!r)return"E";xa(e)}return e[be].objectID},Nw=function(e,r){if(!Oa(e,be)){if(!Pa(e))return!0;if(!r)return!1;xa(e)}return e[be].weakData},_w=function(e){return kw&&vf&&Pa(e)&&!Oa(e,be)&&xa(e),e},Fw=function(){Mw.enable=function(){},vf=!0;var e=qu.f,r=Ow([].splice),t={};t[be]=1,e(t).length&&(qu.f=function(n){for(var i=e(n),o=0,a=i.length;o<a;o++)if(i[o]===be){r(i,o,1);break}return i},Tw({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Aw.f}))},Mw=uf.exports={enable:Fw,fastKey:jw,getWeakData:Nw,onFreeze:_w};Pw[be]=!0;var df=uf.exports,Lw=q,Uw=k,Bw=_,Ju=ca,zw=Q,Gw=df,Ww=Xn,Vw=gt,Kw=j,Hw=Ye,io=K,oo=M,qw=Zl,Jw=Jn,Yw=il,Zw=function(e,r,t){var n=e.indexOf("Map")!==-1,i=e.indexOf("Weak")!==-1,o=n?"set":"add",a=Uw[e],s=a&&a.prototype,u=a,c={},l=function(m){var $=Bw(s[m]);zw(s,m,m==="add"?function(D){return $(this,D===0?0:D),this}:m==="delete"?function(x){return i&&!io(x)?!1:$(this,x===0?0:x)}:m==="get"?function(D){return i&&!io(D)?void 0:$(this,D===0?0:D)}:m==="has"?function(D){return i&&!io(D)?!1:$(this,D===0?0:D)}:function(D,pe){return $(this,D===0?0:D,pe),this})},f=Ju(e,!Kw(a)||!(i||s.forEach&&!oo(function(){new a().entries().next()})));if(f)u=t.getConstructor(r,e,n,o),Gw.enable();else if(Ju(e,!0)){var v=new u,d=v[o](i?{}:-0,1)!==v,h=oo(function(){v.has(1)}),y=qw(function(m){new a(m)}),g=!i&&oo(function(){for(var m=new a,$=5;$--;)m[o]($,$);return!m.has(-0)});y||(u=r(function(m,$){Vw(m,s);var x=Yw(new a,m,u);return Hw($)||Ww($,x[o],{that:x,AS_ENTRIES:n}),x}),u.prototype=s,s.constructor=u),(h||g)&&(l("delete"),l("has"),n&&l("get")),(g||d)&&l(o),i&&s.clear&&delete s.clear}return c[e]=u,Lw({global:!0,constructor:!0,forced:u!==a},c),Jw(u,e),i||t.setStrong(u,e,n),u},Qw=ya.IteratorPrototype,Xw=da,eE=ft,rE=Jn,tE=Qn,nE=function(){return this},iE=function(e,r,t,n){var i=r+" Iterator";return e.prototype=Xw(Qw,{next:eE(+!n,t)}),rE(e,i,!1),tE[i]=nE,e},oE=q,aE=V,hf=qc,sE=j,uE=iE,Yu=Wn,Zu=mt,cE=Jn,lE=Ze,ao=Q,fE=F,vE=Qn,pf=ya,dE=hf.PROPER,hE=hf.CONFIGURABLE,Qu=pf.IteratorPrototype,Jt=pf.BUGGY_SAFARI_ITERATORS,_r=fE("iterator"),Xu="keys",Fr="values",ec="entries",pE=function(){return this},yE=function(e,r,t,n,i,o,a){uE(t,r,n);var s=function(m){if(m===i&&v)return v;if(!Jt&&m&&m in l)return l[m];switch(m){case Xu:return function(){return new t(this,m)};case Fr:return function(){return new t(this,m)};case ec:return function(){return new t(this,m)}}return function(){return new t(this)}},u=r+" Iterator",c=!1,l=e.prototype,f=l[_r]||l["@@iterator"]||i&&l[i],v=!Jt&&f||s(i),d=r==="Array"&&l.entries||f,h,y,g;if(d&&(h=Yu(d.call(new e)),h!==Object.prototype&&h.next&&(Yu(h)!==Qu&&(Zu?Zu(h,Qu):sE(h[_r])||ao(h,_r,pE)),cE(h,u,!0))),dE&&i===Fr&&f&&f.name!==Fr&&(hE?lE(l,"name",Fr):(c=!0,v=function(){return aE(f,this)})),i)if(y={values:s(Fr),keys:o?v:s(Xu),entries:s(ec)},a)for(g in y)(Jt||c||!(g in l))&&ao(l,g,y[g]);else oE({target:r,proto:!0,forced:Jt||c},y);return l[_r]!==v&&ao(l,_r,v,{name:i}),vE[r]=v,y},mE=function(e,r){return{value:e,done:r}},rc=da,gE=Kn,tc=ha,bE=bt,SE=gt,$E=Ye,wE=Xn,EE=yE,Yt=mE,IE=Il,Mr=W,nc=df.fastKey,yf=pt,ic=yf.set,so=yf.getterFor,TE={getConstructor:function(e,r,t,n){var i=e(function(c,l){SE(c,o),ic(c,{type:r,index:rc(null),first:void 0,last:void 0,size:0}),Mr||(c.size=0),$E(l)||wE(l,c[n],{that:c,AS_ENTRIES:t})}),o=i.prototype,a=so(r),s=function(c,l,f){var v=a(c),d=u(c,l),h,y;return d?d.value=f:(v.last=d={index:y=nc(l,!0),key:l,value:f,previous:h=v.last,next:void 0,removed:!1},v.first||(v.first=d),h&&(h.next=d),Mr?v.size++:c.size++,y!=="F"&&(v.index[y]=d)),c},u=function(c,l){var f=a(c),v=nc(l),d;if(v!=="F")return f.index[v];for(d=f.first;d;d=d.next)if(d.key===l)return d};return tc(o,{clear:function(){for(var l=this,f=a(l),v=f.first;v;)v.removed=!0,v.previous&&(v.previous=v.previous.next=void 0),v=v.next;f.first=f.last=void 0,f.index=rc(null),Mr?f.size=0:l.size=0},delete:function(c){var l=this,f=a(l),v=u(l,c);if(v){var d=v.next,h=v.previous;delete f.index[v.index],v.removed=!0,h&&(h.next=d),d&&(d.previous=h),f.first===v&&(f.first=d),f.last===v&&(f.last=h),Mr?f.size--:l.size--}return!!v},forEach:function(l){for(var f=a(this),v=bE(l,arguments.length>1?arguments[1]:void 0),d;d=d?d.next:f.first;)for(v(d.value,d.key,this);d&&d.removed;)d=d.previous},has:function(l){return!!u(this,l)}}),tc(o,t?{get:function(l){var f=u(this,l);return f&&f.value},set:function(l,f){return s(this,l===0?0:l,f)}}:{add:function(l){return s(this,l=l===0?0:l,l)}}),Mr&&gE(o,"size",{configurable:!0,get:function(){return a(this).size}}),i},setStrong:function(e,r,t){var n=r+" Iterator",i=so(r),o=so(n);EE(e,r,function(a,s){ic(this,{type:n,target:a,state:i(a),kind:s,last:void 0})},function(){for(var a=o(this),s=a.kind,u=a.last;u&&u.removed;)u=u.previous;return!a.target||!(a.last=u=u?u.next:a.state.first)?(a.target=void 0,Yt(void 0,!0)):Yt(s==="keys"?u.key:s==="values"?u.value:[u.key,u.value],!1)},t?"entries":"values",!t,!0),IE(r)}},OE=Zw,PE=TE;OE("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},PE);var uo=_,Zt=Set.prototype,$t={Set,add:uo(Zt.add),has:uo(Zt.has),remove:uo(Zt.delete),proto:Zt},xE=$t.has,RE=function(e){return xE(e),e},AE=V,mf=function(e,r,t){for(var n=t?e:e.iterator,i=e.next,o,a;!(o=AE(i,n)).done;)if(a=r(o.value),a!==void 0)return a},gf=_,CE=mf,bf=$t,kE=bf.Set,Sf=bf.proto,DE=gf(Sf.forEach),$f=gf(Sf.keys),jE=$f(new kE).next,wf=function(e,r,t){return t?CE({iterator:$f(e),next:jE},r):DE(e,r)},Ef=$t,NE=wf,_E=Ef.Set,FE=Ef.add,ME=function(e){var r=new _E;return NE(e,function(t){FE(r,t)}),r},LE=nl,UE=$t,BE=LE(UE.proto,"size","get")||function(e){return e.size},zE=function(e){return{iterator:e,next:e.next,done:!1}},oc=re,If=ne,ac=V,GE=aa,WE=zE,sc="Invalid size",VE=RangeError,KE=TypeError,HE=Math.max,Tf=function(e,r){this.set=e,this.size=HE(r,0),this.has=oc(e.has),this.keys=oc(e.keys)};Tf.prototype={getIterator:function(){return WE(If(ac(this.keys,this.set)))},includes:function(e){return ac(this.has,this.set,e)}};var qE=function(e){If(e);var r=+e.size;if(r!==r)throw new KE(sc);var t=GE(r);if(t<0)throw new VE(sc);return new Tf(e,t)},JE=RE,Of=$t,YE=ME,ZE=BE,QE=qE,XE=wf,e0=mf,r0=Of.has,uc=Of.remove,t0=function(r){var t=JE(this),n=QE(r),i=YE(t);return ZE(t)<=n.size?XE(t,function(o){n.includes(o)&&uc(i,o)}):e0(n.getIterator(),function(o){r0(t,o)&&uc(i,o)}),i},n0=ee,cc=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},i0=function(e){var r=n0("Set");try{new r()[e](cc(0));try{return new r()[e](cc(-1)),!1}catch{return!0}}catch{return!1}},o0=q,a0=t0,s0=i0;o0({target:"Set",proto:!0,real:!0,forced:!s0("difference")},{difference:a0});var u0=k,c0=_,l0=function(e,r){return c0(u0[e].prototype[r])},f0=l0;f0("Set","difference");var v0=q,d0=Xe;v0({target:"Promise",stat:!0},{withResolvers:function(){var r=d0.f(this);return{promise:r.promise,resolve:r.resolve,reject:r.reject}}});var h0=qn,p0=h0.Promise;p0.withResolvers;const y0=!1,m0=!1,Ue=class Ue{constructor(r,t){P(this,"name");P(this,"message");P(this,"cause");P(this,"stack");this.name=this.constructor===Ue?"Error":this.constructor.name,this.message=r,this.cause=t,this.stack=Ue.isStackTraceEnabled?$0(new Error(r).stack,{skip:1}):void 0}toString(){var t;const r=this.constructor===Ue?"Error":this.name;if(this.cause){const n="Caused by ".concat(Jr(In(this.cause),2));return"".concat(r,": ").concat(this.message,"\n").concat(n)}return"".concat(r,": ").concat(this.message,"\n").concat(Jr((t=this.stack)!=null?t:"",2))}[Symbol.toStringTag](){return this.toString()}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause instanceof Ue?this.cause:Ra(this.cause)}}};P(Ue,"isStackTraceEnabled",!m0);let ce=Ue;function Ra(e){if(e!==void 0)return e instanceof ce?e.toJSON():{name:e.name,message:e.message,stack:e.stack,cause:e.cause instanceof Error?Ra(e.cause):e.cause}}function wt(e){if(e instanceof ce)return e;if(e instanceof Error){const r=new ce(e.message);return Reflect.set(r,"name",e.name),Reflect.set(r,"stack",e.stack),e.cause&&Reflect.set(r,"cause",wt(e.cause)),r}return g0(e)?Pf(e):new b0(e)}function g0(e){return typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}function Pf(e){const{message:r,name:t,cause:n,stack:i}=e,o=new ce(String(r!=null?r:"Unknown error"));return t&&Reflect.set(o,"name",String(t)),i&&Reflect.set(o,"stack",String(i)),n&&Reflect.set(o,"cause",Pf(n)),o}class b0 extends ce{constructor(t){super("An unknown error occurred: "+String(t));P(this,"thrownError");this.thrownError=t}toJSON(){return{...super.toJSON(),thrownError:this.thrownError}}}let wP=class extends ce{constructor(){super("Object has been disposed")}};class S0 extends ce{constructor(t){super("Unreachable case: ".concat(String(t)));P(this,"value");this.value=t}}class ti extends ce{constructor(t,n="Multiple errors occurred"){super(n);P(this,"errors");this.errors=t.flatMap(i=>i instanceof ti?i.errors:[i])}toString(){if(this.errors.length===1)return In(this.errors[0]);const t=String(this.errors.length).length+2;return"AggregateError: "+this.message+"\n"+this.errors.map((n,i)=>"".concat(i+1,". ").padStart(t)+Jr(In(n),t)).join("\n")}toJSON(){return{...super.toJSON(),errors:this.errors.map(Ra)}}}function In(e){var r;if(e instanceof ce)return e.toString();if(e.cause){const t="Caused by ".concat(Jr(In(wt(e.cause)),2));return"".concat(e.name,": ").concat(e.message,"\n").concat(t)}return"".concat(e.name,": ").concat(e.message,"\n").concat(Jr((r=e.stack)!=null?r:"",2))}function Jr(e,r){const t=" ".repeat(r);return e.replace(/^(?!Caused by )/gm,t).trimStart()}function $0(e,r){if(!e)return;const t=e.split("\n");return t.splice(1,r.skip),t.join("\n")}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Aa=Symbol("Comlink.proxy"),w0=Symbol("Comlink.endpoint"),Ca=Symbol("Comlink.releaseProxy"),co=Symbol("Comlink.finalizer"),cn=Symbol("Comlink.thrown"),xf=e=>typeof e=="object"&&e!==null||typeof e=="function",E0={canHandle:e=>xf(e)&&e[Aa],serialize(e){const{port1:r,port2:t}=new MessageChannel;return ni(e,r),[t,[t]]},deserialize(e){return e.start(),ka(e)}},I0={canHandle:e=>xf(e)&&cn in e,serialize({value:e}){let r;return e instanceof Error?r={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:r={isError:!1,value:e},[r,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},Tr=new Map([["proxy",E0],["throw",I0]]);function T0(e,r){for(const t of e)if(r===t||t==="*"||t instanceof RegExp&&t.test(r))return!0;return!1}function ni(e,r=globalThis,t=["*"]){r.addEventListener("message",function n(i){if(!i||!i.data)return;if(!T0(t,i.origin)){console.warn("Invalid origin '".concat(i.origin,"' for comlink proxy"));return}const{id:o,type:a,path:s}=Object.assign({path:[]},i.data),u=(i.data.argumentList||[]).map(Le);let c;try{const l=s.slice(0,-1).reduce((v,d)=>v[d],e),f=s.reduce((v,d)=>v[d],e);switch(a){case"GET":c=f;break;case"SET":l[s.slice(-1)[0]]=Le(i.data.value),c=!0;break;case"APPLY":c=f.apply(l,u);break;case"CONSTRUCT":{const v=new f(...u);c=ii(v)}break;case"ENDPOINT":{const{port1:v,port2:d}=new MessageChannel;ni(e,d),c=kf(v,[v])}break;case"RELEASE":c=void 0;break;default:return}}catch(l){c={value:l,[cn]:0}}Promise.resolve(c).catch(l=>({value:l,[cn]:0})).then(l=>{const[f,v]=Pn(l);r.postMessage(Object.assign(Object.assign({},f),{id:o}),v),a==="RELEASE"&&(r.removeEventListener("message",n),Rf(r),co in e&&typeof e[co]=="function"&&e[co]())}).catch(l=>{const[f,v]=Pn({value:new TypeError("Unserializable return value"),[cn]:0});r.postMessage(Object.assign(Object.assign({},f),{id:o}),v)})}),r.start&&r.start()}function O0(e){return e.constructor.name==="MessagePort"}function Rf(e){O0(e)&&e.close()}function ka(e,r){return _o(e,[],r)}function Qt(e){if(e)throw new Error("Proxy has been released and is not useable")}function Af(e){return sr(e,{type:"RELEASE"}).then(()=>{Rf(e)})}const Tn=new WeakMap,On="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const r=(Tn.get(e)||0)-1;Tn.set(e,r),r===0&&Af(e)});function P0(e,r){const t=(Tn.get(r)||0)+1;Tn.set(r,t),On&&On.register(e,r,e)}function x0(e){On&&On.unregister(e)}function _o(e,r=[],t=function(){}){let n=!1;const i=new Proxy(t,{get(o,a){if(Qt(n),a===Ca)return()=>{x0(i),Af(e),n=!0};if(a==="then"){if(r.length===0)return{then:()=>i};const s=sr(e,{type:"GET",path:r.map(u=>u.toString())}).then(Le);return s.then.bind(s)}return _o(e,[...r,a])},set(o,a,s){Qt(n);const[u,c]=Pn(s);return sr(e,{type:"SET",path:[...r,a].map(l=>l.toString()),value:u},c).then(Le)},apply(o,a,s){Qt(n);const u=r[r.length-1];if(u===w0)return sr(e,{type:"ENDPOINT"}).then(Le);if(u==="bind")return _o(e,r.slice(0,-1));const[c,l]=lc(s);return sr(e,{type:"APPLY",path:r.map(f=>f.toString()),argumentList:c},l).then(Le)},construct(o,a){Qt(n);const[s,u]=lc(a);return sr(e,{type:"CONSTRUCT",path:r.map(c=>c.toString()),argumentList:s},u).then(Le)}});return P0(i,e),i}function R0(e){return Array.prototype.concat.apply([],e)}function lc(e){const r=e.map(Pn);return[r.map(t=>t[0]),R0(r.map(t=>t[1]))]}const Cf=new WeakMap;function kf(e,r){return Cf.set(e,r),e}function ii(e){return Object.assign(e,{[Aa]:!0})}function Pn(e){for(const[r,t]of Tr)if(t.canHandle(e)){const[n,i]=t.serialize(e);return[{type:"HANDLER",name:r,value:n},i]}return[{type:"RAW",value:e},Cf.get(e)||[]]}function Le(e){switch(e.type){case"HANDLER":return Tr.get(e.name).deserialize(e.value);case"RAW":return e.value}}function sr(e,r,t){return new Promise(n=>{const i=A0();e.addEventListener("message",function o(a){!a.data||!a.data.id||a.data.id!==i||(e.removeEventListener("message",o),n(a.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:i},r),t)})}function A0(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const Df=Symbol("transferable");function jf(e){return Reflect.get(e,Df)}const xn=new Map;function Nf(e,r){return xn.set(r.stableUniqueIdentifier,new WeakRef(e)),Object.defineProperty(e,Df,{value:r,enumerable:!1,writable:!1,configurable:!1}),e}function C0(){const e=[];return xn.forEach((r,t)=>{const n=r.deref();n?e.push(n):xn.delete(t)}),e}function k0(){const e={},r=[];for(const t of C0()){const n=jf(t);if(n){const[i,o]=n.serialize(t);r.push(...o),e[n.stableUniqueIdentifier]=i}}return kf(e,r)}function D0(e){var r;for(const t in e){const n=(r=xn.get(t))==null?void 0:r.deref();if(!n)continue;const i=jf(n);i&&i.deserialize(e[t],n)}}function Da(e){return new Promise((r,t)=>{e.oncomplete=e.onsuccess=()=>r(e.result),e.onabort=e.onerror=()=>t(e.error)})}function j0(e,r){const t=indexedDB.open(e);t.onupgradeneeded=()=>t.result.createObjectStore(r);const n=Da(t);return(i,o)=>n.then(a=>o(a.transaction(r,i).objectStore(r)))}let lo;function _f(){return lo||(lo=j0("keyval-store","keyval")),lo}function N0(e,r=_f()){return r("readonly",t=>Da(t.get(e)))}function fc(e,r,t=_f()){return t("readwrite",n=>(n.put(r,e),Da(n.transaction)))}class Fo{constructor(){P(this,"writers",new Set)}write(r){for(const t of this.writers)t.write(r)}}var Ee,Zr,Ie,ue,Ff,Ur,ze,Mf;class vc{constructor(){E(this,ue);E(this,Ee,typeof window<"u"&&typeof window.document<"u");E(this,Zr,null);E(this,Ie,null);E(this,ze,new Map);p(this,Ee)&&(Reflect.get(globalThis,"DEBUG")||console.info('To filter log messages, set `DEBUG` variable, e.g. `DEBUG="app"` to see only "app" logs or `DEBUG=["*", "!app"]` to see all logs except "app".'))}write(r){switch(r.level){case"error":console.error(...R(this,ue,Ur).call(this,r),...r.args.map(Xt));break;case"warn":console.warn(...R(this,ue,Ur).call(this,r),...r.args.map(Xt));break;case"info":console.info(...R(this,ue,Ur).call(this,r),...r.args.map(Xt));break;case"verbose":if(r.logger&&!R(this,ue,Ff).call(this,r.logger))return;console.debug(...R(this,ue,Ur).call(this,r),...r.args.map(Xt));break}}}Ee=new WeakMap,Zr=new WeakMap,Ie=new WeakMap,ue=new WeakSet,Ff=function(r){if(p(this,Zr)!==JSON.stringify(Reflect.get(globalThis,"DEBUG"))){const t=Reflect.get(globalThis,"DEBUG");if(t&&t!=="*"){const n=(Array.isArray(t)?t.map(String):[String(t)]).map(u=>u.replace(/[*]/g,".*")),i=n.filter(u=>!u.startsWith("!")),o=n.filter(u=>u.startsWith("!")).map(u=>u.slice(1));o.length===0&&o.push("\0");const a=new RegExp("^(".concat(i.join("|"),")"),"i"),s=new RegExp("^(".concat(o.join("|"),")"),"i");p(this,Ee)&&console.info("Logs are filtered using `DEBUG` variable:",t,"inclusion:",a.source,"exclusion:",s.source),I(this,Ie,[a,s])}else I(this,Ie,null),p(this,Ee)&&console.info("Logs are not filtered.");I(this,Zr,JSON.stringify(t))}return p(this,Ie)?p(this,Ie)[0].test(r)&&!p(this,Ie)[1].test(r):y0},Ur=function(r){const t=p(this,Ee)?"Inkwell MAIN":"Inkwell WORK",n="background: ".concat(p(this,Ee)?"olive":"salmon","; color: white; padding: 2px 4px; border-radius: 2px; font-size: 0.6em; margin-right: 0.5em;"),i="";if(r.logger===null)return["%c".concat(t,"%c ").concat(new Date(r.timestamp).toISOString()," ").concat(r.text),n,i];const o=R(this,ue,Mf).call(this,r.logger),a=r.context!==null?"".concat(r.logger,"|").concat(r.context):r.logger,s="background: ".concat(o,"; color: white");return["%c".concat(t,"%c ").concat(new Date(r.timestamp).toISOString()," [").concat(a,"]%c ").concat(r.text),n,s,i]},ze=new WeakMap,Mf=function(r){var n;if(!r.includes("|"))return"black";const t=(n=r.split("|").pop())!=null?n:r;if(!p(this,ze).has(t)){const i=p(this,ze).size*137.508;p(this,ze).set(t,"hsl(".concat(i,", 100%, 20%)"))}return p(this,ze).get(t)};function Xt(e){return!e||typeof e!="object"||Array.isArray(e)?e:Symbol.iterator in e?"[Iterable ".concat(M0(e),"]"):_0(e)?F0(e):e}function _0(e){const r=Reflect.get(e,"toString");return!!(typeof r=="function"&&r!==Object.prototype.toString||Reflect.has(e,Symbol.toStringTag))}function F0(e){return String(e)}function M0(e){(Reflect.has(e,Symbol.toStringTag)||Reflect.has(e,"toString"))&&Reflect.get(e,Symbol.toStringTag);const r=Reflect.getPrototypeOf(e);return r!=null&&r.constructor?"".concat(r.constructor.name):"Object"}var Te,dr;const ns=class ns{constructor(){E(this,Te,[]);E(this,dr,null)}get messages(){return p(this,Te)}write(r){const t="".concat(new Date(r.timestamp).toISOString()," ").concat(r.level.toUpperCase()," ").concat(r.text," ").concat(r.args.map(L0).join(" "));p(this,dr)?p(this,dr).postMessage(t):p(this,Te).push(t)}clear(){p(this,Te).length=0}toTransferable(){const r=new MessageChannel;return r.port1.onmessage=t=>{typeof t.data=="string"&&p(this,Te).push(t.data)},{kind:"MemoryLogWriter",port:r.port2}}static fromTransferable(r){const t=new ns;return I(t,dr,r.port),t}async copyToClipboard(){const r=p(this,Te).sort().join("\n"),t=Reflect.get(globalThis,"copy");typeof t=="function"?t(r):await navigator.clipboard.writeText(r)}};Te=new WeakMap,dr=new WeakMap;let Rn=ns;function L0(e){if(!e||typeof e!="object"||Array.isArray(e))return e;if(Symbol.iterator in e)return"[Iterable ".concat(dc(e),"]");if(U0(e))return B0(e);try{return JSON.stringify(e,null,2)}catch{return"[Non-Serializable Object ".concat(dc(e),"]")}}function U0(e){const r=Reflect.get(e,"toString");return!!(typeof r=="function"&&r!==Object.prototype.toString||Reflect.has(e,Symbol.toStringTag))}function B0(e){return String(e)}function dc(e){(Reflect.has(e,Symbol.toStringTag)||Reflect.has(e,"toString"))&&Reflect.get(e,Symbol.toStringTag);const r=Reflect.getPrototypeOf(e);return r!=null&&r.constructor?"".concat(r.constructor.name):"Object"}var hr,Qr,Xr;class z0{constructor(r,t,n=null){E(this,hr);E(this,Qr);E(this,Xr);I(this,hr,t),I(this,Qr,n),I(this,Xr,r)}write(r){var t;p(this,Xr).write({...r,context:(t=r.context)!=null?t:p(this,Qr),logger:r.logger?"".concat(r.logger,"/").concat(p(this,hr)):p(this,hr)})}}hr=new WeakMap,Qr=new WeakMap,Xr=new WeakMap;var et,pr,Oe,yr,Nn,Lf;class hc{constructor({maximumTokens:r,tokensPerSecond:t}){E(this,Nn);E(this,et);E(this,pr);E(this,Oe);E(this,yr);I(this,et,Math.abs(t/1e3)),I(this,pr,Math.max(1,r)),I(this,Oe,p(this,pr)),I(this,yr,performance.now())}take(r=1){return this.canTake(r)?(I(this,Oe,p(this,Oe)-r),!0):!1}canTake(r=1){return R(this,Nn,Lf).call(this),p(this,Oe)>=r}}et=new WeakMap,pr=new WeakMap,Oe=new WeakMap,yr=new WeakMap,Nn=new WeakSet,Lf=function(){const r=performance.now(),t=Math.floor((r-p(this,yr))*p(this,et));t>0&&(I(this,Oe,Math.min(p(this,pr),p(this,Oe)+t)),I(this,yr,r))};var mr,rt;class G0{constructor({eventsPerSecond:r,eventsPerMinute:t}){E(this,mr);E(this,rt);I(this,mr,new hc({maximumTokens:r,tokensPerSecond:r})),I(this,rt,new hc({maximumTokens:t,tokensPerSecond:t/60}))}shouldSelect(){return p(this,mr).canTake()&&p(this,rt).take()&&p(this,mr).take()}}mr=new WeakMap,rt=new WeakMap;const W0={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b((([-a-zA-Z0-9()@%_\\+~#&//=\\[\\]])|([.:?](?!$|\\s)))*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"},caSSN:{regex:"[0-9]{3}[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{3}",prefixes:[],priority:5,description:"CA SIN"},ukSSN:{regex:"[A-Z]{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?[A-Z]",prefixes:[],priority:6,description:"UK NI NO"},iban:{regex:"[A-Z]{2}(-?|\\ )\\d{2}-?(?:\\ ?[A-Z]{4}-?)?(?:\\d{13,}|(?:\\ \\d{4}){3,5}\\ \\d{1,4})",prefixes:[],priority:7,description:"IBAN number"},variousID:{regex:"[A-Z]{0,2}(?:\\d{3,8}[\\ -])(?:\\d{2,8}[\\ -]){1,4}\\d{2,4}|\\d{7}[A-Z]?|\\d{5,18}",prefixes:[],priority:8,description:"Various ID number"}}};function V0({patterns:e}){return new RegExp(Object.entries(e).sort(([,{priority:r}],[,{priority:t}])=>r-t).map(([r,{regex:t,prefixes:n}])=>(t=n.length?"(".concat(n.join("|"),")").concat(t):t,"(?<".concat(r,">").concat(t,")"))).join("|"),"g")}function K0({prefixes:e,text:r},t){const n=e.find(i=>r.indexOf(i)===0);return n!==void 0?"".concat(n).concat(pc(r.slice(n.length),t)):pc(r,t)}const Uf=97,H0=122,Bf=65,q0=90,zf=48,J0=57,Y0=e=>e>=Uf&&e<=H0,Z0=e=>e>=Bf&&e<=q0,Q0=e=>e>=zf&&e<=J0;function pc(e,r){const t=new Array(e.length);let n=r;for(let i=e.length-1;i>=0;i--){const o=e.charCodeAt(i);Y0(o)?(t[i]=Uf+(i+n)%26,n/=26):Z0(o)?(t[i]=Bf+(i+n)%26,n/=26):Q0(o)?(t[i]=zf+(i+1+n)%10,n/=10):t[i]=o}return String.fromCharCode(...t)}function yc(e,{groups:r,index:t}){const[n,i]=Object.entries(r).find(([,a])=>a!==void 0),o=e.patterns[n];return{id:n,...o,text:i,start:t,end:t+i.length}}class X0{constructor(r){P(this,"dlpConfiguration");P(this,"dlpRegex");P(this,"seed",0);this.dlpConfiguration=r,this.dlpRegex=V0(this.dlpConfiguration)}matchAll(r){const t=[];for(this.dlpRegex.lastIndex=0;;){const n=this.dlpRegex.exec(r);if(!n)break;const i={groups:n.groups,index:n.index};t.push(yc(this.dlpConfiguration,i))}return this.dlpRegex.lastIndex=0,t}sanitizedReplacement(r){return K0(r,this.seed++)}sanitize(r){return r.replace(this.dlpRegex,(...t)=>{const n={groups:t[t.length-1],index:t[t.length-3]},i=yc(this.dlpConfiguration,n);return this.sanitizedReplacement(i)})}}class eI extends X0{sanitize(r){const t=super.sanitize(r);return this.seed=0,t}}const mc=new eI(W0),rI=mc.sanitize.bind(mc),tI={error:"ERROR",warn:"WARN",info:"INFO",verbose:"DEBUG"};var Ge,ve,tt,We,me,G,Mo,Gf,Wf,Lo,Uo;const is=class is{constructor(r){E(this,G);E(this,Ge,new Map);E(this,ve);E(this,tt);E(this,We,0);E(this,me,null);I(this,ve,r),I(this,tt,new G0({eventsPerSecond:r.logsPerSecond,eventsPerMinute:r.logsPerMinute}))}write(r){var t;if(r.level!=="verbose"){if(!p(this,tt).shouldSelect()){bi(this,We)._++;return}R(this,G,Gf).call(this,(t=r.delivery)!=null?t:{},R(this,G,Mo).call(this,r))}}[Symbol.dispose](){p(this,me)!==null&&(clearTimeout(p(this,me)),I(this,me,null)),R(this,G,Lo).call(this)}toTransferable(){return{kind:"FeLogWriter",options:p(this,ve)}}static fromTransferable(r){return new is(r.options)}};Ge=new WeakMap,ve=new WeakMap,tt=new WeakMap,We=new WeakMap,me=new WeakMap,G=new WeakSet,Mo=function(r){var t;return JSON.stringify({timestamp:r.timestamp,level:tI[r.level],message:r.text,logger:(t=r.logger)!=null?t:"root",application:p(this,ve).application,version:p(this,ve).version,client:p(this,ve).client,env:p(this,ve).environment,session:p(this,ve).sessionId,extra:r.level==="error"?r.args.slice(1):r.args,exception:r.level==="error"?r.args[0]:void 0},(n,i)=>typeof i=="string"?rI(i):i)},Gf=function(r,t){var o,a;const n="".concat((o=r.dataTier)!=null?o:"continuous",":").concat((a=r.retentionInDays)!=null?a:30),i=p(this,Ge).get(n);i?i.messages.push(t):p(this,Ge).set(n,{options:r,messages:[t]}),R(this,G,Wf).call(this)},Wf=function(){if(p(this,me)!==null)return;I(this,me,setTimeout(()=>{I(this,me,null),R(this,G,Lo).call(this)},7500))},Lo=function(){for(const r of p(this,Ge).values())R(this,G,Uo).call(this,r.options,r.messages);p(this,We)>0&&(R(this,G,Uo).call(this,{retentionInDays:30,dataTier:"infrequent"},[R(this,G,Mo).call(this,{timestamp:Date.now(),level:"warn",logger:"FeLogWriter",context:null,text:"Dropped log messages due to rate limiting.",delivery:null,args:[{count:p(this,We)}]})]),I(this,We,0)),p(this,Ge).clear()},Uo=function({retentionInDays:r=30,dataTier:t="continuous"},n){if(n.length===0)return;const i="[".concat(n.join(","),"]"),o=new URL("https://f-log-inkwell.grammarly.io/batch/log");o.searchParams.set("retention",String(r)),o.searchParams.set("datatier",t),nI(async()=>{var s;const a=await fetch(o,{body:i,method:"POST",cache:"no-store",headers:{"Content-Type":"application/json"},keepalive:!0});if((s=a.body)==null||s.cancel(),!a.ok)throw new Error("Failed to send logs: ".concat(a.status," ").concat(a.statusText))}).catch(a=>{})};let An=is;function nI(e,r=3){return new Promise((t,n)=>{let i=0;const o=()=>{e().then(t).catch(a=>{i++<r?setTimeout(o,2**i*1e3):n(a)})};o()})}var nt;const os=class os{constructor(r){P(this,"writer");E(this,nt,new Map);this.writer=r}error(...r){var t,n,i;if(r.length===1){const o=typeof r[0]=="string"?r[0]:r[0].message,a=typeof r[0]=="string"?null:r[0];this.writer.write({context:null,timestamp:Date.now(),logger:null,level:"error",text:o,args:a===null?[]:[a],delivery:null})}else if(r.length===2&&typeof r[0]=="string"){const o=r[0],a=typeof r[1]=="object"&&r[1]&&"message"in r[1]?r[1]:null,s=a===null?r[1]:void 0;this.writer.write({context:null,...s,timestamp:Date.now(),logger:null,level:"error",text:o,args:a===null?[]:[a],delivery:(t=s==null?void 0:s.delivery)!=null?t:null})}else if(r.length===2){const o=r[0],a=r[1];this.writer.write({context:null,...a,timestamp:Date.now(),logger:null,level:"error",text:o.message,args:[o],delivery:(n=a==null?void 0:a.delivery)!=null?n:null})}else{const o=r[0],a=r[1],s=r[2];this.writer.write({context:null,...s,timestamp:Date.now(),logger:null,level:"error",text:o,args:[a],delivery:(i=s==null?void 0:s.delivery)!=null?i:null})}}warn(r,t){var n;this.writer.write({context:null,...t,timestamp:Date.now(),logger:null,level:"warn",text:r,args:[],delivery:(n=t==null?void 0:t.delivery)!=null?n:null})}info(r,t){var n;this.writer.write({context:null,...t,timestamp:Date.now(),logger:null,level:"info",text:r,args:[],delivery:(n=t==null?void 0:t.delivery)!=null?n:null})}verbose(r,t,...n){var s;const i=typeof r=="string"?{}:r,o=typeof r=="string"?r:t,a=typeof r=="string"?t===void 0?n:[t,...n]:n;this.writer.write({context:null,...i,logger:null,timestamp:Date.now(),level:"verbose",text:o,args:a,delivery:(s=i==null?void 0:i.delivery)!=null?s:null})}createLogger(r,t=null){var i;const n=(i=p(this,nt).get(r))!=null?i:0;try{return new os(new z0(this.writer,r,t!=null?t:n>0?"".concat(n):null))}finally{p(this,nt).set(r,n+1)}}addWriter(r){const t=this.writer;if(t instanceof Fo)return t.writers.add(r),{[Symbol.dispose]:()=>{t.writers.delete(r)}};throw new Error("This should be unreachable.")}getWriters(){const r=this.writer;if(r instanceof Fo)return Array.from(r.writers);throw new Error("This should be unreachable.")}};nt=new WeakMap;let Bo=os;function iI(){let e;try{const r=localStorage.getItem("DEBUG");e=JSON.parse(r!=null?r:"null"),fc("DEBUG",JSON.stringify(e)).catch(()=>{})}catch{}return Reflect.getOwnPropertyDescriptor(globalThis,"DEBUG")||Object.defineProperty(globalThis,"DEBUG",{get:()=>{var r;e===void 0&&N0("DEBUG").then(t=>{try{e=JSON.parse(t!=null?t:"null")}catch{}}).catch(()=>{});try{return JSON.parse((r=localStorage.getItem("DEBUG"))!=null?r:"null")}catch{return e}},set:r=>{{fc("DEBUG",JSON.stringify(r)).catch(()=>{});try{localStorage.setItem("DEBUG",JSON.stringify(r))}catch{}}e=r}}),new Bo(new Fo)}const ke=Nf(iI(),{stableUniqueIdentifier:"@grammarly/util-logging:DefaultLogger",serialize:e=>{const r=[];return[{writers:e.getWriters().map(t=>{if(t instanceof vc)return{kind:"ConsoleLogWriter"};if(t instanceof Rn){const n=t.toTransferable();return r.push(n.port),n}else if(t instanceof An)return t.toTransferable()}),DEBUG:Reflect.get(globalThis,"DEBUG")},r]},deserialize:({writers:e,DEBUG:r},t)=>{Reflect.set(globalThis,"DEBUG",r);for(const n of e)if(n)switch(n.kind){case"ConsoleLogWriter":t.addWriter(new vc);break;case"MemoryLogWriter":t.addWriter(Rn.fromTransferable(n));break;case"FeLogWriter":t.addWriter(An.fromTransferable(n));break}}});var gr;class oI{constructor(r){E(this,gr);I(this,gr,r)}[Symbol.dispose](){p(this,gr)&&p(this,gr)[Symbol.asyncDispose]().then(()=>{},r=>ke.error("Unexpected error in DetachedDisposable.dispose",r))}}gr=new WeakMap;function IP(e){if(!e)return;if(Symbol.iterator in e){const t=new DisposableStack;for(const n of e)t.use(gc(n));return t.dispose()}const r=gc(e);if(r)return r[Symbol.dispose]()}async function TP(e){if(e){if(Symbol.iterator in e){const r=new AsyncDisposableStack;for(const t of e)r.use(aI(t));return await r.disposeAsync()}if(ai(e))return e[Symbol.asyncDispose]();if(oi(e))return e[Symbol.dispose]()}}function gc(e){if(oi(e))return e;if(ai(e))return new oI(e)}function aI(e){if(oi(e)||ai(e))return e}function OP(e){const r=new DisposableStack;return r.defer(e),r}function PP(e){const r=new AsyncDisposableStack;return r.defer(e),r}function oi(e){return Symbol.dispose in e}function ai(e){return Symbol.asyncDispose in e}function xP(e){return oi(e)||ai(e)}function si(e){return typeof e=="object"&&e!==null&&"ok"in e&&typeof e.ok=="boolean"&&(e.ok?"value"in e:"error"in e&&uI(e.error))}function Et(e){return Object.freeze({ok:!0,value:e,error:void 0})}function It(e){return Object.freeze({ok:!1,value:void 0,error:e})}function Cr(e){return si(e)&&Vf(e)?e:It(wt(e))}function sI(e){return e.ok}function Vf(e){return!e.ok}function RP(e){return r=>r.ok?Et(e(r.value)):r}function AP(e){return r=>r.ok?r:It(e(r.error))}function CP(e){return r=>r.ok?e(r.value):r}function kP(e){return r=>r.ok?r:e(r.error)}function DP(e){const r=[],t=[];for(const n of e)n.ok?r.push(n.value):t.push(n.error);return t.length>0?It(new ti(t)):Et(r)}function jP(e){try{const r=e();return si(r)?r:Et(r)}catch(r){return Cr(r)}}function NP(e){return r=>r.ok?e.success(r.value):e.failure(r.error)}function _P(e){const r=[],t=[];for(const n of e)n.ok?r.push(n):t.push(n);return{success:r,failure:t}}function uI(e){return e instanceof Error||typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"}const cI=Symbol();function lI(e){return Object.defineProperty(e,cI,{value:!0,enumerable:!1,configurable:!1}),e}function ja(e){return Or(Et(e))}function Kf(e){return Or(It(e))}function FP(e){return fI(()=>e)}function Or(e){return lI(Promise.resolve(e))}function fI(e){return(async()=>{try{const r=await e();return si(r)?Or(r):ja(r)}catch(r){return Cr(r)}})()}function MP(e){return async r=>{const t=await ui(r);if(!t.ok)return Or(t);try{return ja(e(t.value))}catch(n){return Cr(n)}}}function LP(e){return async r=>{const t=await ui(r);if(t.ok)return t;try{return Kf(await e(t.error))}catch(n){return Cr(n)}}}function UP(e){return async r=>{const t=await ui(r);if(!t.ok)return Or(t);try{return Or(await e(t.value))}catch(n){return Cr(n)}}}async function BP(e){const r=await Promise.all(Array.from(e)),t=r.filter(sI),n=r.filter(Vf);return n.length>0?Kf(new ti(n.map(({error:i})=>i))):ja(t.map(i=>i.value))}function zP(e){return async r=>{const t=await ui(r);return t.ok?e.success(t.value):e.failure(t.error)}}function GP(e,r){return new Promise(t=>{var s,u;let n=0;const i=(s=r==null?void 0:r.maxRetries)!=null?s:3,o=(u=r==null?void 0:r.delayMs)!=null?u:()=>1e3,a=async()=>{const c=await e();c.ok?t(c):n++<i?setTimeout(a,o(n)):t(c)};a()})}async function ui(e){try{return await e}catch(r){return Cr(r)}}const WP=(e,...r)=>{let t=e;const n=r.length;for(let i=0;i<n;i++)t=r[i](t);return t};function VP(){}function KP(e){return e}function HP(e){return r=>(e(r),r)}function qP(e){return e!=null}const fr=[];function vI(e){fr.push(e)}function dI(e){if(hI()===e){fr.pop();return}const r=fr.indexOf(e);r!==-1&&fr.splice(r,1)}function hI(){var e;return(e=fr[fr.length-1])!=null?e:null}function bc(){return crypto.randomUUID()}var it,Ve;class pI{constructor(){E(this,it,bc());E(this,Ve,0)}next(){return p(this,Ve)===Number.MAX_SAFE_INTEGER?(I(this,Ve,0),I(this,it,bc())):bi(this,Ve)._++,"".concat(p(this,it),"-").concat(p(this,Ve).toString(16))}}it=new WeakMap,Ve=new WeakMap;const Hf=new pI;var J,Pe,ot,oe,ye;class Na{constructor(r,t){E(this,oe);E(this,J,!0);P(this,"status");P(this,"message");P(this,"endTime");P(this,"id");P(this,"name");P(this,"startTime");P(this,"links");P(this,"events");P(this,"attributes");E(this,Pe);E(this,ot);var n,i,o;this.id=Hf.next(),this.name=r,this.links=(i=(n=t.links)==null?void 0:n.map(a=>({id:a.id})))!=null?i:[],this.attributes={...t.attributes},this.events=[],this.startTime=(o=t.timestamp)!=null?o:performance.now(),I(this,Pe,t.tracer),I(this,ot,t.parent?{id:t.parent.id}:null)}get isRecording(){return p(this,J)}setAttribute(r,t){if(!p(this,J))return R(this,oe,ye).call(this);this.attributes[r]=t}setAttributes(r){if(!p(this,J))return R(this,oe,ye).call(this);Object.assign(this.attributes,r)}setStatus(r,t){if(!p(this,J))return R(this,oe,ye).call(this);this.status=r,this.message=t}recordError(r,t){if(!p(this,J))return R(this,oe,ye).call(this);this.events.push({name:r.name,kind:"error",attributes:{message:r.message,stack:r.stack},timestamp:t!=null?t:performance.now()})}recordEvent(r,t={},n){if(!p(this,J))return R(this,oe,ye).call(this);typeof t=="number"&&(n=t,t={}),this.events.push({name:r,kind:"event",attributes:t,timestamp:n!=null?n:performance.now()})}link(r,t){if(!p(this,J))return R(this,oe,ye).call(this);this.links.push({id:r.id,attributes:t})}startSpan(r,t){p(this,J)||R(this,oe,ye).call(this);const n={...t,parent:this,tracer:p(this,Pe)};return p(this,Pe).startSpan("".concat(this.name,".").concat(r),n)}runInSpan(r,t,n){return this.run(t,this.startSpan(r,n))}run(r,t=this){const n=()=>{t.setStatus("ok"),t.end()},i=o=>{const a=wt(o);t.recordError(a),t.setStatus("error",a.message),t.end()};try{const o=r(t);return o instanceof Promise?o.then(n,i):n(),o}catch(o){throw i(o),o}}end(r){var t;if(!p(this,J))return R(this,oe,ye).call(this);I(this,J,!1),(t=this.status)!=null||(this.status="unset"),this.endTime=r!=null?r:performance.now(),p(this,Pe).onSpanDidEnd(this)}[Symbol.dispose](){p(this,J)&&this.end()}toJSON(){var r;return{id:this.id,parentId:(r=p(this,ot))==null?void 0:r.id,traceId:p(this,Pe).id,name:this.name,status:this.status,message:this.message,startTime:this.startTime,endTime:this.endTime,links:this.links,events:this.events,attributes:this.attributes}}toString(){const r=[];return r.push(this.name),this.status==="error"&&r.push("(error)"),this.message&&r.push(this.message),Object.keys(this.attributes).length&&r.push("|",_a(this.attributes)),r.push("(".concat(this.id,")")),r.join(" ")}}J=new WeakMap,Pe=new WeakMap,ot=new WeakMap,oe=new WeakSet,ye=function(){ke.warn("Span ".concat(this.name,"(").concat(this.id,") is not recording."))};function yI(e){return typeof e=="string"?e:JSON.stringify(e)}function _a(e){const r=Object.entries(e);return r.length===0?"":"attributes: "+r.map(([t,n])=>"".concat(t,"=").concat(yI(n))).join(", ")}var at,Ke,ge,xe,st,Go;const as=class as{constructor(r,t=null){E(this,st);E(this,at,Hf.next());E(this,Ke);E(this,ge,new Set);E(this,xe);I(this,Ke,r),I(this,xe,t)}get id(){return p(this,at)}get observers(){return Array.from(p(this,ge))}get attributes(){var r;return(r=p(this,Ke))!=null?r:{}}load(r){I(this,at,r.id),I(this,Ke,r.attributes)}addObserver(r){return p(this,ge).add(r),{[Symbol.dispose]:()=>{p(this,ge).delete(r)}}}removeObserver(r){return p(this,ge).delete(r)}startSpan(r,t){return R(this,st,Go).call(this,r,t)}runInSpan(r,t,n){return R(this,st,Go).call(this,r,n).run(t)}onSpanDidStart(r){vI(r),p(this,xe)&&p(this,xe).onSpanDidStart(r),p(this,ge).forEach(t=>{if(t.onDidStart)try{t.onDidStart(r)}catch{}})}onSpanDidEnd(r){dI(r),p(this,xe)&&p(this,xe).onSpanDidEnd(r),p(this,ge).forEach(t=>{if(t.onDidEnd)try{t.onDidEnd(r)}catch{}})}startTrace(r){return new as(r,this)}};at=new WeakMap,Ke=new WeakMap,ge=new WeakMap,xe=new WeakMap,st=new WeakSet,Go=function(r,t){const n=new Na(r,{tracer:this,parent:null,...t,attributes:{...p(this,Ke),...t==null?void 0:t.attributes}});return this.onSpanDidStart(n),n};let zo=as;var br;const _n=class _n{constructor(){P(this,"name",_n.name);E(this,br,ke.createLogger("Trace"))}onDidStart(r){p(this,br).verbose("START ".concat(r),r.toJSON())}onDidEnd(r){const t=Number(r.endTime-r.startTime).toFixed(2)+"ms";if(r instanceof Na){const n=i=>!i.attributes||!Object.keys(i.attributes).length?i.name:"".concat(i.name,"(").concat(_a(i.attributes),")");for(const i of r.events){const o=i.kind==="error"?"ERROR":"EVENT",a=Number(i.timestamp-r.startTime).toFixed(2)+"ms";p(this,br).verbose("".concat(o," ").concat(n(i)," in ").concat(r," at ").concat(a," of ").concat(t))}}p(this,br).verbose("END ".concat(r," in ").concat(t),r.toJSON())}};br=new WeakMap,P(_n,"name","ConsoleObserver");let Vr=_n;const Fn=class Fn{constructor(r={}){P(this,"name",Fn.name);P(this,"showDetails");var t;this.showDetails=(t=r.showDetails)!=null?t:!1}onDidStart(r){performance.mark("".concat(r.name," (").concat(r.id,")"),{startTime:r.startTime})}onDidEnd(r){performance.clearMarks("".concat(r.name," (").concat(r.id,")"));try{performance.measure(this.showDetails?r.toString():r.name,{start:r.startTime,end:r.endTime,detail:r.toJSON()})}catch{}r instanceof Na&&r.events.forEach(t=>{var n;performance.mark("".concat(r.name,"#").concat(t.name," ").concat(_a((n=t.attributes)!=null?n:{})),{startTime:t.timestamp})})}};P(Fn,"name","PerformanceObserver");let Kr=Fn;const JP=Nf(new zo,{stableUniqueIdentifier:"@grammarly/util-tracing",serialize:e=>[{id:e.id,attributes:e.attributes,observers:e.observers.map(r=>r instanceof Vr?{name:r.name}:r instanceof Kr?{name:r.name,showDetails:r.showDetails}:null)},[]],deserialize:(e,r)=>{r.load(e);for(const t of e.observers)t&&(t.name===Vr.name?r.addObserver(new Vr):t.name===Kr.name&&r.addObserver(new Kr({showDetails:t.showDetails})))}});function YP(e){return function*(r){for(const t of r)e(t)&&(yield t)}}function ZP(e){return function*(r){for(const t of r){if(e<=0)break;yield t,e--}}}function QP(e){for(const r of e);}function XP(e){return function*(r){for(const t of r){if(!e(t))return;yield t}}}function ex(e){return function*(r){for(const t of r)yield e(t)}}function rx(e){return function*(r){for(const t of r)yield*e(t)}}function tx(e){return function*(r){for(const t of r)e(t),yield t}}function*nx(e){const r=new Set;for(const t of e)r.has(t)||(r.add(t),yield t)}function ix(...e){return function*(r){yield*r;for(const t of e)yield*t}}function*ox(...e){for(const r of e)yield*r}function*ax(e,r){const t=e[Symbol.iterator](),n=r[Symbol.iterator]();for(;;){const i=t.next(),o=n.next();if(i.done||o.done)break;yield[i.value,o.value]}}function sx(e){return Array.isArray(e)?e:[...e]}function ux(e){return e instanceof Set?e:new Set(e)}function cx(e,r){const t=new Map;let n=0;for(const i of e){const o=r(i,n++),a=t.get(o);a?a.push(i):t.set(o,[i])}return t}const qf="__transferGlobalState__";var Wo=function(e,r){return Wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Wo(e,r)};function L(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Wo(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function mI(e,r,t,n){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(l){try{c(n.next(l))}catch(f){a(f)}}function u(l){try{c(n.throw(l))}catch(f){a(f)}}function c(l){l.done?o(l.value):i(l.value).then(s,u)}c((n=n.apply(e,r||[])).next())})}function Fa(e,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Y(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function A(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,o=[],a;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(a)throw a.error}}return o}function C(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,o;n<i;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return e.concat(o||Array.prototype.slice.call(r))}function vr(e){return this instanceof vr?(this.v=e,this):new vr(e)}function gI(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,o=[];return i={},s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(d){return function(h){return Promise.resolve(h).then(d,f)}}function s(d,h){n[d]&&(i[d]=function(y){return new Promise(function(g,m){o.push([d,y,g,m])>1||u(d,y)})},h&&(i[d]=h(i[d])))}function u(d,h){try{c(n[d](h))}catch(y){v(o[0][3],y)}}function c(d){d.value instanceof vr?Promise.resolve(d.value.v).then(l,f):v(o[0][2],d)}function l(d){u("next",d)}function f(d){u("throw",d)}function v(d,h){d(h),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Y=="function"?Y(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=e[o]&&function(a){return new Promise(function(s,u){a=e[o](a),i(s,u,a.done,a.value)})}}function i(o,a,s,u){Promise.resolve(u).then(function(c){o({value:c,done:s})},a)}}function T(e){return typeof e=="function"}function er(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ln=er(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(n,i){return i+1+") "+n.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}});function Se(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var z=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Y(a),u=s.next();!u.done;u=s.next()){var c=u.value;c.remove(this)}}catch(y){r={error:y}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}else a.remove(this);var l=this.initialTeardown;if(T(l))try{l()}catch(y){o=y instanceof ln?y.errors:[y]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var v=Y(f),d=v.next();!d.done;d=v.next()){var h=d.value;try{Sc(h)}catch(y){o=o!=null?o:[],y instanceof ln?o=C(C([],A(o)),A(y.errors)):o.push(y)}}}catch(y){n={error:y}}finally{try{d&&!d.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}}if(o)throw new ln(o)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)Sc(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&Se(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&Se(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}(),Jf=z.EMPTY;function Yf(e){return e instanceof z||e&&"closed"in e&&T(e.remove)&&T(e.add)&&T(e.unsubscribe)}function Sc(e){T(e)?e():e.unsubscribe()}var je={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ma={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setTimeout.apply(void 0,C([e,r],A(t)))},clearTimeout:function(e){var r=Ma.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Zf(e){Ma.setTimeout(function(){var r=je.onUnhandledError;if(r)r(e);else throw e})}function N(){}var SI=function(){return La("C",void 0,void 0)}();function $I(e){return La("E",void 0,e)}function wI(e){return La("N",e,void 0)}function La(e,r,t){return{kind:e,value:r,error:t}}var Be=null;function fn(e){if(je.useDeprecatedSynchronousErrorHandling){var r=!Be;if(r&&(Be={errorThrown:!1,error:null}),e(),r){var t=Be,n=t.errorThrown,i=t.error;if(Be=null,n)throw i}}else e()}function EI(e){je.useDeprecatedSynchronousErrorHandling&&Be&&(Be.errorThrown=!0,Be.error=e)}var ci=function(e){L(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Yf(t)&&t.add(n)):n.destination=PI,n}return r.create=function(t,n,i){return new Pr(t,n,i)},r.prototype.next=function(t){this.isStopped?vo(wI(t),this):this._next(t)},r.prototype.error=function(t){this.isStopped?vo($I(t),this):(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped?vo(SI,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(z),II=Function.prototype.bind;function fo(e,r){return II.call(e,r)}var TI=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){en(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){en(n)}else en(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){en(t)}},e}(),Pr=function(e){L(r,e);function r(t,n,i){var o=e.call(this)||this,a;if(T(t)||!t)a={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var s;o&&je.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=function(){return o.unsubscribe()},a={next:t.next&&fo(t.next,s),error:t.error&&fo(t.error,s),complete:t.complete&&fo(t.complete,s)}):a=t}return o.destination=new TI(a),o}return r}(ci);function en(e){je.useDeprecatedSynchronousErrorHandling?EI(e):Zf(e)}function OI(e){throw e}function vo(e,r){var t=je.onStoppedNotification;t&&Ma.setTimeout(function(){return t(e,r)})}var PI={closed:!0,next:N,error:OI,complete:N},Ua=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function U(e){return e}function Ba(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Qf(e)}function Qf(e){return e.length===0?U:e.length===1?e[0]:function(t){return e.reduce(function(n,i){return i(n)},t)}}var O=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var i=this,o=RI(r)?r:new Pr(r,t,n);return fn(function(){var a=i,s=a.operator,u=a.source;o.add(s?s.call(o,u):u?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=$c(t),new t(function(i,o){var a=new Pr({next:function(s){try{r(s)}catch(u){o(u),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[Ua]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Qf(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=$c(r),new r(function(n,i){var o;t.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},e.create=function(r){return new e(r)},e}();function $c(e){var r;return(r=e!=null?e:je.Promise)!==null&&r!==void 0?r:Promise}function xI(e){return e&&T(e.next)&&T(e.error)&&T(e.complete)}function RI(e){return e&&e instanceof ci||xI(e)&&Yf(e)}function AI(e){return T(e==null?void 0:e.lift)}function S(e){return function(r){if(AI(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function b(e,r,t,n,i){return new za(e,r,t,n,i)}var za=function(e){L(r,e);function r(t,n,i,o,a,s){var u=e.call(this,t)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=n?function(c){try{n(c)}catch(l){t.error(l)}}:e.prototype._next,u._error=o?function(c){try{o(c)}catch(l){t.error(l)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=i?function(){try{i()}catch(c){t.error(c)}finally{this.unsubscribe()}}:e.prototype._complete,u}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(ci),Cn={schedule:function(e){var r=requestAnimationFrame,t=cancelAnimationFrame,n=Cn.delegate;n&&(r=n.requestAnimationFrame,t=n.cancelAnimationFrame);var i=r(function(o){t=void 0,e(o)});return new z(function(){return t==null?void 0:t(i)})},requestAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return requestAnimationFrame.apply(void 0,C([],A(e)))},cancelAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Cn.delegate;return((t==null?void 0:t.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,C([],A(e)))},delegate:void 0},Xf=er(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),B=function(e){L(r,e);function r(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype.lift=function(t){var n=new wc(this,this);return n.operator=t,n},r.prototype._throwIfClosed=function(){if(this.closed)throw new Xf},r.prototype.next=function(t){var n=this;fn(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var a=Y(n.currentObservers),s=a.next();!s.done;s=a.next()){var u=s.value;u.next(t)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}}})},r.prototype.error=function(t){var n=this;fn(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var i=n.observers;i.length;)i.shift().error(t)}})},r.prototype.complete=function(){var t=this;fn(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}})},r.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(r.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),r.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},r.prototype._innerSubscribe=function(t){var n=this,i=this,o=i.hasError,a=i.isStopped,s=i.observers;return o||a?Jf:(this.currentObservers=null,s.push(t),new z(function(){n.currentObservers=null,Se(s,t)}))},r.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n.thrownError,a=n.isStopped;i?t.error(o):a&&t.complete()},r.prototype.asObservable=function(){var t=new O;return t.source=this,t},r.create=function(t,n){return new wc(t,n)},r}(O),wc=function(e){L(r,e);function r(t,n){var i=e.call(this)||this;return i.destination=t,i.source=n,i}return r.prototype.next=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)},r.prototype.error=function(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)},r.prototype.complete=function(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)},r.prototype._subscribe=function(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Jf},r}(B),ev=function(e){L(r,e);function r(t){var n=e.call(this)||this;return n._value=t,n}return Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),r.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},r.prototype.getValue=function(){var t=this,n=t.hasError,i=t.thrownError,o=t._value;if(n)throw i;return this._throwIfClosed(),o},r.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},r}(B),li={now:function(){return(li.delegate||Date).now()},delegate:void 0},rv=function(e){L(r,e);function r(t,n,i){t===void 0&&(t=1/0),n===void 0&&(n=1/0),i===void 0&&(i=li);var o=e.call(this)||this;return o._bufferSize=t,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,t),o._windowTime=Math.max(1,n),o}return r.prototype.next=function(t){var n=this,i=n.isStopped,o=n._buffer,a=n._infiniteTimeWindow,s=n._timestampProvider,u=n._windowTime;i||(o.push(t),!a&&o.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},r.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),i=this,o=i._infiniteTimeWindow,a=i._buffer,s=a.slice(),u=0;u<s.length&&!t.closed;u+=o?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),n},r.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,i=t._timestampProvider,o=t._buffer,a=t._infiniteTimeWindow,s=(a?1:2)*n;if(n<1/0&&s<o.length&&o.splice(0,o.length-s),!a){for(var u=i.now(),c=0,l=1;l<o.length&&o[l]<=u;l+=2)c=l;c&&o.splice(0,c+1)}},r}(B),tv=function(e){L(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return r.prototype._checkFinalizedStatuses=function(t){var n=this,i=n.hasError,o=n._hasValue,a=n._value,s=n.thrownError,u=n.isStopped,c=n._isComplete;i?t.error(s):(u||c)&&(o&&t.next(a),t.complete())},r.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},r.prototype.complete=function(){var t=this,n=t._hasValue,i=t._value,o=t._isComplete;o||(this._isComplete=!0,n&&e.prototype.next.call(this,i),e.prototype.complete.call(this))},r}(B),CI=function(e){L(r,e);function r(t,n){return e.call(this)||this}return r.prototype.schedule=function(t,n){return this},r}(z),Vo={setInterval:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return setInterval.apply(void 0,C([e,r],A(t)))},clearInterval:function(e){var r=Vo.delegate;return((r==null?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0},Tt=function(e){L(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.pending=!1,i}return r.prototype.schedule=function(t,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,a=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(a,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(a,this.id,n),this},r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),Vo.setInterval(t.flush.bind(t,this),i)},r.prototype.recycleAsyncId=function(t,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Vo.clearInterval(n)},r.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,n){var i=!1,o;try{this.work(t)}catch(a){i=!0,o=a||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},r.prototype.unsubscribe=function(){if(!this.closed){var t=this,n=t.id,i=t.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Se(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},r}(CI),kI=1,ho,Ko={};function Ec(e){return e in Ko?(delete Ko[e],!0):!1}var nv={setImmediate:function(e){var r=kI++;return Ko[r]=!0,ho||(ho=Promise.resolve()),ho.then(function(){return Ec(r)&&e()}),r},clearImmediate:function(e){Ec(e)}},DI=nv.setImmediate,jI=nv.clearImmediate,Ho={setImmediate:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return DI.apply(void 0,C([],A(e)))},clearImmediate:function(e){var r=Ho.delegate;return((r==null?void 0:r.clearImmediate)||jI)(e)},delegate:void 0},NI=function(e){L(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ho.setImmediate(t.flush.bind(t,void 0))))},r.prototype.recycleAsyncId=function(t,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);var a=t.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(Ho.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))},r}(Tt),Ic=function(){function e(r,t){t===void 0&&(t=e.now),this.schedulerActionCtor=r,this.now=t}return e.prototype.schedule=function(r,t,n){return t===void 0&&(t=0),new this.schedulerActionCtor(this,r).schedule(n,t)},e.now=li.now,e}(),Ot=function(e){L(r,e);function r(t,n){n===void 0&&(n=Ic.now);var i=e.call(this,t,n)||this;return i.actions=[],i._active=!1,i}return r.prototype.flush=function(t){var n=this.actions;if(this._active){n.push(t);return}var i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}},r}(Ic),_I=function(e){L(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw o}},r}(Ot),FI=new _I(NI),ie=new Ot(Tt),MI=ie,LI=function(e){L(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r.prototype.schedule=function(t,n){return n===void 0&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},r.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!=null&&i>0||i==null&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.flush(this),0)},r}(Tt),UI=function(e){L(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r}(Ot),BI=new UI(LI),zI=function(e){L(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i}return r.prototype.requestAsyncId=function(t,n,i){return i===void 0&&(i=0),i!==null&&i>0?e.prototype.requestAsyncId.call(this,t,n,i):(t.actions.push(this),t._scheduled||(t._scheduled=Cn.requestAnimationFrame(function(){return t.flush(void 0)})))},r.prototype.recycleAsyncId=function(t,n,i){var o;if(i===void 0&&(i=0),i!=null?i>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,i);var a=t.actions;n!=null&&((o=a[a.length-1])===null||o===void 0?void 0:o.id)!==n&&(Cn.cancelAnimationFrame(n),t._scheduled=void 0)},r}(Tt),GI=function(e){L(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var i=this.actions,o;t=t||i.shift();do if(o=t.execute(t.state,t.delay))break;while((t=i[0])&&t.id===n&&i.shift());if(this._active=!1,o){for(;(t=i[0])&&t.id===n&&i.shift();)t.unsubscribe();throw o}},r}(Ot),WI=new GI(zI),VI=function(e){L(r,e);function r(t,n){t===void 0&&(t=iv),n===void 0&&(n=1/0);var i=e.call(this,t,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return r.prototype.flush=function(){for(var t=this,n=t.actions,i=t.maxFrames,o,a;(a=n[0])&&a.delay<=i&&(n.shift(),this.frame=a.delay,!(o=a.execute(a.state,a.delay))););if(o){for(;a=n.shift();)a.unsubscribe();throw o}},r.frameTimeFactor=10,r}(Ot),iv=function(e){L(r,e);function r(t,n,i){i===void 0&&(i=t.index+=1);var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.index=i,o.active=!0,o.index=t.index=i,o}return r.prototype.schedule=function(t,n){if(n===void 0&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,t,n);this.active=!1;var i=new r(this.scheduler,this.work);return this.add(i),i.schedule(t,n)}else return z.EMPTY},r.prototype.requestAsyncId=function(t,n,i){i===void 0&&(i=0),this.delay=t.frame+i;var o=t.actions;return o.push(this),o.sort(r.sortActions),1},r.prototype.recycleAsyncId=function(t,n,i){},r.prototype._execute=function(t,n){if(this.active===!0)return e.prototype._execute.call(this,t,n)},r.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},r}(Tt),he=new O(function(e){return e.complete()});function fi(e){return e&&T(e.schedule)}function Ga(e){return e[e.length-1]}function Pt(e){return T(Ga(e))?e.pop():void 0}function we(e){return fi(Ga(e))?e.pop():void 0}function ov(e,r){return typeof Ga(e)=="number"?e.pop():r}var Wa=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function av(e){return T(e==null?void 0:e.then)}function sv(e){return T(e[Ua])}function uv(e){return Symbol.asyncIterator&&T(e==null?void 0:e[Symbol.asyncIterator])}function cv(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function KI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lv=KI();function fv(e){return T(e==null?void 0:e[lv])}function vv(e){return gI(this,arguments,function(){var t,n,i,o;return Fa(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,vr(t.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,vr(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,vr(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function dv(e){return T(e==null?void 0:e.getReader)}function w(e){if(e instanceof O)return e;if(e!=null){if(sv(e))return HI(e);if(Wa(e))return qI(e);if(av(e))return JI(e);if(uv(e))return hv(e);if(fv(e))return YI(e);if(dv(e))return ZI(e)}throw cv(e)}function HI(e){return new O(function(r){var t=e[Ua]();if(T(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function qI(e){return new O(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function JI(e){return new O(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,Zf)})}function YI(e){return new O(function(r){var t,n;try{for(var i=Y(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(r.next(a),r.closed)return}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}r.complete()})}function hv(e){return new O(function(r){QI(e,r).catch(function(t){return r.error(t)})})}function ZI(e){return hv(vv(e))}function QI(e,r){var t,n,i,o;return mI(this,void 0,void 0,function(){var a,s;return Fa(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),t=bI(e),u.label=1;case 1:return[4,t.next()];case 2:if(n=u.sent(),!!n.done)return[3,4];if(a=n.value,r.next(a),r.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),i={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function Z(e,r,t,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=r.schedule(function(){t(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function vi(e,r){return r===void 0&&(r=0),S(function(t,n){t.subscribe(b(n,function(i){return Z(n,e,function(){return n.next(i)},r)},function(){return Z(n,e,function(){return n.complete()},r)},function(i){return Z(n,e,function(){return n.error(i)},r)}))})}function di(e,r){return r===void 0&&(r=0),S(function(t,n){n.add(e.schedule(function(){return t.subscribe(n)},r))})}function XI(e,r){return w(e).pipe(di(r),vi(r))}function eT(e,r){return w(e).pipe(di(r),vi(r))}function rT(e,r){return new O(function(t){var n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}function pv(e,r){return new O(function(t){var n;return Z(t,r,function(){n=e[lv](),Z(t,r,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){t.error(s);return}a?t.complete():t.next(o)},0,!0)}),function(){return T(n==null?void 0:n.return)&&n.return()}})}function yv(e,r){if(!e)throw new Error("Iterable cannot be null");return new O(function(t){Z(t,r,function(){var n=e[Symbol.asyncIterator]();Z(t,r,function(){n.next().then(function(i){i.done?t.complete():t.next(i.value)})},0,!0)})})}function tT(e,r){return yv(vv(e),r)}function mv(e,r){if(e!=null){if(sv(e))return XI(e,r);if(Wa(e))return rT(e,r);if(av(e))return eT(e,r);if(uv(e))return yv(e,r);if(fv(e))return pv(e,r);if(dv(e))return tT(e,r)}throw cv(e)}function le(e,r){return r?mv(e,r):w(e)}function Va(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=we(e);return le(e,t)}function gv(e,r){var t=T(e)?e:function(){return e},n=function(i){return i.error(t())};return new O(r?function(i){return r.schedule(n,0,i)}:n)}var Tc;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Tc||(Tc={}));var po=function(){function e(r,t,n){this.kind=r,this.value=t,this.error=n,this.hasValue=r==="N"}return e.prototype.observe=function(r){return bv(this,r)},e.prototype.do=function(r,t,n){var i=this,o=i.kind,a=i.value,s=i.error;return o==="N"?r==null?void 0:r(a):o==="E"?t==null?void 0:t(s):n==null?void 0:n()},e.prototype.accept=function(r,t,n){var i;return T((i=r)===null||i===void 0?void 0:i.next)?this.observe(r):this.do(r,t,n)},e.prototype.toObservable=function(){var r=this,t=r.kind,n=r.value,i=r.error,o=t==="N"?Va(n):t==="E"?gv(function(){return i}):t==="C"?he:0;if(!o)throw new TypeError("Unexpected notification kind "+t);return o},e.createNext=function(r){return new e("N",r)},e.createError=function(r){return new e("E",void 0,r)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function bv(e,r){var t,n,i,o=e,a=o.kind,s=o.value,u=o.error;if(typeof a!="string")throw new TypeError('Invalid notification, missing "kind"');a==="N"?(t=r.next)===null||t===void 0||t.call(r,s):a==="E"?(n=r.error)===null||n===void 0||n.call(r,u):(i=r.complete)===null||i===void 0||i.call(r)}function nT(e){return!!e&&(e instanceof O||T(e.lift)&&T(e.subscribe))}var rr=er(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function iT(e,r){var t=typeof r=="object";return new Promise(function(n,i){var o=!1,a;e.subscribe({next:function(s){a=s,o=!0},error:i,complete:function(){o?n(a):t?n(r.defaultValue):i(new rr)}})})}function oT(e,r){var t=typeof r=="object";return new Promise(function(n,i){var o=new Pr({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){t?n(r.defaultValue):i(new rr)}});e.subscribe(o)})}var qo=er(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),Sv=er(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}}),$v=er(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}});function wv(e){return e instanceof Date&&!isNaN(e)}var Ev=er(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function aT(e,r){var t=wv(e)?{first:e}:typeof e=="number"?{each:e}:e,n=t.first,i=t.each,o=t.with,a=o===void 0?sT:o,s=t.scheduler,u=s===void 0?r!=null?r:ie:s,c=t.meta,l=c===void 0?null:c;if(n==null&&i==null)throw new TypeError("No timeout provided.");return S(function(f,v){var d,h,y=null,g=0,m=function($){h=Z(v,u,function(){try{d.unsubscribe(),w(a({meta:l,lastValue:y,seen:g})).subscribe(v)}catch(x){v.error(x)}},$)};d=f.subscribe(b(v,function($){h==null||h.unsubscribe(),g++,v.next(y=$),i>0&&m(i)},void 0,void 0,function(){h!=null&&h.closed||h==null||h.unsubscribe(),y=null})),!g&&m(n!=null?typeof n=="number"?n:+n-u.now():i)})}function sT(e){throw new Ev(e)}function Ne(e,r){return S(function(t,n){var i=0;t.subscribe(b(n,function(o){n.next(e.call(r,o,i++))}))})}var uT=Array.isArray;function cT(e,r){return uT(r)?e.apply(void 0,C([],A(r))):e(r)}function tr(e){return Ne(function(r){return cT(e,r)})}function kn(e,r,t,n){if(t)if(fi(t))n=t;else return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return kn(e,r,n).apply(this,i).pipe(tr(t))};return n?function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return kn(e,r).apply(this,i).pipe(di(n),vi(n))}:function(){for(var i=this,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];var s=new tv,u=!0;return new O(function(c){var l=s.subscribe(c);if(u){u=!1;var f=!1,v=!1;r.apply(i,C(C([],A(o)),[function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];if(e){var y=d.shift();if(y!=null){s.error(y);return}}s.next(1<d.length?d:d[0]),v=!0,f&&s.complete()}])),v&&s.complete(),f=!0}return l})}}function lT(e,r,t){return kn(!1,e,r,t)}function fT(e,r,t){return kn(!0,e,r,t)}var vT=Array.isArray,dT=Object.getPrototypeOf,hT=Object.prototype,pT=Object.keys;function Iv(e){if(e.length===1){var r=e[0];if(vT(r))return{args:r,keys:null};if(yT(r)){var t=pT(r);return{args:t.map(function(n){return r[n]}),keys:t}}}return{args:e,keys:null}}function yT(e){return e&&typeof e=="object"&&dT(e)===hT}function Tv(e,r){return e.reduce(function(t,n,i){return t[n]=r[i],t},{})}function Ov(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=we(e),n=Pt(e),i=Iv(e),o=i.args,a=i.keys;if(o.length===0)return le([],t);var s=new O(Pv(o,t,a?function(u){return Tv(a,u)}:U));return n?s.pipe(tr(n)):s}function Pv(e,r,t){return t===void 0&&(t=U),function(n){Oc(r,function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(l){Oc(r,function(){var f=le(e[l],r),v=!1;f.subscribe(b(n,function(d){o[l]=d,v||(v=!0,s--),s||n.next(t(o.slice()))},function(){--a||n.complete()}))},n)},c=0;c<i;c++)u(c)},n)}}function Oc(e,r,t){e?Z(t,e,r):r()}function Ka(e,r,t,n,i,o,a,s){var u=[],c=0,l=0,f=!1,v=function(){f&&!u.length&&!c&&r.complete()},d=function(y){return c<n?h(y):u.push(y)},h=function(y){o&&r.next(y),c++;var g=!1;w(t(y,l++)).subscribe(b(r,function(m){i==null||i(m),o?d(m):r.next(m)},function(){g=!0},void 0,function(){if(g)try{c--;for(var m=function(){var $=u.shift();a?Z(r,a,function(){return h($)}):h($)};u.length&&c<n;)m();v()}catch($){r.error($)}}))};return e.subscribe(b(r,d,function(){f=!0,v()})),function(){s==null||s()}}function $e(e,r,t){return t===void 0&&(t=1/0),T(r)?$e(function(n,i){return Ne(function(o,a){return r(n,o,i,a)})(w(e(n,i)))},t):(typeof r=="number"&&(t=r),S(function(n,i){return Ka(n,i,e,t)}))}function hi(e){return e===void 0&&(e=1/0),$e(U,e)}function Ha(){return hi(1)}function Yr(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Ha()(le(e,we(e)))}function pi(e){return new O(function(r){w(e()).subscribe(r)})}var mT={connector:function(){return new B},resetOnDisconnect:!0};function gT(e,r){r===void 0&&(r=mT);var t=null,n=r.connector,i=r.resetOnDisconnect,o=i===void 0?!0:i,a=n(),s=new O(function(u){return a.subscribe(u)});return s.connect=function(){return(!t||t.closed)&&(t=pi(function(){return e}).subscribe(a),o&&t.add(function(){return a=n()})),t},s}function bT(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Pt(e),n=Iv(e),i=n.args,o=n.keys,a=new O(function(s){var u=i.length;if(!u){s.complete();return}for(var c=new Array(u),l=u,f=u,v=function(h){var y=!1;w(i[h]).subscribe(b(s,function(g){y||(y=!0,f--),c[h]=g},function(){return l--},void 0,function(){(!l||!y)&&(f||s.next(o?Tv(o,c):c),s.complete())}))},d=0;d<u;d++)v(d)});return t?a.pipe(tr(t)):a}var ST=["addListener","removeListener"],$T=["addEventListener","removeEventListener"],wT=["on","off"];function Jo(e,r,t,n){if(T(t)&&(n=t,t=void 0),n)return Jo(e,r,t).pipe(tr(n));var i=A(TT(e)?$T.map(function(s){return function(u){return e[s](r,u,t)}}):ET(e)?ST.map(Pc(e,r)):IT(e)?wT.map(Pc(e,r)):[],2),o=i[0],a=i[1];if(!o&&Wa(e))return $e(function(s){return Jo(s,r,t)})(w(e));if(!o)throw new TypeError("Invalid event target");return new O(function(s){var u=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return s.next(1<c.length?c:c[0])};return o(u),function(){return a(u)}})}function Pc(e,r){return function(t){return function(n){return e[t](r,n)}}}function ET(e){return T(e.addListener)&&T(e.removeListener)}function IT(e){return T(e.on)&&T(e.off)}function TT(e){return T(e.addEventListener)&&T(e.removeEventListener)}function xv(e,r,t){return t?xv(e,r).pipe(tr(t)):new O(function(n){var i=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return n.next(a.length===1?a[0]:a)},o=e(i);return T(r)?function(){return r(i,o)}:void 0})}function OT(e,r,t,n,i){var o,a,s,u;arguments.length===1?(o=e,u=o.initialState,r=o.condition,t=o.iterate,a=o.resultSelector,s=a===void 0?U:a,i=o.scheduler):(u=e,!n||fi(n)?(s=U,i=n):s=n);function c(){var l;return Fa(this,function(f){switch(f.label){case 0:l=u,f.label=1;case 1:return!r||r(l)?[4,s(l)]:[3,4];case 2:f.sent(),f.label=3;case 3:return l=t(l),[3,1];case 4:return[2]}})}return pi(i?function(){return pv(c(),i)}:c)}function PT(e,r,t){return pi(function(){return e()?r:t})}function nr(e,r,t){e===void 0&&(e=0),t===void 0&&(t=MI);var n=-1;return r!=null&&(fi(r)?t=r:n=r),new O(function(i){var o=wv(e)?+e-t.now():e;o<0&&(o=0);var a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Rv(e,r){return e===void 0&&(e=0),r===void 0&&(r=ie),e<0&&(e=0),nr(e,e,r)}function Av(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=we(e),n=ov(e,1/0),i=e;return i.length?i.length===1?w(i[0]):hi(n)(le(i,t)):he}var Cv=new O(N);function xT(){return Cv}var RT=Array.isArray;function kr(e){return e.length===1&&RT(e[0])?e[0]:e}function kv(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=kr(e);return new O(function(n){var i=0,o=function(){if(i<t.length){var a=void 0;try{a=w(t[i++])}catch{o();return}var s=new za(n,void 0,N,N);a.subscribe(s),s.add(o)}else n.complete()};o()})}function AT(e,r){return function(t,n){return!e.call(r,t,n)}}function Je(e,r){return S(function(t,n){var i=0;t.subscribe(b(n,function(o){return e.call(r,o,i++)&&n.next(o)}))})}function CT(e,r,t){return[Je(r,t)(w(e)),Je(AT(r,t))(w(e))]}function kT(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e=kr(e),e.length===1?w(e[0]):new O(Dv(e))}function Dv(e){return function(r){for(var t=[],n=function(o){t.push(w(e[o]).subscribe(b(r,function(a){if(t){for(var s=0;s<t.length;s++)s!==o&&t[s].unsubscribe();t=null}r.next(a)})))},i=0;t&&!r.closed&&i<e.length;i++)n(i)}}function DT(e,r,t){if(r==null&&(r=e,e=0),r<=0)return he;var n=r+e;return new O(t?function(i){var o=e;return t.schedule(function(){o<n?(i.next(o++),this.schedule()):i.complete()})}:function(i){for(var o=e;o<n&&!i.closed;)i.next(o++);i.complete()})}function jT(e,r){return new O(function(t){var n=e(),i=r(n),o=i?w(i):he;return o.subscribe(t),function(){n&&n.unsubscribe()}})}function qa(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Pt(e),n=kr(e);return n.length?new O(function(i){var o=n.map(function(){return[]}),a=n.map(function(){return!1});i.add(function(){o=a=null});for(var s=function(c){w(n[c]).subscribe(b(i,function(l){if(o[c].push(l),o.every(function(v){return v.length})){var f=o.map(function(v){return v.shift()});i.next(t?t.apply(void 0,C([],A(f))):f),o.some(function(v,d){return!v.length&&a[d]})&&i.complete()}},function(){a[c]=!0,!o[c].length&&i.complete()}))},u=0;!i.closed&&u<n.length;u++)s(u);return function(){o=a=null}}):he}function jv(e){return S(function(r,t){var n=!1,i=null,o=null,a=!1,s=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var c=i;i=null,t.next(c)}a&&t.complete()},u=function(){o=null,a&&t.complete()};r.subscribe(b(t,function(c){n=!0,i=c,o||w(e(c)).subscribe(o=b(t,s,u))},function(){a=!0,(!n||!o||o.closed)&&t.complete()}))})}function NT(e,r){return r===void 0&&(r=ie),jv(function(){return nr(e,r)})}function _T(e){return S(function(r,t){var n=[];return r.subscribe(b(t,function(i){return n.push(i)},function(){t.next(n),t.complete()})),w(e).subscribe(b(t,function(){var i=n;n=[],t.next(i)},N)),function(){n=null}})}function FT(e,r){return r===void 0&&(r=null),r=r!=null?r:e,S(function(t,n){var i=[],o=0;t.subscribe(b(n,function(a){var s,u,c,l,f=null;o++%r===0&&i.push([]);try{for(var v=Y(i),d=v.next();!d.done;d=v.next()){var h=d.value;h.push(a),e<=h.length&&(f=f!=null?f:[],f.push(h))}}catch(m){s={error:m}}finally{try{d&&!d.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}if(f)try{for(var y=Y(f),g=y.next();!g.done;g=y.next()){var h=g.value;Se(i,h),n.next(h)}}catch(m){c={error:m}}finally{try{g&&!g.done&&(l=y.return)&&l.call(y)}finally{if(c)throw c.error}}},function(){var a,s;try{for(var u=Y(i),c=u.next();!c.done;c=u.next()){var l=c.value;n.next(l)}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}n.complete()},void 0,function(){i=null}))})}function MT(e){for(var r,t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=we(n))!==null&&r!==void 0?r:ie,a=(t=n[0])!==null&&t!==void 0?t:null,s=n[1]||1/0;return S(function(u,c){var l=[],f=!1,v=function(y){var g=y.buffer,m=y.subs;m.unsubscribe(),Se(l,y),c.next(g),f&&d()},d=function(){if(l){var y=new z;c.add(y);var g=[],m={buffer:g,subs:y};l.push(m),Z(y,o,function(){return v(m)},e)}};a!==null&&a>=0?Z(c,o,d,a,!0):f=!0,d();var h=b(c,function(y){var g,m,$=l.slice();try{for(var x=Y($),D=x.next();!D.done;D=x.next()){var pe=D.value,_e=pe.buffer;_e.push(y),s<=_e.length&&v(pe)}}catch(qv){g={error:qv}}finally{try{D&&!D.done&&(m=x.return)&&m.call(x)}finally{if(g)throw g.error}}},function(){for(;l!=null&&l.length;)c.next(l.shift().buffer);h==null||h.unsubscribe(),c.complete(),c.unsubscribe()},void 0,function(){return l=null});u.subscribe(h)})}function LT(e,r){return S(function(t,n){var i=[];w(e).subscribe(b(n,function(o){var a=[];i.push(a);var s=new z,u=function(){Se(i,a),n.next(a),s.unsubscribe()};s.add(w(r(o)).subscribe(b(n,u,N)))},N)),t.subscribe(b(n,function(o){var a,s;try{for(var u=Y(i),c=u.next();!c.done;c=u.next()){var l=c.value;l.push(o)}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},function(){for(;i.length>0;)n.next(i.shift());n.complete()}))})}function UT(e){return S(function(r,t){var n=null,i=null,o=function(){i==null||i.unsubscribe();var a=n;n=[],a&&t.next(a),w(e()).subscribe(i=b(t,o,N))};o(),r.subscribe(b(t,function(a){return n==null?void 0:n.push(a)},function(){n&&t.next(n),t.complete()},void 0,function(){return n=i=null}))})}function Nv(e){return S(function(r,t){var n=null,i=!1,o;n=r.subscribe(b(t,void 0,void 0,function(a){o=w(e(a,Nv(e)(r))),n?(n.unsubscribe(),n=null,o.subscribe(t)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(t))})}function _v(e,r,t,n,i){return function(o,a){var s=t,u=r,c=0;o.subscribe(b(a,function(l){var f=c++;u=s?e(u,l,f):(s=!0,l),n&&a.next(u)},i&&function(){s&&a.next(u),a.complete()}))}}function xt(e,r){return S(_v(e,r,arguments.length>=2,!1,!0))}var BT=function(e,r){return e.push(r),e};function Fv(){return S(function(e,r){xt(BT,[])(e).subscribe(r)})}function Mv(e,r){return Ba(Fv(),$e(function(t){return e(t)}),r?tr(r):U)}function zT(e){return Mv(Ov,e)}function Lv(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Pt(e);return t?Ba(Lv.apply(void 0,C([],A(e))),tr(t)):S(function(n,i){Pv(C([n],A(kr(e))))(i)})}function GT(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Lv.apply(void 0,C([],A(e)))}function WT(e,r){return T(r)?$e(e,r,1):$e(e,1)}function VT(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=we(e);return S(function(n,i){Ha()(le(C([n],A(e)),t)).subscribe(i)})}function KT(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return VT.apply(void 0,C([],A(e)))}function HT(e){return new O(function(r){return e.subscribe(r)})}var qT={connector:function(){return new B}};function JT(e,r){r===void 0&&(r=qT);var t=r.connector;return S(function(n,i){var o=t();w(e(HT(o))).subscribe(i),i.add(n.subscribe(o))})}function YT(e){return xt(function(r,t,n){return!e||e(t,n)?r+1:r},0)}function ZT(e){return S(function(r,t){var n=!1,i=null,o=null,a=function(){if(o==null||o.unsubscribe(),o=null,n){n=!1;var s=i;i=null,t.next(s)}};r.subscribe(b(t,function(s){o==null||o.unsubscribe(),n=!0,i=s,o=b(t,a,N),w(e(s)).subscribe(o)},function(){a(),t.complete()},void 0,function(){i=o=null}))})}function QT(e,r){return r===void 0&&(r=ie),S(function(t,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var c=o;o=null,n.next(c)}};function u(){var c=a+e,l=r.now();if(l<c){i=this.schedule(void 0,c-l),n.add(i);return}s()}t.subscribe(b(n,function(c){o=c,a=r.now(),i||(i=r.schedule(u,e),n.add(i))},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function yi(e){return S(function(r,t){var n=!1;r.subscribe(b(t,function(i){n=!0,t.next(i)},function(){n||t.next(e),t.complete()}))})}function xr(e){return e<=0?function(){return he}:S(function(r,t){var n=0;r.subscribe(b(t,function(i){++n<=e&&(t.next(i),e<=n&&t.complete())}))})}function Uv(){return S(function(e,r){e.subscribe(b(r,N))})}function XT(e){return Ne(function(){return e})}function Ja(e,r){return r?function(t){return Yr(r.pipe(xr(1),Uv()),t.pipe(Ja(e)))}:$e(function(t,n){return w(e(t,n)).pipe(xr(1),XT(t))})}function eO(e,r){r===void 0&&(r=ie);var t=nr(e,r);return Ja(function(){return t})}function rO(){return S(function(e,r){e.subscribe(b(r,function(t){return bv(t,r)}))})}function tO(e,r){return S(function(t,n){var i=new Set;t.subscribe(b(n,function(o){var a=e?e(o):o;i.has(a)||(i.add(a),n.next(o))})),r&&w(r).subscribe(b(n,function(){return i.clear()},N))})}function Bv(e,r){return r===void 0&&(r=U),e=e!=null?e:nO,S(function(t,n){var i,o=!0;t.subscribe(b(n,function(a){var s=r(a);(o||!e(i,s))&&(o=!1,i=s,n.next(a))}))})}function nO(e,r){return e===r}function iO(e,r){return Bv(function(t,n){return r?r(t[e],n[e]):t[e]===n[e]})}function mi(e){return e===void 0&&(e=oO),S(function(r,t){var n=!1;r.subscribe(b(t,function(i){n=!0,t.next(i)},function(){return n?t.complete():t.error(e())}))})}function oO(){return new rr}function aO(e,r){if(e<0)throw new qo;var t=arguments.length>=2;return function(n){return n.pipe(Je(function(i,o){return o===e}),xr(1),t?yi(r):mi(function(){return new qo}))}}function sO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return Yr(t,Va.apply(void 0,C([],A(e))))}}function uO(e,r){return S(function(t,n){var i=0;t.subscribe(b(n,function(o){e.call(r,o,i++,t)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}function Ya(e,r){return r?function(t){return t.pipe(Ya(function(n,i){return w(e(n,i)).pipe(Ne(function(o,a){return r(n,o,i,a)}))}))}:S(function(t,n){var i=0,o=null,a=!1;t.subscribe(b(n,function(s){o||(o=b(n,void 0,function(){o=null,a&&n.complete()}),w(e(s,i++)).subscribe(o))},function(){a=!0,!o&&n.complete()}))})}function cO(){return Ya(U)}function lO(e,r,t){return r===void 0&&(r=1/0),r=(r||0)<1?1/0:r,S(function(n,i){return Ka(n,i,e,r,void 0,!0,t)})}function Yo(e){return S(function(r,t){try{r.subscribe(t)}finally{t.add(e)}})}function fO(e,r){return S(zv(e,r,"value"))}function zv(e,r,t){var n=t==="index";return function(i,o){var a=0;i.subscribe(b(o,function(s){var u=a++;e.call(r,s,u,i)&&(o.next(n?u:s),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}function vO(e,r){return S(zv(e,r,"index"))}function dO(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?Je(function(i,o){return e(i,o,n)}):U,xr(1),t?yi(r):mi(function(){return new rr}))}}function hO(e,r,t,n){return S(function(i,o){var a;!r||typeof r=="function"?a=r:(t=r.duration,a=r.element,n=r.connector);var s=new Map,u=function(h){s.forEach(h),h(o)},c=function(h){return u(function(y){return y.error(h)})},l=0,f=!1,v=new za(o,function(h){try{var y=e(h),g=s.get(y);if(!g){s.set(y,g=n?n():new B);var m=d(y,g);if(o.next(m),t){var $=b(g,function(){g.complete(),$==null||$.unsubscribe()},void 0,void 0,function(){return s.delete(y)});v.add(w(t(m)).subscribe($))}}g.next(a?a(h):h)}catch(x){c(x)}},function(){return u(function(h){return h.complete()})},c,function(){return s.clear()},function(){return f=!0,l===0});i.subscribe(v);function d(h,y){var g=new O(function(m){l++;var $=y.subscribe(m);return function(){$.unsubscribe(),--l===0&&f&&v.unsubscribe()}});return g.key=h,g}})}function pO(){return S(function(e,r){e.subscribe(b(r,function(){r.next(!1),r.complete()},function(){r.next(!0),r.complete()}))})}function Gv(e){return e<=0?function(){return he}:S(function(r,t){var n=[];r.subscribe(b(t,function(i){n.push(i),e<n.length&&n.shift()},function(){var i,o;try{for(var a=Y(n),s=a.next();!s.done;s=a.next()){var u=s.value;t.next(u)}}catch(c){i={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}t.complete()},void 0,function(){n=null}))})}function yO(e,r){var t=arguments.length>=2;return function(n){return n.pipe(e?Je(function(i,o){return e(i,o,n)}):U,Gv(1),t?yi(r):mi(function(){return new rr}))}}function mO(){return S(function(e,r){e.subscribe(b(r,function(t){r.next(po.createNext(t))},function(){r.next(po.createComplete()),r.complete()},function(t){r.next(po.createError(t)),r.complete()}))})}function gO(e){return xt(T(e)?function(r,t){return e(r,t)>0?r:t}:function(r,t){return r>t?r:t})}function bO(e,r,t){return t===void 0&&(t=1/0),S(function(n,i){var o=r;return Ka(n,i,function(a,s){return e(o,a,s)},t,function(a){o=a},!1,void 0,function(){return o=null})})}function SO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=we(e),n=ov(e,1/0);return e=kr(e),S(function(i,o){hi(n)(le(C([i],A(e)),t)).subscribe(o)})}function $O(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return SO.apply(void 0,C([],A(e)))}function wO(e){return xt(T(e)?function(r,t){return e(r,t)<0?r:t}:function(r,t){return r<t?r:t})}function EO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=kr(e);return function(n){return kv.apply(void 0,C([n],A(t)))}}function IO(){return S(function(e,r){var t,n=!1;e.subscribe(b(r,function(i){var o=t;t=i,n&&r.next([o,i]),n=!0}))})}function TO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return Ne(function(n){for(var i=n,o=0;o<t;o++){var a=i==null?void 0:i[e[o]];if(typeof a<"u")i=a;else return}return i})}function OO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length?S(function(t,n){Dv(C([t],A(e)))(n)}):U}function PO(e){var r,t=1/0,n;return e!=null&&(typeof e=="object"?(r=e.count,t=r===void 0?1/0:r,n=e.delay):t=e),t<=0?function(){return he}:S(function(i,o){var a=0,s,u=function(){if(s==null||s.unsubscribe(),s=null,n!=null){var l=typeof n=="number"?nr(n):w(n(a)),f=b(o,function(){f.unsubscribe(),c()});l.subscribe(f)}else c()},c=function(){var l=!1;s=i.subscribe(b(o,void 0,function(){++a<t?s?u():l=!0:o.complete()})),l&&u()};c()})}function xO(e){e===void 0&&(e=1/0);var r;e&&typeof e=="object"?r=e:r={count:e};var t=r.count,n=t===void 0?1/0:t,i=r.delay,o=r.resetOnSuccess,a=o===void 0?!1:o;return n<=0?U:S(function(s,u){var c=0,l,f=function(){var v=!1;l=s.subscribe(b(u,function(d){a&&(c=0),u.next(d)},void 0,function(d){if(c++<n){var h=function(){l?(l.unsubscribe(),l=null,f()):v=!0};if(i!=null){var y=typeof i=="number"?nr(i):w(i(d,c)),g=b(u,function(){g.unsubscribe(),h()},function(){u.complete()});y.subscribe(g)}else h()}else u.error(d)})),v&&(l.unsubscribe(),l=null,f())};f()})}function Wv(e){return S(function(r,t){var n=!1,i=null;r.subscribe(b(t,function(o){n=!0,i=o})),w(e).subscribe(b(t,function(){if(n){n=!1;var o=i;i=null,t.next(o)}},N))})}function RO(e,r){return r===void 0&&(r=ie),Wv(Rv(e,r))}function AO(e,r){return S(_v(e,r,arguments.length>=2,!0))}function CO(e,r){return r===void 0&&(r=function(t,n){return t===n}),S(function(t,n){var i=xc(),o=xc(),a=function(u){n.next(u),n.complete()},s=function(u,c){var l=b(n,function(f){var v=c.buffer,d=c.complete;v.length===0?d?a(!1):u.buffer.push(f):!r(f,v.shift())&&a(!1)},function(){u.complete=!0;var f=c.complete,v=c.buffer;f&&a(v.length===0),l==null||l.unsubscribe()});return l};t.subscribe(s(i,o)),w(e).subscribe(s(o,i))})}function xc(){return{buffer:[],complete:!1}}function Vv(e){e===void 0&&(e={});var r=e.connector,t=r===void 0?function(){return new B}:r,n=e.resetOnError,i=n===void 0?!0:n,o=e.resetOnComplete,a=o===void 0?!0:o,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(c){var l,f,v,d=0,h=!1,y=!1,g=function(){f==null||f.unsubscribe(),f=void 0},m=function(){g(),l=v=void 0,h=y=!1},$=function(){var x=l;m(),x==null||x.unsubscribe()};return S(function(x,D){d++,!y&&!h&&g();var pe=v=v!=null?v:t();D.add(function(){d--,d===0&&!y&&!h&&(f=yo($,u))}),pe.subscribe(D),!l&&d>0&&(l=new Pr({next:function(_e){return pe.next(_e)},error:function(_e){y=!0,g(),f=yo(m,i,_e),pe.error(_e)},complete:function(){h=!0,g(),f=yo(m,a),pe.complete()}}),w(x).subscribe(l))})(c)}}function yo(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(r===!0){e();return}if(r!==!1){var i=new Pr({next:function(){i.unsubscribe(),e()}});return w(r.apply(void 0,C([],A(t)))).subscribe(i)}}function kO(e,r,t){var n,i,o,a,s=!1;return e&&typeof e=="object"?(n=e.bufferSize,a=n===void 0?1/0:n,i=e.windowTime,r=i===void 0?1/0:i,o=e.refCount,s=o===void 0?!1:o,t=e.scheduler):a=e!=null?e:1/0,Vv({connector:function(){return new rv(a,r,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function DO(e){return S(function(r,t){var n=!1,i,o=!1,a=0;r.subscribe(b(t,function(s){o=!0,(!e||e(s,a++,r))&&(n&&t.error(new $v("Too many matching values")),n=!0,i=s)},function(){n?(t.next(i),t.complete()):t.error(o?new Sv("No matching values"):new rr)}))})}function jO(e){return Je(function(r,t){return e<=t})}function NO(e){return e<=0?U:S(function(r,t){var n=new Array(e),i=0;return r.subscribe(b(t,function(o){var a=i++;if(a<e)n[a]=o;else{var s=a%e,u=n[s];n[s]=o,t.next(u)}})),function(){n=null}})}function _O(e){return S(function(r,t){var n=!1,i=b(t,function(){i==null||i.unsubscribe(),n=!0},N);w(e).subscribe(i),r.subscribe(b(t,function(o){return n&&t.next(o)}))})}function FO(e){return S(function(r,t){var n=!1,i=0;r.subscribe(b(t,function(o){return(n||(n=!e(o,i++)))&&t.next(o)}))})}function MO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=we(e);return S(function(n,i){(t?Yr(e,n,t):Yr(e,n)).subscribe(i)})}function Za(e,r){return S(function(t,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};t.subscribe(b(n,function(u){i==null||i.unsubscribe();var c=0,l=o++;w(e(u,l)).subscribe(i=b(n,function(f){return n.next(r?r(u,f,l,c++):f)},function(){i=null,s()}))},function(){a=!0,s()}))})}function LO(){return Za(U)}function UO(e,r){return S(function(t,n){var i=r;return Za(function(o,a){return e(i,o,a)},function(o,a){return i=a,a})(t).subscribe(n),function(){i=null}})}function BO(e){return S(function(r,t){w(e).subscribe(b(t,function(){return t.complete()},N)),!t.closed&&r.subscribe(t)})}function zO(e,r){return r===void 0&&(r=!1),S(function(t,n){var i=0;t.subscribe(b(n,function(o){var a=e(o,i++);(a||r)&&n.next(o),!a&&n.complete()}))})}function GO(e,r,t){var n=T(e)||r||t?{next:e,error:r,complete:t}:e;return n?S(function(i,o){var a;(a=n.subscribe)===null||a===void 0||a.call(n);var s=!0;i.subscribe(b(o,function(u){var c;(c=n.next)===null||c===void 0||c.call(n,u),o.next(u)},function(){var u;s=!1,(u=n.complete)===null||u===void 0||u.call(n),o.complete()},function(u){var c;s=!1,(c=n.error)===null||c===void 0||c.call(n,u),o.error(u)},function(){var u,c;s&&((u=n.unsubscribe)===null||u===void 0||u.call(n)),(c=n.finalize)===null||c===void 0||c.call(n)}))}):U}function Kv(e,r){return S(function(t,n){var i=r!=null?r:{},o=i.leading,a=o===void 0?!0:o,s=i.trailing,u=s===void 0?!1:s,c=!1,l=null,f=null,v=!1,d=function(){f==null||f.unsubscribe(),f=null,u&&(g(),v&&n.complete())},h=function(){f=null,v&&n.complete()},y=function(m){return f=w(e(m)).subscribe(b(n,d,h))},g=function(){if(c){c=!1;var m=l;l=null,n.next(m),!v&&y(m)}};t.subscribe(b(n,function(m){c=!0,l=m,!(f&&!f.closed)&&(a?g():y(m))},function(){v=!0,!(u&&c&&f&&!f.closed)&&n.complete()}))})}function WO(e,r,t){r===void 0&&(r=ie);var n=nr(e,r);return Kv(function(){return n},t)}function VO(e){return e===void 0&&(e=ie),S(function(r,t){var n=e.now();r.subscribe(b(t,function(i){var o=e.now(),a=o-n;n=o,t.next(new KO(i,a))}))})}var KO=function(){function e(r,t){this.value=r,this.interval=t}return e}();function HO(e){return e===void 0&&(e=li),Ne(function(r){return{value:r,timestamp:e.now()}})}function qO(e){return S(function(r,t){var n=new B;t.next(n.asObservable());var i=function(o){n.error(o),t.error(o)};return r.subscribe(b(t,function(o){return n==null?void 0:n.next(o)},function(){n.complete(),t.complete()},i)),w(e).subscribe(b(t,function(){n.complete(),t.next(n=new B)},N,i)),function(){n==null||n.unsubscribe(),n=null}})}function JO(e,r){r===void 0&&(r=0);var t=r>0?r:e;return S(function(n,i){var o=[new B],a=[],s=0;i.next(o[0].asObservable()),n.subscribe(b(i,function(u){var c,l;try{for(var f=Y(o),v=f.next();!v.done;v=f.next()){var d=v.value;d.next(u)}}catch(g){c={error:g}}finally{try{v&&!v.done&&(l=f.return)&&l.call(f)}finally{if(c)throw c.error}}var h=s-e+1;if(h>=0&&h%t===0&&o.shift().complete(),++s%t===0){var y=new B;o.push(y),i.next(y.asObservable())}},function(){for(;o.length>0;)o.shift().complete();i.complete()},function(u){for(;o.length>0;)o.shift().error(u);i.error(u)},function(){a=null,o=null}))})}function YO(e){for(var r,t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=(r=we(n))!==null&&r!==void 0?r:ie,a=(t=n[0])!==null&&t!==void 0?t:null,s=n[1]||1/0;return S(function(u,c){var l=[],f=!1,v=function(g){var m=g.window,$=g.subs;m.complete(),$.unsubscribe(),Se(l,g),f&&d()},d=function(){if(l){var g=new z;c.add(g);var m=new B,$={window:m,subs:g,seen:0};l.push($),c.next(m.asObservable()),Z(g,o,function(){return v($)},e)}};a!==null&&a>=0?Z(c,o,d,a,!0):f=!0,d();var h=function(g){return l.slice().forEach(g)},y=function(g){h(function(m){var $=m.window;return g($)}),g(c),c.unsubscribe()};return u.subscribe(b(c,function(g){h(function(m){m.window.next(g),s<=++m.seen&&v(m)})},function(){return y(function(g){return g.complete()})},function(g){return y(function(m){return m.error(g)})})),function(){l=null}})}function ZO(e,r){return S(function(t,n){var i=[],o=function(a){for(;0<i.length;)i.shift().error(a);n.error(a)};w(e).subscribe(b(n,function(a){var s=new B;i.push(s);var u=new z,c=function(){Se(i,s),s.complete(),u.unsubscribe()},l;try{l=w(r(a))}catch(f){o(f);return}n.next(s.asObservable()),u.add(l.subscribe(b(n,c,N,o)))},N)),t.subscribe(b(n,function(a){var s,u,c=i.slice();try{for(var l=Y(c),f=l.next();!f.done;f=l.next()){var v=f.value;v.next(a)}}catch(d){s={error:d}}finally{try{f&&!f.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}},function(){for(;0<i.length;)i.shift().complete();n.complete()},o,function(){for(;0<i.length;)i.shift().unsubscribe()}))})}function QO(e){return S(function(r,t){var n,i,o=function(s){n.error(s),t.error(s)},a=function(){i==null||i.unsubscribe(),n==null||n.complete(),n=new B,t.next(n.asObservable());var s;try{s=w(e())}catch(u){o(u);return}s.subscribe(i=b(t,a,a,o))};a(),r.subscribe(b(t,function(s){return n.next(s)},function(){n.complete(),t.complete()},o,function(){i==null||i.unsubscribe(),n=null}))})}function XO(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=Pt(e);return S(function(n,i){for(var o=e.length,a=new Array(o),s=e.map(function(){return!1}),u=!1,c=function(f){w(e[f]).subscribe(b(i,function(v){a[f]=v,!u&&!s[f]&&(s[f]=!0,(u=s.every(U))&&(s=null))},N))},l=0;l<o;l++)c(l);n.subscribe(b(i,function(f){if(u){var v=C([f],A(a));i.next(t?t.apply(void 0,C([],A(v))):v)}}))})}function eP(e){return Mv(qa,e)}function rP(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return S(function(t,n){qa.apply(void 0,C([t],A(e))).subscribe(n)})}function tP(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return rP.apply(void 0,C([],A(e)))}function Qa(e){return typeof e=="function"?{next:r=>e(r),error:()=>{},complete:()=>{}}:{next:r=>{var t;return(t=e.next)==null?void 0:t.call(e,r)},error:r=>{var t;return(t=e.error)==null?void 0:t.call(e,r)},complete:()=>{var r;return(r=e.complete)==null?void 0:r.call(e)}}}var Re,ut,Ae;class lx{constructor(r){E(this,Re);E(this,ut,!1);E(this,Ae,new Set);I(this,Re,r)}getValue(){return p(this,Re)}subscribe(r){if(p(this,ut))return ke.warn("Cannot subscribe to closed State"),{[Symbol.dispose]:()=>{}};const t=Qa(r);return p(this,Ae).add(t),t.next(p(this,Re)),{[Symbol.dispose]:()=>p(this,Ae).delete(t)}}setValue(r){I(this,Re,r),p(this,Ae).forEach(t=>t.next(r))}update(r){this.setValue(r(p(this,Re)))}[Symbol.dispose](){p(this,Ae).forEach(r=>r.complete()),p(this,Ae).clear(),I(this,ut,!0)}}Re=new WeakMap,ut=new WeakMap,Ae=new WeakMap;function Xa(e){return r=>{const t=Qa(e!=null?e:{}),n=r.subscribe({next:i=>t.next(i),error:i=>t.error(wt(i)),complete:()=>t.complete()});return{[Symbol.dispose]:()=>n.unsubscribe()}}}function nP(e){return new O(r=>{const t=e.subscribe(r);return()=>t[Symbol.dispose]()})}function iP(e){const r=le(e);return{subscribe:t=>Xa(t)(r)}}function oP(e){return new sP(e)}function aP(e){return{getValue:()=>e.getValue(),subscribe:r=>Xa(r)(e)}}var ct;class sP extends ev{constructor(t){super(t.getValue());E(this,ct);I(this,ct,t.subscribe({next:n=>this.next(n),error:n=>this.error(n),complete:()=>this.complete()}))}unsubscribe(){p(this,ct)[Symbol.dispose](),super.unsubscribe()}[Symbol.dispose](){this.unsubscribe()}}ct=new WeakMap;function uP(e){return{[Symbol.dispose]:()=>e.unsubscribe()}}function cP(e){return r=>new O(t=>{const n=[],i=new z;let o=!1;const a=()=>{for(;n.length>0;){const s=n.shift();t.next(s)}};return i.add(le(e).pipe(xr(1)).subscribe({next:()=>{o=!0,a()},complete:()=>{o||(t.complete(),i.unsubscribe())},error:s=>{o||t.error(s)}})),i.add(r.subscribe({next:s=>{o?t.next(s):n.push(s)},error:s=>{t.error(s),i.unsubscribe()},complete:()=>{t.complete(),i.unsubscribe()}})),{unsubscribe:()=>i.unsubscribe()}})}function lP(e){return r=>{let t=!1,n=!1,i;const o=new B;return Av(r.pipe(Ne((a,s)=>[a,s]),Yo(()=>{n=!0,i||o.complete()})),o).pipe($e(([a,s])=>t?(i=[a,s],he):(t=!0,le(e(a,s)).pipe(Yo(()=>{if(n)return o.complete();if(t=!1,i){const[u,c]=i;i=void 0,o.next([u,c])}})))))}}const fP=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:qo,AsyncSubject:tv,BehaviorSubject:ev,EMPTY:he,EmptyError:rr,NEVER:Cv,NotFoundError:Sv,ObjectUnsubscribedError:Xf,Observable:O,ReplaySubject:rv,SequenceError:$v,Subject:B,Subscriber:ci,Subscription:z,TimeoutError:Ev,UnsubscriptionError:ln,VirtualAction:iv,VirtualTimeScheduler:VI,animationFrameScheduler:WI,asapScheduler:FI,asyncScheduler:ie,audit:jv,auditTime:NT,bindCallback:lT,bindNodeCallback:fT,buffer:_T,bufferCount:FT,bufferTime:MT,bufferToggle:LT,bufferUntil:cP,bufferWhen:UT,catchError:Nv,combineLatest:Ov,combineLatestAll:zT,combineLatestWith:GT,concat:Yr,concatAll:Ha,concatMap:WT,concatWith:KT,config:je,connect:JT,connectable:gT,count:YT,debounce:ZT,debounceTime:QT,defaultIfEmpty:yi,defer:pi,delay:eO,delayWhen:Ja,dematerialize:rO,distinct:tO,distinctUntilChanged:Bv,distinctUntilKeyChanged:iO,elementAt:aO,endWith:sO,every:uO,exhaustAll:cO,exhaustMap:Ya,exhaustMapWithTrailing:lP,expand:lO,filter:Je,finalize:Yo,find:fO,findIndex:vO,first:dO,firstValueFrom:oT,forkJoin:bT,from:le,fromEvent:Jo,fromEventPattern:xv,fromSubscribable:nP,fromSubscribableState:oP,generate:OT,groupBy:hO,identity:U,ignoreElements:Uv,iif:PT,interval:Rv,isEmpty:pO,isObservable:nT,last:yO,lastValueFrom:iT,map:Ne,materialize:mO,max:gO,merge:Av,mergeAll:hi,mergeMap:$e,mergeScan:bO,mergeWith:$O,min:wO,never:xT,noop:N,observeOn:vi,of:Va,onErrorResumeNext:kv,onErrorResumeNextWith:EO,pairwise:IO,partition:CT,pipe:Ba,pluck:TO,queueScheduler:BI,race:kT,raceWith:OO,range:DT,reduce:xt,repeat:PO,retry:xO,sample:Wv,sampleTime:RO,scan:AO,scheduled:mv,sequenceEqual:CO,share:Vv,shareReplay:kO,single:DO,skip:jO,skipLast:NO,skipUntil:_O,skipWhile:FO,startWith:MO,subscribe:Xa,subscribeOn:di,subscriptionToDisposable:uP,switchAll:LO,switchMap:Za,switchScan:UO,take:xr,takeLast:Gv,takeUntil:BO,takeWhile:zO,tap:GO,throttle:Kv,throttleTime:WO,throwError:gv,throwIfEmpty:mi,timeInterval:VO,timeout:aT,timer:nr,timestamp:HO,toArray:Fv,toSubscribable:iP,toSubscribableState:aP,using:jT,window:qO,windowCount:JO,windowTime:YO,windowToggle:ZO,windowWhen:QO,withLatestFrom:XO,zip:qa,zipAll:eP,zipWith:tP},Symbol.toStringTag,{value:"Module"})),fx=fP;function Rt(e){return typeof e=="object"&&e!==null}function es(e){return Rt(e)?!!(e instanceof MessagePort||e instanceof ReadableStream||e instanceof WritableStream||e instanceof TransformStream||e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas||typeof VideoFrame<"u"&&e instanceof VideoFrame||typeof ImageBitmap<"u"&&e instanceof ImageBitmap):!1}function Zo(e){return Rt(e)&&Aa in e}function rs(e){return typeof e=="function"}function vP(e){return e===null||typeof e!="object"&&typeof e!="function"}function dP(e){if(!Rt(e))return!1;const r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function Dn(e,r=[]){if(vP(e))return[{type:"RAW",value:e},[]];if(es(e))return[{type:"RAW",value:e},[e]];const t=new Set(r);for(const[n,i]of Tr)if(!t.has(n)&&i.canHandle(e)){const[o,a]=i.serialize(e);return[{name:n,type:"HANDLER",value:o},a]}return[{type:"RAW",value:e},[]]}function jn(e){const{type:r}=e;switch(r){case"RAW":return e.value;case"HANDLER":{const t=Tr.get(e.name);if(!t)throw new Error("Unknown transfer handler ".concat(e.name));return t.deserialize(e.value)}default:throw new S0(r)}}const Hv={name:"PlainObject",handler:{canHandle:e=>dP(e)&&!Zo(e)&&Object.values(e).some(r=>rs(r)||es(r)||Zo(r)),serialize:e=>{const r={},t=[];for(const[n,i]of Object.entries(e)){const[o,a]=Dn(i,[Hv.name]);r[n]=o,t.push(...a)}return[r,t]},deserialize:e=>{const r={};for(const[t,n]of Object.entries(e))r[t]=jn(n);return r}}},se={name:"Function",handler:{canHandle:e=>rs(e)&&!Zo(e),serialize:e=>{const{port1:r,port2:t}=new MessageChannel;return ni(e,r),[t,[t]]},deserialize:e=>(e.start(),ka(e))}},hP={name:"NativeTransferable",handler:{canHandle:es,serialize:e=>[e,[e]],deserialize:e=>e}},pP={name:"Result",handler:{canHandle:e=>si(e),serialize:e=>{if(e.ok){const[r,t]=Dn(e.value);return[{ok:!0,value:r},t]}else{const[r,t]=Dn(e.error);return[{ok:!1,error:r},t]}},deserialize:e=>e.ok?Et(jn(e.value)):It(jn(e.error))}},yP={name:"Disposable",handler:{canHandle:e=>Rt(e)&&(Symbol.dispose in e||Symbol.asyncDispose in e),serialize:e=>{const[r,t]=Dn(e,["Disposable"]),[n,i]=Symbol.dispose in e?se.handler.serialize(()=>e[Symbol.dispose]()):[void 0,[]],[o,a]=Symbol.asyncDispose in e?se.handler.serialize(()=>e[Symbol.asyncDispose]()):[void 0,[]];return[[r,n,o],[...t,...i,...a]]},deserialize:([e,r,t])=>{const n=jn(e),i=r?se.handler.deserialize(r):void 0,o=t?se.handler.deserialize(t):void 0;return new Proxy(n,{get(a,s,u){return s===Symbol.dispose?i:s===Symbol.asyncDispose?o:Reflect.get(a,s,u)},has(a,s){return s===Symbol.dispose||s===Symbol.asyncDispose||Reflect.has(a,s)}})}}},mP={name:"Subscribable",handler:{canHandle:e=>Rt(e)&&"subscribe"in e&&rs(e.subscribe),serialize:e=>{const r=t=>e.subscribe({next:n=>void t.next(n),error:n=>void t.error(n),complete:()=>void t.complete()});return se.handler.serialize(r)},deserialize:e=>({subscribe:r=>{const t=se.handler.deserialize(e),n=Qa(r),i=t(ii({next:o=>n.next(o),error:o=>n.error(o),complete:()=>n.complete()}));return{[Symbol.dispose]:()=>{i.then(o=>o[Symbol.dispose]()),t[Ca]()}}}})}},gP={name:"Observable",handler:{canHandle:e=>e instanceof O,serialize:e=>{const r=t=>e.subscribe({next:n=>void t.next(n),error:n=>void t.error(n),complete:()=>void t.complete()});return se.handler.serialize(r)},deserialize:e=>new O(r=>{se.handler.deserialize(e)(ii({next:n=>r.next(n),error:n=>r.error(n),complete:()=>r.complete()})).then(n=>(r.add(()=>{n.unsubscribe()}),n)).catch(()=>{})})}},bP={name:"Subscription",handler:{canHandle:e=>e instanceof z,serialize:e=>se.handler.serialize(()=>e.unsubscribe()),deserialize:e=>new z(()=>{const r=se.handler.deserialize(e);r().catch(()=>{}).finally(()=>{e.close(),r[Ca]()})})}};function ts(){const e=[se,yP,bP,gP,mP,pP,hP,Hv];for(const{name:r,handler:t}of e)Tr.has(r)||Tr.set(r,t)}function vx(){ts()}function dx(e){return ii(e)}function hx(e){ts();const r=ka(e),t=Reflect.get(r,qf);return Promise.resolve().then(()=>t(k0())).catch(n=>ke.error("Failed to transfer global state:",n)),e.addEventListener("error",n=>{ke.error("Worker error: "+n.message),ke.verbose("Details:",{message:n.message,filename:n.filename,lineno:n.lineno,colno:n.colno},n.error)}),Object.assign(r,{[Symbol.dispose](){e.terminate()}})}function px(e){ts();let r=!1;const t=Promise.withResolvers();ni({...Object.fromEntries(Object.entries(e).map(([n,i])=>[n,typeof i=="function"?async(...o)=>(await t.promise,i(...o)):i])),[qf]:async n=>{if(r){ke.warn("Worker global state is already initialized. Ignoring the new state.");return}r=!0,D0(n),t.resolve()}})}export{lx as $,ti as A,Or as B,ce as C,ex as D,YP as E,BP as F,Qa as G,FP as H,fI as I,IP as J,HP as K,CP as L,sx as M,ni as N,ka as O,vx as P,DP as Q,wP as R,rx as S,tx as T,S0 as U,nx as V,ix as W,NP as X,kP as Y,jP as Z,$P as _,si as a,fx as a0,pI as a1,wt as a2,An as a3,vc as a4,Rn as a5,KP as a6,qP as a7,XP as a8,cx as a9,GP as aa,ux as ab,ax as ac,dx as ad,px as ae,ZP as af,QP as ag,hx as ah,ox as ai,Cr as aj,oT as ak,kT as al,nr as am,GO as an,Ne as ao,WP as b,OP as c,Nf as d,RP as e,It as f,_P as g,AP as h,m0 as i,hI as j,xP as k,TP as l,zP as m,y0 as n,VP as o,ii as p,UP as q,Kf as r,Et as s,JP as t,ja as u,Vf as v,ke as w,LP as x,MP as y,PP as z};
//# sourceMappingURL=index-D8eA2Snd.js.map
