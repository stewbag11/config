var D=Object.defineProperty;var v=s=>{throw TypeError(s)};var k=(s,t,e)=>t in s?D(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var p=(s,t,e)=>k(s,typeof t!="symbol"?t+"":t,e),w=(s,t,e)=>t.has(s)||v("Cannot "+e);var i=(s,t,e)=>(w(s,t,"read from private field"),e?e.call(s):t.get(s)),o=(s,t,e)=>t.has(s)?v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,e),m=(s,t,e,a)=>(w(s,t,"write to private field"),a?a.call(s,e):t.set(s,e),e),b=(s,t,e)=>(w(s,t,"access private method"),e);var E=(s,t,e,a)=>({set _(c){m(s,t,c,e)},get _(){return i(s,t,a)}});import{c as j,J as x}from"./index-D8eA2Snd.js";import{b as C}from"./index-BUrsDwB9.js";import{E as J}from"./Emitter-B4Dl_G-CoLDBUlE.js";var r,l,u,n,h,f;class U{constructor(){o(this,h);o(this,r,new Map);o(this,l,new J);o(this,u,0);o(this,n,null);p(this,"subscribe",t=>{const e=i(this,l).subscribe(t);return()=>x(e)});p(this,"getSnapshot",()=>{var t;return(t=i(this,n))!=null?t:m(this,n,Object.fromEntries(i(this,r).entries()))})}add(t,e){var d;const a=(d=i(this,r).get(e.slot))!=null?d:[],c="v".concat(E(this,u)._++);return i(this,r).set(e.slot,[...a,{key:c,view:C.createElement(t),options:e}]),b(this,h,f).call(this),j(()=>{const g=i(this,r).get(e.slot);g&&(i(this,r).set(e.slot,g.filter(y=>y.key!==c)),b(this,h,f).call(this))})}clear(){i(this,r).clear(),b(this,h,f).call(this)}}r=new WeakMap,l=new WeakMap,u=new WeakMap,n=new WeakMap,h=new WeakSet,f=function(){m(this,n,null),i(this,l).emit()};export{U as D};
//# sourceMappingURL=index-COdledhs.js.map
