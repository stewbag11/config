{"version":3,"file":"timeoutWith-lGRlQu-D2GsbXJn.js","sources":["../../../util-reactive/dist/timeoutWith-lGRlQu.mjs"],"sourcesContent":["import '@grammarly/util-error';\nimport { firstValueFrom, race, timer, tap, map } from 'rxjs';\n\n/**\n * Race an Rx.ObservableInput with a timeout. If the timeout occurs, `options.onTimeout()` will be\n * executed and `options.defaultValue` will be returned\n * @public\n * @param input - The input to be raced\n * @param options - Options to configure the timeout in milliseconds, the handler and the default value to return.\n * @returns A Promise with the result\n */\nasync function timeoutWith(input, options) {\n    return await firstValueFrom(race([\n        input,\n        timer(options.timeoutMs).pipe(tap(options.onTimeout), map(() => options.defaultValue)),\n    ]), { defaultValue: options.defaultValue });\n}\n\nexport { timeoutWith };\n//# sourceMappingURL=timeoutWith-lGRlQu.mjs.map\n"],"names":["timeoutWith","input","options","firstValueFrom","race","timer","tap","map"],"mappings":"yEAWA,eAAeA,EAAYC,EAAOC,EAAS,CACvC,OAAO,MAAMC,EAAeC,EAAK,CAC7BH,EACAI,EAAMH,EAAQ,SAAS,EAAE,KAAKI,EAAIJ,EAAQ,SAAS,EAAGK,EAAI,IAAML,EAAQ,YAAY,CAAC,CACxF,CAAA,EAAG,CAAE,aAAcA,EAAQ,YAAc,CAAA,CAC9C"}