(self.webpackChunk=self.webpackChunk||[]).push([[1529],{81529:(t,n,e)=>{function r(t,n,e){if("function"==typeof t?t===n:t.has(n))return arguments.length<3?n:e;throw new TypeError("Private element is not present on this object")}function i(t,n){if(n.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function o(t,n){return t.get(r(t,n))}function u(t,n,e){i(t,n),n.set(t,e)}function c(t,n,e){return t.set(r(t,n),e),e}function s(t,n){i(t,n),n.add(t)}function a(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==typeof n?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function f(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?f(Object(e),!0).forEach((function(n){a(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function h(){var t="function"==typeof SuppressedError?SuppressedError:function(t,n){var e=Error();return e.name="SuppressedError",e.error=t,e.suppressed=n,e},n={},e=[];function r(t,n){if(null!=n){if(Object(n)!==n)throw new TypeError("using declarations can only be used with objects, functions, null, or undefined.");if(t)var r=n[Symbol.asyncDispose||Symbol.for("Symbol.asyncDispose")];if(null==r&&(r=n[Symbol.dispose||Symbol.for("Symbol.dispose")]),"function"!=typeof r)throw new TypeError("Property [Symbol.dispose] is not a function.");e.push({v:n,d:r,a:t})}else t&&e.push({d:n,a:t});return n}return{e:n,u:r.bind(null,!1),a:r.bind(null,!0),d:function(){var r=this.e;function i(){for(;t=e.pop();)try{var t,u=t.d&&t.d.call(t.v);if(t.a)return Promise.resolve(u).then(i,o)}catch(t){return o(t)}if(r!==n)throw r}function o(e){return r=r!==n?new t(e,r):e,i()}return i()}}}e.d(n,{M:()=>Td,p:()=>Sd});const v=!1,d=Symbol("transferable"),p=new Map;function b(t,n){return p.set(n.stableUniqueIdentifier,new WeakRef(t)),Object.defineProperty(t,d,{value:n,enumerable:!1,writable:!1,configurable:!1}),t}function y(t){return new Promise(((n,e)=>{t.oncomplete=t.onsuccess=()=>n(t.result),t.onabort=t.onerror=()=>e(t.error)}))}let m;function g(){return m||(m=function(t,n){const e=indexedDB.open(t);e.onupgradeneeded=()=>e.result.createObjectStore(n);const r=y(e);return(t,e)=>r.then((r=>e(r.transaction(n,t).objectStore(n))))}("keyval-store","keyval")),m}function w(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g();return e("readwrite",(e=>(e.put(n,t),y(e.transaction))))}class x{constructor(){a(this,"writers",new Set)}write(t){for(const n of this.writers)n.write(t)}}var S=new WeakMap,E=new WeakMap,k=new WeakMap,O=new WeakSet,T=new WeakMap;class j{constructor(){if(s(this,O),u(this,S,"undefined"!=typeof self&&void 0!==self.document),u(this,E,null),u(this,k,null),u(this,T,new Map),o(S,this)){Reflect.get(globalThis,"DEBUG")||console.info('To filter log messages, set `DEBUG` variable, e.g. `DEBUG="app"` to see only "app" logs or `DEBUG=["*", "!app"]` to see all logs except "app".')}}write(t){switch(t.level){case"error":console.error(...r(O,this,P).call(this,t),...t.args.map(D));break;case"warn":console.warn(...r(O,this,P).call(this,t),...t.args.map(D));break;case"info":console.info(...r(O,this,P).call(this,t),...t.args.map(D));break;case"verbose":if(t.logger&&!r(O,this,_).call(this,t.logger))return;console.debug(...r(O,this,P).call(this,t),...t.args.map(D))}}}function _(t){if(o(E,this)!==JSON.stringify(Reflect.get(globalThis,"DEBUG"))){const t=Reflect.get(globalThis,"DEBUG");if(t&&"*"!==t){const n=(Array.isArray(t)?t.map(String):[String(t)]).map((t=>t.replace(/[*]/g,".*"))),e=n.filter((t=>!t.startsWith("!"))),r=n.filter((t=>t.startsWith("!"))).map((t=>t.slice(1)));0===r.length&&r.push("\0");const i=new RegExp("^(".concat(e.join("|"),")"),"i"),u=new RegExp("^(".concat(r.join("|"),")"),"i");o(S,this)&&console.info("Logs are filtered using `DEBUG` variable:",t,"inclusion:",i.source,"exclusion:",u.source),c(k,this,[i,u])}else c(k,this,null),o(S,this)&&console.info("Logs are not filtered.");c(E,this,JSON.stringify(t))}return o(k,this)?o(k,this)[0].test(t)&&!o(k,this)[1].test(t):v}function P(t){const n=o(S,this)?"Inkwell MAIN":"Inkwell WORK",e="background: ".concat(o(S,this)?"olive":"salmon","; color: white; padding: 2px 4px; border-radius: 2px; font-size: 0.6em; margin-right: 0.5em;");if(null===t.logger)return["%c".concat(n,"%c ").concat(new Date(t.timestamp).toISOString()," ").concat(t.text),e,""];const i=r(O,this,A).call(this,t.logger),u=null!==t.context?"".concat(t.logger,"|").concat(t.context):t.logger,c="background: ".concat(i,"; color: white");return["%c".concat(n,"%c ").concat(new Date(t.timestamp).toISOString()," [").concat(u,"]%c ").concat(t.text),e,c,""]}function A(t){var n;if(!t.includes("|"))return"black";const e=null!==(n=t.split("|").pop())&&void 0!==n?n:t;if(!o(T,this).has(e)){const t=137.508*o(T,this).size;o(T,this).set(e,"hsl(".concat(t,", 100%, 20%)"))}return o(T,this).get(e)}function D(t){return!t||"object"!=typeof t||Array.isArray(t)?t:Symbol.iterator in t?"[Iterable ".concat(function(t){(Reflect.has(t,Symbol.toStringTag)||Reflect.has(t,"toString"))&&Reflect.get(t,Symbol.toStringTag);const n=Reflect.getPrototypeOf(t);if(null!=n&&n.constructor)return"".concat(n.constructor.name);return"Object"}(t),"]"):function(t){const n=Reflect.get(t,"toString");if("function"==typeof n&&n!==Object.prototype.toString)return!0;if(Reflect.has(t,Symbol.toStringTag))return!0;return!1}(t)?function(t){return String(t)}(t):t}var R=new WeakMap,I=new WeakMap;class C{constructor(){u(this,R,[]),u(this,I,null)}get messages(){return o(R,this)}write(t){const n="".concat(new Date(t.timestamp).toISOString()," ").concat(t.level.toUpperCase()," ").concat(t.text," ").concat(t.args.map(M).join(" "));o(I,this)?o(I,this).postMessage(n):o(R,this).push(n)}clear(){o(R,this).length=0}toTransferable(){const t=new MessageChannel;return t.port1.onmessage=t=>{"string"==typeof t.data&&o(R,this).push(t.data)},{kind:"MemoryLogWriter",port:t.port2}}static fromTransferable(t){const n=new C;return c(I,n,t.port),n}async copyToClipboard(){const t=o(R,this).sort().join("\n"),n=Reflect.get(globalThis,"copy");"function"==typeof n?n(t):await navigator.clipboard.writeText(t)}}function M(t){if(!t||"object"!=typeof t||Array.isArray(t))return t;if(Symbol.iterator in t)return"[Iterable ".concat(N(t),"]");if(function(t){const n=Reflect.get(t,"toString");if("function"==typeof n&&n!==Object.prototype.toString)return!0;if(Reflect.has(t,Symbol.toStringTag))return!0;return!1}(t))return function(t){return String(t)}(t);try{return JSON.stringify(t,null,2)}catch(n){return"[Non-Serializable Object ".concat(N(t),"]")}}function N(t){(Reflect.has(t,Symbol.toStringTag)||Reflect.has(t,"toString"))&&Reflect.get(t,Symbol.toStringTag);const n=Reflect.getPrototypeOf(t);return null!=n&&n.constructor?"".concat(n.constructor.name):"Object"}var W=new WeakMap,F=new WeakMap,U=new WeakMap;class z{constructor(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(this,W,void 0),u(this,F,void 0),u(this,U,void 0),c(W,this,n),c(F,this,e),c(U,this,t)}write(t){var n;o(U,this).write(l(l({},t),{},{context:null!==(n=t.context)&&void 0!==n?n:o(F,this),logger:t.logger?"".concat(t.logger,"/").concat(o(W,this)):o(W,this)}))}}var L=new WeakMap,B=new WeakMap,G=new WeakMap,q=new WeakMap,J=new WeakSet;class V{constructor(t){let{maximumTokens:n,tokensPerSecond:e}=t;s(this,J),u(this,L,void 0),u(this,B,void 0),u(this,G,void 0),u(this,q,void 0),c(L,this,Math.abs(e/1e3)),c(B,this,Math.max(1,n)),c(G,this,o(B,this)),c(q,this,performance.now())}take(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!!this.canTake(t)&&(c(G,this,o(G,this)-t),!0)}canTake(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r(J,this,Z).call(this),o(G,this)>=t}}function Z(){const t=performance.now(),n=Math.floor((t-o(q,this))*o(L,this));n>0&&(c(G,this,Math.min(o(B,this),o(G,this)+n)),c(q,this,t))}var K=new WeakMap,Y=new WeakMap;class H{constructor(t){let{eventsPerSecond:n,eventsPerMinute:e}=t;u(this,K,void 0),u(this,Y,void 0),c(K,this,new V({maximumTokens:n,tokensPerSecond:n})),c(Y,this,new V({maximumTokens:e,tokensPerSecond:e/60}))}shouldSelect(){return o(K,this).canTake()&&o(Y,this).take()&&o(K,this).take()}}const X={patterns:{email:{regex:'(([^<>()[\\]\\\\.,;:\\s@"]+(\\.[^<>()[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))',prefixes:[],priority:0,description:"Email"},url:{regex:"[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b((([-a-zA-Z0-9()@%_\\+~#&//=\\[\\]])|([.:?](?!$|\\s)))*)?",prefixes:["http://","https://"],priority:1,description:"URL"},creditCardNumber:{regex:"(\\d{4}\\d{4}\\d{4}\\d{4})|(\\d{4}\\-\\d{4}\\-\\d{4}\\-\\d{4})|(\\d{4}\\s\\d{4}\\s\\d{4}\\s\\d{4})",prefixes:[],priority:2,description:"Credit card number"},phoneNumber:{regex:"[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}",prefixes:[],priority:3,description:"Phone number"},usSSN:{regex:"[0-9]{3}[-]*[0-9]{2}[-]*[0-9]{4}",prefixes:[],priority:4,description:"US SSN"},caSSN:{regex:"[0-9]{3}[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{3}",prefixes:[],priority:5,description:"CA SIN"},ukSSN:{regex:"[A-Z]{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?\\d{2}[\\s\\-]?[A-Z]",prefixes:[],priority:6,description:"UK NI NO"},iban:{regex:"[A-Z]{2}(-?|\\ )\\d{2}-?(?:\\ ?[A-Z]{4}-?)?(?:\\d{13,}|(?:\\ \\d{4}){3,5}\\ \\d{1,4})",prefixes:[],priority:7,description:"IBAN number"},variousID:{regex:"[A-Z]{0,2}(?:\\d{3,8}[\\ -])(?:\\d{2,8}[\\ -]){1,4}\\d{2,4}|\\d{7}[A-Z]?|\\d{5,18}",prefixes:[],priority:8,description:"Various ID number"}}};const $="a".charCodeAt(0),Q="z".charCodeAt(0),tt="A".charCodeAt(0),nt="Z".charCodeAt(0),et="0".charCodeAt(0),rt="9".charCodeAt(0),it=t=>t>=$&&t<=Q,ot=t=>t>=tt&&t<=nt,ut=t=>t>=et&&t<=rt;function ct(t,n){const e=new Array(t.length);let r=n;for(let n=t.length-1;n>=0;n--){const i=t.charCodeAt(n);it(i)?(e[n]=$+(n+r)%26,r/=26):ot(i)?(e[n]=tt+(n+r)%26,r/=26):ut(i)?(e[n]=et+(n+1+r)%10,r/=10):e[n]=i}return String.fromCharCode(...e)}function st(t,n){let{groups:e,index:r}=n;const[i,o]=Object.entries(e).find((t=>{let[,n]=t;return void 0!==n}));return l(l({id:i},t.patterns[i]),{},{text:o,start:r,end:r+o.length})}class at{constructor(t){a(this,"dlpConfiguration",void 0),a(this,"dlpRegex",void 0),a(this,"seed",0),this.dlpConfiguration=t,this.dlpRegex=function(t){let{patterns:n}=t;return new RegExp(Object.entries(n).sort(((t,n)=>{let[,{priority:e}]=t,[,{priority:r}]=n;return e-r})).map((t=>{let[n,{regex:e,prefixes:r}]=t;return e=r.length?"(".concat(r.join("|"),")").concat(e):e,"(?<".concat(n,">").concat(e,")")})).join("|"),"g")}(this.dlpConfiguration)}matchAll(t){const n=[];for(this.dlpRegex.lastIndex=0;;){const e=this.dlpRegex.exec(t);if(!e)break;const r={groups:e.groups,index:e.index};n.push(st(this.dlpConfiguration,r))}return this.dlpRegex.lastIndex=0,n}sanitizedReplacement(t){return function(t,n){let{prefixes:e,text:r}=t;const i=e.find((t=>0===r.indexOf(t)));return void 0!==i?"".concat(i).concat(ct(r.slice(i.length),n)):ct(r,n)}(t,this.seed++)}sanitize(t){var n=this;return t.replace(this.dlpRegex,(function(){var t,e;const r={groups:(t=arguments.length-1,t<0||arguments.length<=t?void 0:arguments[t]),index:(e=arguments.length-3,e<0||arguments.length<=e?void 0:arguments[e])},i=st(n.dlpConfiguration,r);return n.sanitizedReplacement(i)}))}}class ft extends at{sanitize(t){const n=super.sanitize(t);return this.seed=0,n}}const lt=new ft(X),ht=lt.sanitize.bind(lt),vt={error:"ERROR",warn:"WARN",info:"INFO",verbose:"DEBUG"};var dt=new WeakMap,pt=new WeakMap,bt=new WeakMap,yt=new WeakMap,mt=new WeakMap,gt=new WeakSet;class wt{constructor(t){s(this,gt),u(this,dt,new Map),u(this,pt,void 0),u(this,bt,void 0),u(this,yt,0),u(this,mt,null),c(pt,this,t),c(bt,this,new H({eventsPerSecond:t.logsPerSecond,eventsPerMinute:t.logsPerMinute}))}write(t){var n,e;"verbose"!==t.level&&(o(bt,this).shouldSelect()?r(gt,this,St).call(this,null!==(n=t.delivery)&&void 0!==n?n:{},r(gt,this,xt).call(this,t)):c(yt,this,(e=o(yt,this),++e)))}[Symbol.dispose](){null!==o(mt,this)&&(clearTimeout(o(mt,this)),c(mt,this,null)),r(gt,this,kt).call(this)}toTransferable(){return{kind:"FeLogWriter",options:o(pt,this)}}static fromTransferable(t){return new wt(t.options)}}function xt(t){var n;return JSON.stringify({timestamp:t.timestamp,level:vt[t.level],message:t.text,logger:null!==(n=t.logger)&&void 0!==n?n:"root",application:o(pt,this).application,version:o(pt,this).version,client:o(pt,this).client,env:o(pt,this).environment,session:o(pt,this).sessionId,extra:"error"===t.level?t.args.slice(1):t.args,exception:"error"===t.level?t.args[0]:void 0},((t,n)=>"string"==typeof n?ht(n):n))}function St(t,n){var e,i;const u="".concat(null!==(e=t.dataTier)&&void 0!==e?e:"continuous",":").concat(null!==(i=t.retentionInDays)&&void 0!==i?i:30),c=o(dt,this).get(u);c?c.messages.push(n):o(dt,this).set(u,{options:t,messages:[n]}),r(gt,this,Et).call(this)}function Et(){if(null!==o(mt,this))return;c(mt,this,setTimeout((()=>{c(mt,this,null),r(gt,this,kt).call(this)}),7500))}function kt(){for(const t of o(dt,this).values())r(gt,this,Ot).call(this,t.options,t.messages);o(yt,this)>0&&(r(gt,this,Ot).call(this,{retentionInDays:30,dataTier:"infrequent"},[r(gt,this,xt).call(this,{timestamp:Date.now(),level:"warn",logger:"FeLogWriter",context:null,text:"Dropped log messages due to rate limiting.",delivery:null,args:[{count:o(yt,this)}]})]),c(yt,this,0)),o(dt,this).clear()}function Ot(t,n){let{retentionInDays:e=30,dataTier:r="continuous"}=t;if(0===n.length)return;const i="[".concat(n.join(","),"]"),o=new URL("https://f-log-inkwell.grammarly.io/batch/log");o.searchParams.set("retention",String(e)),o.searchParams.set("datatier",r),function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return new Promise(((e,r)=>{let i=0;const o=()=>{t().then(e).catch((t=>{i++<n?setTimeout(o,2**i*1e3):r(t)}))};o()}))}((async()=>{var t;const n=await fetch(o,{body:i,method:"POST",cache:"no-store",headers:{"Content-Type":"application/json"},keepalive:!0});if(null===(t=n.body)||void 0===t||t.cancel(),!n.ok)throw new Error("Failed to send logs: ".concat(n.status," ").concat(n.statusText))})).catch((t=>{v}))}var Tt=new WeakMap;class jt{constructor(t){a(this,"writer",void 0),u(this,Tt,new Map),this.writer=t}error(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];if(1===n.length){const t="string"==typeof n[0]?n[0]:n[0].message,e="string"==typeof n[0]?null:n[0];this.writer.write({context:null,timestamp:Date.now(),logger:null,level:"error",text:t,args:null===e?[]:[e],delivery:null})}else if(2===n.length&&"string"==typeof n[0]){var r;const t=n[0],e="object"==typeof n[1]&&n[1]&&"message"in n[1]?n[1]:null,i=null===e?n[1]:void 0;this.writer.write(l(l({context:null},i),{},{timestamp:Date.now(),logger:null,level:"error",text:t,args:null===e?[]:[e],delivery:null!==(r=null==i?void 0:i.delivery)&&void 0!==r?r:null}))}else if(2===n.length){var i;const t=n[0],e=n[1];this.writer.write(l(l({context:null},e),{},{timestamp:Date.now(),logger:null,level:"error",text:t.message,args:[t],delivery:null!==(i=null==e?void 0:e.delivery)&&void 0!==i?i:null}))}else{var o;const t=n[0],e=n[1],r=n[2];this.writer.write(l(l({context:null},r),{},{timestamp:Date.now(),logger:null,level:"error",text:t,args:[e],delivery:null!==(o=null==r?void 0:r.delivery)&&void 0!==o?o:null}))}}warn(t,n){var e;this.writer.write(l(l({context:null},n),{},{timestamp:Date.now(),logger:null,level:"warn",text:t,args:[],delivery:null!==(e=null==n?void 0:n.delivery)&&void 0!==e?e:null}))}info(t,n){var e;this.writer.write(l(l({context:null},n),{},{timestamp:Date.now(),logger:null,level:"info",text:t,args:[],delivery:null!==(e=null==n?void 0:n.delivery)&&void 0!==e?e:null}))}verbose(t,n){var e;const r="string"==typeof t?{}:t,i="string"==typeof t?t:n;for(var o=arguments.length,u=new Array(o>2?o-2:0),c=2;c<o;c++)u[c-2]=arguments[c];const s="string"==typeof t?void 0===n?u:[n,...u]:u;this.writer.write(l(l({context:null},r),{},{logger:null,timestamp:Date.now(),level:"verbose",text:i,args:s,delivery:null!==(e=null==r?void 0:r.delivery)&&void 0!==e?e:null}))}createLogger(t){var n;let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=null!==(n=o(Tt,this).get(t))&&void 0!==n?n:0;try{return new jt(new z(this.writer,t,null!=e?e:r>0?"".concat(r):null))}finally{o(Tt,this).set(t,r+1)}}addWriter(t){const n=this.writer;if(n instanceof x)return n.writers.add(t),{[Symbol.dispose]:()=>{n.writers.delete(t)}};throw new Error("This should be unreachable.")}getWriters(){const t=this.writer;if(t instanceof x)return Array.from(t.writers);throw new Error("This should be unreachable.")}}function _t(){let t;try{const n=localStorage.getItem("DEBUG");t=JSON.parse(null!=n?n:"null"),w("DEBUG",JSON.stringify(t)).catch((()=>{}))}catch(t){}return Reflect.getOwnPropertyDescriptor(globalThis,"DEBUG")||Object.defineProperty(globalThis,"DEBUG",{get:()=>{void 0===t&&function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:g())("readonly",(n=>y(n.get(t))))}("DEBUG").then((n=>{try{t=JSON.parse(null!=n?n:"null")}catch(t){}})).catch((()=>{}));try{var n;return JSON.parse(null!==(n=localStorage.getItem("DEBUG"))&&void 0!==n?n:"null")}catch(n){return t}},set:n=>{w("DEBUG",JSON.stringify(n)).catch((()=>{}));try{localStorage.setItem("DEBUG",JSON.stringify(n))}catch(t){}t=n}}),new jt(new x)}const Pt=b(_t(),{stableUniqueIdentifier:"@grammarly/util-logging:DefaultLogger",serialize:t=>{const n=[];return[{writers:t.getWriters().map((t=>{if(t instanceof j)return{kind:"ConsoleLogWriter"};if(t instanceof C){const e=t.toTransferable();return n.push(e.port),e}return t instanceof wt?t.toTransferable():void 0})),DEBUG:Reflect.get(globalThis,"DEBUG")},n]},deserialize:(t,n)=>{let{writers:e,DEBUG:r}=t;Reflect.set(globalThis,"DEBUG",r);for(const t of e)if(t)switch(t.kind){case"ConsoleLogWriter":n.addWriter(new j);break;case"MemoryLogWriter":n.addWriter(C.fromTransferable(t));break;case"FeLogWriter":n.addWriter(wt.fromTransferable(t))}}});class At{constructor(t,n){a(this,"name",void 0),a(this,"message",void 0),a(this,"cause",void 0),a(this,"stack",void 0),this.name=this.constructor===At?"Error":this.constructor.name,this.message=t,this.cause=n,this.stack=At.isStackTraceEnabled?function(t,n){if(!t)return;const e=t.split("\n");return e.splice(1,n.skip),e.join("\n")}(new Error(t).stack,{skip:1}):void 0}toString(){var t;const n=this.constructor===At?"Error":this.name;if(this.cause){const t="Caused by ".concat(Wt(Nt(this.cause),2));return"".concat(n,": ").concat(this.message,"\n").concat(t)}return"".concat(n,": ").concat(this.message,"\n").concat(Wt(null!==(t=this.stack)&&void 0!==t?t:"",2))}[Symbol.toStringTag](){return this.toString()}toJSON(){return{name:this.name,message:this.message,stack:this.stack,cause:this.cause instanceof At?this.cause:Dt(this.cause)}}}function Dt(t){if(void 0!==t)return t instanceof At?t.toJSON():{name:t.name,message:t.message,stack:t.stack,cause:t.cause instanceof Error?Dt(t.cause):t.cause}}function Rt(t){if(t instanceof At)return t;if(t instanceof Error){const n=new At(t.message);return Reflect.set(n,"name",t.name),Reflect.set(n,"stack",t.stack),t.cause&&Reflect.set(n,"cause",Rt(t.cause)),n}return"object"==typeof(n=t)&&null!==n&&"message"in n&&"string"==typeof n.message?It(t):new Ct(t);var n}function It(t){const{message:n,name:e,cause:r,stack:i}=t,o=new At(String(null!=n?n:"Unknown error"));return e&&Reflect.set(o,"name",String(e)),i&&Reflect.set(o,"stack",String(i)),r&&Reflect.set(o,"cause",It(r)),o}a(At,"isStackTraceEnabled",!0);class Ct extends At{constructor(t){super("An unknown error occurred: "+String(t)),a(this,"thrownError",void 0),this.thrownError=t}toJSON(){return l(l({},super.toJSON()),{},{thrownError:this.thrownError})}}class Mt extends At{constructor(t){super("Unreachable case: ".concat(String(t))),a(this,"value",void 0),this.value=t}}function Nt(t){var n;if(t instanceof At)return t.toString();if(t.cause){const n="Caused by ".concat(Wt(Nt(Rt(t.cause)),2));return"".concat(t.name,": ").concat(t.message,"\n").concat(n)}return"".concat(t.name,": ").concat(t.message,"\n").concat(Wt(null!==(n=t.stack)&&void 0!==n?n:"",2))}function Wt(t,n){const e=" ".repeat(n);return t.replace(/^(?!Caused by )/gm,e).trimStart()}function Ft(t){return"object"==typeof t&&null!==t&&"ok"in t&&"boolean"==typeof t.ok&&(t.ok?"value"in t:"error"in t&&((n=t.error)instanceof Error||"object"==typeof n&&null!==n&&"message"in n&&"string"==typeof n.message));var n}function Ut(t){return Object.freeze({ok:!0,value:t,error:void 0})}function zt(t){return Object.freeze({ok:!1,value:void 0,error:t})}function Lt(t){return Ft(t)&&Bt(t)?t:zt(Rt(t))}function Bt(t){return!t.ok}const Gt=Symbol();function qt(t){return Zt(Ut(t))}function Jt(t){return Zt(zt(t))}function Vt(t){return Kt((()=>t))}function Zt(t){return function(t){return Object.defineProperty(t,Gt,{value:!0,enumerable:!1,configurable:!1}),t}(Promise.resolve(t))}function Kt(t){return(async()=>{try{const n=await t();return Ft(n)?Zt(n):qt(n)}catch(t){return Lt(t)}})()}function Yt(t){return async n=>{const e=await async function(t){try{return await t}catch(t){return Lt(t)}}(n);if(e.ok)return e;try{return Jt(await t(e.error))}catch(t){return Lt(t)}}}var Ht=new WeakMap,Xt=new WeakMap,$t=new WeakMap,Qt=new WeakMap;class tn{constructor(){u(this,Ht,Pt.createLogger("FastDOM")),u(this,Xt,[]),u(this,$t,[]),u(this,Qt,!1)}get estimatedExecutionDuration(){return(o(Xt,this).length+7*o($t,this).length)/40}measure(t){const n=Promise.withResolvers();return o(Xt,this).push((()=>{try{n.resolve(t())}catch(t){n.reject(t)}})),this._schedule(),Vt(n.promise)}mutate(t){const n=Promise.withResolvers();return o($t,this).push((async()=>{try{n.resolve(await t())}catch(t){n.reject(t)}})),this._schedule(),Vt(n.promise)}_schedule(){o(Qt,this)||(c(Qt,this,!0),requestAnimationFrame((()=>this.flush())))}flush(){performance.now();const t=o(Xt,this).splice(0),n=o($t,this).splice(0);t.forEach((t=>t()));performance.now();n.forEach((t=>t()));performance.now();c(Qt,this,!1)}clear(){o(Xt,this).length=0,o($t,this).length=0}}const nn=new tn;function en(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===n?.5+t|0:Math.round((t+Number.EPSILON)*10**n)/10**n}function rn(t,n,e){t.style.getPropertyValue(n)!==e&&(null==e?t.style.removeProperty(n):t.style.setProperty(n,String(e)))}function on(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self.devicePixelRatio;const e=1===n?0:n<10?1:n<100?2:Math.ceil(Math.log10(n));return en(t,e)}const un=function(t){let n=t;for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];const o=r.length;for(let t=0;t<o;t++)n=r[t](n);return n};function cn(t){return n=>(t(n),n)}var sn,an,fn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ln={};function hn(){if(an)return sn;an=1;var t=function(t){return t&&t.Math===Math&&t};return sn=t("object"==typeof globalThis&&globalThis)||t("object"==typeof self&&self)||t("object"==typeof self&&self)||t("object"==typeof fn&&fn)||t("object"==typeof sn&&sn)||function(){return this}()||Function("return this")()}var vn,dn,pn,bn,yn,mn,gn,wn,xn={};function Sn(){return dn?vn:(dn=1,vn=function(t){try{return!!t()}catch(t){return!0}})}function En(){if(bn)return pn;bn=1;var t=Sn();return pn=!t((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))}function kn(){if(mn)return yn;mn=1;var t=Sn();return yn=!t((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))}function On(){if(wn)return gn;wn=1;var t=kn(),n=Function.prototype.call;return gn=t?n.bind(n):function(){return n.apply(n,arguments)},gn}var Tn,jn,_n,Pn,An,Dn,Rn,In,Cn,Mn,Nn,Wn,Fn,Un,zn,Ln,Bn,Gn,qn,Jn,Vn,Zn,Kn,Yn,Hn,Xn,$n,Qn,te,ne,ee,re,ie,oe,ue,ce,se,ae,fe,le,he,ve={};function de(){return _n?jn:(_n=1,jn=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}})}function pe(){if(An)return Pn;An=1;var t=kn(),n=Function.prototype,e=n.call,r=t&&n.bind.bind(e,e);return Pn=t?r:function(t){return function(){return e.apply(t,arguments)}},Pn}function be(){if(Rn)return Dn;Rn=1;var t=pe(),n=t({}.toString),e=t("".slice);return Dn=function(t){return e(n(t),8,-1)}}function ye(){return Nn?Mn:(Nn=1,Mn=function(t){return null==t})}function me(){if(Fn)return Wn;Fn=1;var t=ye(),n=TypeError;return Wn=function(e){if(t(e))throw new n("Can't call method on "+e);return e}}function ge(){if(zn)return Un;zn=1;var t=function(){if(Cn)return In;Cn=1;var t=pe(),n=Sn(),e=be(),r=Object,i=t("".split);return In=n((function(){return!r("z").propertyIsEnumerable(0)}))?function(t){return"String"===e(t)?i(t,""):r(t)}:r}(),n=me();return Un=function(e){return t(n(e))}}function we(){if(Bn)return Ln;Bn=1;var t="object"==typeof document&&document.all;return Ln=void 0===t&&void 0!==t?function(n){return"function"==typeof n||n===t}:function(t){return"function"==typeof t}}function xe(){if(qn)return Gn;qn=1;var t=we();return Gn=function(n){return"object"==typeof n?null!==n:t(n)}}function Se(){if(Vn)return Jn;Vn=1;var t=hn(),n=we(),e=function(t){return n(t)?t:void 0};return Jn=function(n,r){return arguments.length<2?e(t[n]):t[n]&&t[n][r]},Jn}function Ee(){if(Kn)return Zn;Kn=1;var t=pe();return Zn=t({}.isPrototypeOf)}function ke(){if(Hn)return Yn;Hn=1;var t=hn().navigator,n=t&&t.userAgent;return Yn=n?String(n):""}function Oe(){if($n)return Xn;$n=1;var t,n,e=hn(),r=ke(),i=e.process,o=e.Deno,u=i&&i.versions||o&&o.version,c=u&&u.v8;return c&&(n=(t=c.split("."))[0]>0&&t[0]<4?1:+(t[0]+t[1])),!n&&r&&(!(t=r.match(/Edge\/(\d+)/))||t[1]>=74)&&(t=r.match(/Chrome\/(\d+)/))&&(n=+t[1]),Xn=n}function Te(){if(te)return Qn;te=1;var t=Oe(),n=Sn(),e=hn().String;return Qn=!!Object.getOwnPropertySymbols&&!n((function(){var n=Symbol("symbol detection");return!e(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&t&&t<41}))}function je(){if(ee)return ne;ee=1;var t=Te();return ne=t&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}function _e(){if(ie)return re;ie=1;var t=Se(),n=we(),e=Ee(),r=je(),i=Object;return re=r?function(t){return"symbol"==typeof t}:function(r){var o=t("Symbol");return n(o)&&e(o.prototype,i(r))}}function Pe(){if(ue)return oe;ue=1;var t=String;return oe=function(n){try{return t(n)}catch(t){return"Object"}}}function Ae(){if(se)return ce;se=1;var t=we(),n=Pe(),e=TypeError;return ce=function(r){if(t(r))return r;throw new e(n(r)+" is not a function")}}function De(){if(fe)return ae;fe=1;var t=Ae(),n=ye();return ae=function(e,r){var i=e[r];return n(i)?void 0:t(i)}}function Re(){if(he)return le;he=1;var t=On(),n=we(),e=xe(),r=TypeError;return le=function(i,o){var u,c;if("string"===o&&n(u=i.toString)&&!e(c=t(u,i)))return c;if(n(u=i.valueOf)&&!e(c=t(u,i)))return c;if("string"!==o&&n(u=i.toString)&&!e(c=t(u,i)))return c;throw new r("Can't convert object to primitive value")}}var Ie,Ce,Me,Ne,We,Fe,Ue,ze,Le,Be,Ge,qe,Je,Ve,Ze,Ke,Ye,He,Xe,$e,Qe,tr,nr,er,rr={exports:{}};function ir(){return Ce?Ie:(Ce=1,Ie=!1)}function or(){if(Ne)return Me;Ne=1;var t=hn(),n=Object.defineProperty;return Me=function(e,r){try{n(t,e,{value:r,configurable:!0,writable:!0})}catch(n){t[e]=r}return r}}function ur(){if(We)return rr.exports;We=1;var t=ir(),n=hn(),e=or(),r="__core-js_shared__",i=rr.exports=n[r]||e(r,{});return(i.versions||(i.versions=[])).push({version:"3.38.0",mode:t?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"}),rr.exports}function cr(){if(Ue)return Fe;Ue=1;var t=ur();return Fe=function(n,e){return t[n]||(t[n]=e||{})}}function sr(){if(Le)return ze;Le=1;var t=me(),n=Object;return ze=function(e){return n(t(e))}}function ar(){if(Ge)return Be;Ge=1;var t=pe(),n=sr(),e=t({}.hasOwnProperty);return Be=Object.hasOwn||function(t,r){return e(n(t),r)}}function fr(){if(Je)return qe;Je=1;var t=pe(),n=0,e=Math.random(),r=t(1..toString);return qe=function(t){return"Symbol("+(void 0===t?"":t)+")_"+r(++n+e,36)}}function lr(){if(Ze)return Ve;Ze=1;var t=hn(),n=cr(),e=ar(),r=fr(),i=Te(),o=je(),u=t.Symbol,c=n("wks"),s=o?u.for||u:u&&u.withoutSetter||r;return Ve=function(t){return e(c,t)||(c[t]=i&&e(u,t)?u[t]:s("Symbol."+t)),c[t]}}function hr(){if(Ye)return Ke;Ye=1;var t=On(),n=xe(),e=_e(),r=De(),i=Re(),o=lr(),u=TypeError,c=o("toPrimitive");return Ke=function(o,s){if(!n(o)||e(o))return o;var a,f=r(o,c);if(f){if(void 0===s&&(s="default"),a=t(f,o,s),!n(a)||e(a))return a;throw new u("Can't convert object to primitive value")}return void 0===s&&(s="number"),i(o,s)}}function vr(){if(Xe)return He;Xe=1;var t=hr(),n=_e();return He=function(e){var r=t(e,"string");return n(r)?r:r+""}}function dr(){if(Qe)return $e;Qe=1;var t=hn(),n=xe(),e=t.document,r=n(e)&&n(e.createElement);return $e=function(t){return r?e.createElement(t):{}}}function pr(){if(nr)return tr;nr=1;var t=En(),n=Sn(),e=dr();return tr=!t&&!n((function(){return 7!==Object.defineProperty(e("div"),"a",{get:function(){return 7}}).a}))}function br(){if(er)return xn;er=1;var t=En(),n=On(),e=function(){if(Tn)return ve;Tn=1;var t={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,e=n&&!t.call({1:2},1);return ve.f=e?function(t){var e=n(this,t);return!!e&&e.enumerable}:t,ve}(),r=de(),i=ge(),o=vr(),u=ar(),c=pr(),s=Object.getOwnPropertyDescriptor;return xn.f=t?s:function(t,a){if(t=i(t),a=o(a),c)try{return s(t,a)}catch(t){}if(u(t,a))return r(!n(e.f,t,a),t[a])},xn}var yr,mr,gr,wr,xr,Sr,Er,kr={};function Or(){if(mr)return yr;mr=1;var t=En(),n=Sn();return yr=t&&n((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))}function Tr(){if(wr)return gr;wr=1;var t=xe(),n=String,e=TypeError;return gr=function(r){if(t(r))return r;throw new e(n(r)+" is not an object")}}function jr(){if(xr)return kr;xr=1;var t=En(),n=pr(),e=Or(),r=Tr(),i=vr(),o=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,s="enumerable",a="configurable",f="writable";return kr.f=t?e?function(t,n,e){if(r(t),n=i(n),r(e),"function"==typeof t&&"prototype"===n&&"value"in e&&f in e&&!e.writable){var o=c(t,n);o&&o.writable&&(t[n]=e.value,e={configurable:a in e?e.configurable:o.configurable,enumerable:s in e?e.enumerable:o.enumerable,writable:!1})}return u(t,n,e)}:u:function(t,e,c){if(r(t),e=i(e),r(c),n)try{return u(t,e,c)}catch(t){}if("get"in c||"set"in c)throw new o("Accessors not supported");return"value"in c&&(t[e]=c.value),t},kr}function _r(){if(Er)return Sr;Er=1;var t=En(),n=jr(),e=de();return Sr=t?function(t,r,i){return n.f(t,r,e(1,i))}:function(t,n,e){return t[n]=e,t}}var Pr,Ar,Dr,Rr,Ir,Cr,Mr,Nr,Wr,Fr,Ur,zr,Lr,Br,Gr,qr={exports:{}};function Jr(){if(Ar)return Pr;Ar=1;var t=En(),n=ar(),e=Function.prototype,r=t&&Object.getOwnPropertyDescriptor,i=n(e,"name"),o=i&&"something"===function(){}.name,u=i&&(!t||t&&r(e,"name").configurable);return Pr={EXISTS:i,PROPER:o,CONFIGURABLE:u}}function Vr(){if(Rr)return Dr;Rr=1;var t=pe(),n=we(),e=ur(),r=t(Function.toString);return n(e.inspectSource)||(e.inspectSource=function(t){return r(t)}),Dr=e.inspectSource}function Zr(){if(Nr)return Mr;Nr=1;var t=cr(),n=fr(),e=t("keys");return Mr=function(t){return e[t]||(e[t]=n(t))}}function Kr(){return Fr?Wr:(Fr=1,Wr={})}function Yr(){if(zr)return Ur;zr=1;var t,n,e,r=function(){if(Cr)return Ir;Cr=1;var t=hn(),n=we(),e=t.WeakMap;return Ir=n(e)&&/native code/.test(String(e))}(),i=hn(),o=xe(),u=_r(),c=ar(),s=ur(),a=Zr(),f=Kr(),l="Object already initialized",h=i.TypeError,v=i.WeakMap;if(r||s.state){var d=s.state||(s.state=new v);d.get=d.get,d.has=d.has,d.set=d.set,t=function(t,n){if(d.has(t))throw new h(l);return n.facade=t,d.set(t,n),n},n=function(t){return d.get(t)||{}},e=function(t){return d.has(t)}}else{var p=a("state");f[p]=!0,t=function(t,n){if(c(t,p))throw new h(l);return n.facade=t,u(t,p,n),n},n=function(t){return c(t,p)?t[p]:{}},e=function(t){return c(t,p)}}return Ur={set:t,get:n,has:e,enforce:function(r){return e(r)?n(r):t(r,{})},getterFor:function(t){return function(e){var r;if(!o(e)||(r=n(e)).type!==t)throw new h("Incompatible receiver, "+t+" required");return r}}}}function Hr(){if(Lr)return qr.exports;Lr=1;var t=pe(),n=Sn(),e=we(),r=ar(),i=En(),o=Jr().CONFIGURABLE,u=Vr(),c=Yr(),s=c.enforce,a=c.get,f=String,l=Object.defineProperty,h=t("".slice),v=t("".replace),d=t([].join),p=i&&!n((function(){return 8!==l((function(){}),"length",{value:8}).length})),b=String(String).split("String"),y=qr.exports=function(t,n,e){"Symbol("===h(f(n),0,7)&&(n="["+v(f(n),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),e&&e.getter&&(n="get "+n),e&&e.setter&&(n="set "+n),(!r(t,"name")||o&&t.name!==n)&&(i?l(t,"name",{value:n,configurable:!0}):t.name=n),p&&e&&r(e,"arity")&&t.length!==e.arity&&l(t,"length",{value:e.arity});try{e&&r(e,"constructor")&&e.constructor?i&&l(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var u=s(t);return r(u,"source")||(u.source=d(b,"string"==typeof n?n:"")),t};return Function.prototype.toString=y((function(){return e(this)&&a(this).source||u(this)}),"toString"),qr.exports}function Xr(){if(Gr)return Br;Gr=1;var t=we(),n=jr(),e=Hr(),r=or();return Br=function(i,o,u,c){c||(c={});var s=c.enumerable,a=void 0!==c.name?c.name:o;if(t(u)&&e(u,a,c),c.global)s?i[o]=u:r(o,u);else{try{c.unsafe?i[o]&&(s=!0):delete i[o]}catch(t){}s?i[o]=u:n.f(i,o,{value:u,enumerable:!1,configurable:!c.nonConfigurable,writable:!c.nonWritable})}return i}}var $r,Qr,ti,ni,ei,ri,ii,oi,ui,ci,si,ai,fi,li,hi,vi,di,pi={};function bi(){if(ni)return ti;ni=1;var t=function(){if(Qr)return $r;Qr=1;var t=Math.ceil,n=Math.floor;return $r=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}}();return ti=function(n){var e=+n;return e!=e||0===e?0:t(e)}}function yi(){if(ri)return ei;ri=1;var t=bi(),n=Math.max,e=Math.min;return ei=function(r,i){var o=t(r);return o<0?n(o+i,0):e(o,i)},ei}function mi(){if(oi)return ii;oi=1;var t=bi(),n=Math.min;return ii=function(e){var r=t(e);return r>0?n(r,9007199254740991):0}}function gi(){if(ci)return ui;ci=1;var t=mi();return ui=function(n){return t(n.length)}}function wi(){if(li)return fi;li=1;var t=pe(),n=ar(),e=ge(),r=function(){if(ai)return si;ai=1;var t=ge(),n=yi(),e=gi(),r=function(r){return function(i,o,u){var c=t(i),s=e(c);if(0===s)return!r&&-1;var a,f=n(u,s);if(r&&o!=o){for(;s>f;)if((a=c[f++])!=a)return!0}else for(;s>f;f++)if((r||f in c)&&c[f]===o)return r||f||0;return!r&&-1}};return si={includes:r(!0),indexOf:r(!1)}}().indexOf,i=Kr(),o=t([].push);return fi=function(t,u){var c,s=e(t),a=0,f=[];for(c in s)!n(i,c)&&n(s,c)&&o(f,c);for(;u.length>a;)n(s,c=u[a++])&&(~r(f,c)||o(f,c));return f}}function xi(){return vi?hi:(vi=1,hi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"])}function Si(){if(di)return pi;di=1;var t=wi(),n=xi().concat("length","prototype");return pi.f=Object.getOwnPropertyNames||function(e){return t(e,n)},pi}var Ei,ki,Oi,Ti,ji,_i,Pi,Ai,Di,Ri,Ii,Ci,Mi,Ni,Wi,Fi,Ui,zi,Li,Bi,Gi,qi,Ji,Vi,Zi,Ki,Yi,Hi,Xi,$i,Qi,to,no,eo,ro,io,oo,uo,co,so,ao,fo,lo={};function ho(){if(Oi)return ki;Oi=1;var t=Se(),n=pe(),e=Si(),r=(Ei||(Ei=1,lo.f=Object.getOwnPropertySymbols),lo),i=Tr(),o=n([].concat);return ki=t("Reflect","ownKeys")||function(t){var n=e.f(i(t)),u=r.f;return u?o(n,u(t)):n}}function vo(){if(ji)return Ti;ji=1;var t=ar(),n=ho(),e=br(),r=jr();return Ti=function(i,o,u){for(var c=n(o),s=r.f,a=e.f,f=0;f<c.length;f++){var l=c[f];t(i,l)||u&&t(u,l)||s(i,l,a(o,l))}}}function po(){if(Pi)return _i;Pi=1;var t=Sn(),n=we(),e=/#|\.prototype\./,r=function(e,r){var s=o[i(e)];return s===c||s!==u&&(n(r)?t(r):!!r)},i=r.normalize=function(t){return String(t).replace(e,".").toLowerCase()},o=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";return _i=r}function bo(){if(Di)return Ai;Di=1;var t=hn(),n=br().f,e=_r(),r=Xr(),i=or(),o=vo(),u=po();return Ai=function(c,s){var a,f,l,h,v,d=c.target,p=c.global,b=c.stat;if(a=p?t:b?t[d]||i(d,{}):t[d]&&t[d].prototype)for(f in s){if(h=s[f],l=c.dontCallGetSet?(v=n(a,f))&&v.value:a[f],!u(p?f:d+(b?".":"#")+f,c.forced)&&void 0!==l){if(typeof h==typeof l)continue;o(h,l)}(c.sham||l&&l.sham)&&e(h,"sham",!0),r(a,f,h,c)}}}function yo(){if(Ii)return Ri;Ii=1;var t=kn(),n=Function.prototype,e=n.apply,r=n.call;return Ri="object"==typeof Reflect&&Reflect.apply||(t?r.bind(e):function(){return r.apply(e,arguments)}),Ri}function mo(){if(Mi)return Ci;Mi=1;var t=pe(),n=Ae();return Ci=function(e,r,i){try{return t(n(Object.getOwnPropertyDescriptor(e,r)[i]))}catch(t){}}}function go(){if(Wi)return Ni;Wi=1;var t=xe();return Ni=function(n){return t(n)||null===n}}function wo(){if(Ui)return Fi;Ui=1;var t=go(),n=String,e=TypeError;return Fi=function(r){if(t(r))return r;throw new e("Can't set "+n(r)+" as a prototype")}}function xo(){if(Li)return zi;Li=1;var t=mo(),n=xe(),e=me(),r=wo();return zi=Object.setPrototypeOf||("__proto__"in{}?function(){var i,o=!1,u={};try{(i=t(Object.prototype,"__proto__","set"))(u,[]),o=u instanceof Array}catch(t){}return function(t,u){return e(t),r(u),n(t)?(o?i(t,u):t.__proto__=u,t):t}}():void 0)}function So(){if(Gi)return Bi;Gi=1;var t=jr().f;return Bi=function(n,e,r){r in n||t(n,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}}function Eo(){if(Ji)return qi;Ji=1;var t=we(),n=xe(),e=xo();return qi=function(r,i,o){var u,c;return e&&t(u=i.constructor)&&u!==o&&n(c=u.prototype)&&c!==o.prototype&&e(r,c),r}}function ko(){if(Zi)return Vi;Zi=1;var t={};return t[lr()("toStringTag")]="z",Vi="[object z]"===String(t)}function Oo(){if(Yi)return Ki;Yi=1;var t=ko(),n=we(),e=be(),r=lr()("toStringTag"),i=Object,o="Arguments"===e(function(){return arguments}());return Ki=t?e:function(t){var u,c,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(c=function(t,n){try{return t[n]}catch(t){}}(u=i(t),r))?c:o?e(u):"Object"===(s=e(u))&&n(u.callee)?"Arguments":s}}function To(){if(Xi)return Hi;Xi=1;var t=Oo(),n=String;return Hi=function(e){if("Symbol"===t(e))throw new TypeError("Cannot convert a Symbol value to a string");return n(e)}}function jo(){if(Qi)return $i;Qi=1;var t=To();return $i=function(n,e){return void 0===n?arguments.length<2?"":e:t(n)},$i}function _o(){if(no)return to;no=1;var t=xe(),n=_r();return to=function(e,r){t(r)&&"cause"in r&&n(e,"cause",r.cause)}}function Po(){if(co)return uo;co=1;var t=_r(),n=function(){if(ro)return eo;ro=1;var t=pe(),n=Error,e=t("".replace),r=String(new n("zxcasd").stack),i=/\n\s*at [^:]*:[^\n]*/,o=i.test(r);return eo=function(t,r){if(o&&"string"==typeof t&&!n.prepareStackTrace)for(;r--;)t=e(t,i,"");return t}}(),e=function(){if(oo)return io;oo=1;var t=Sn(),n=de();return io=!t((function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",n(1,7)),7!==t.stack)}))}(),r=Error.captureStackTrace;return uo=function(i,o,u,c){e&&(r?r(i,o):t(i,"stack",n(u,c)))}}function Ao(){if(ao)return so;ao=1;var t=Se(),n=ar(),e=_r(),r=Ee(),i=xo(),o=vo(),u=So(),c=Eo(),s=jo(),a=_o(),f=Po(),l=En(),h=ir();return so=function(v,d,p,b){var y="stackTraceLimit",m=b?2:1,g=v.split("."),w=g[g.length-1],x=t.apply(null,g);if(x){var S=x.prototype;if(!h&&n(S,"cause")&&delete S.cause,!p)return x;var E=t("Error"),k=d((function(t,n){var i=s(b?n:t,void 0),o=b?new x(t):new x;return void 0!==i&&e(o,"message",i),f(o,k,o.stack,2),this&&r(S,this)&&c(o,this,k),arguments.length>m&&a(o,arguments[m]),o}));if(k.prototype=S,"Error"!==w?i?i(k,E):o(k,E,{name:!0}):l&&y in x&&(u(k,x,y),u(k,x,"prepareStackTrace")),o(k,x),!h)try{S.name!==w&&e(S,"name",w),S.constructor=k}catch(t){}return k}},so}function Do(){if(fo)return ln;fo=1;var t=bo(),n=hn(),e=yo(),r=Ao(),i="WebAssembly",o=n.WebAssembly,u=7!==new Error("e",{cause:7}).cause,c=function(n,e){var i={};i[n]=r(n,e,u),t({global:!0,constructor:!0,arity:1,forced:u},i)},s=function(n,e){if(o&&o[n]){var c={};c[n]=r("WebAssembly."+n,e,u),t({target:i,stat:!0,constructor:!0,arity:1,forced:u},c)}};return c("Error",(function(t){return function(n){return e(t,this,arguments)}})),c("EvalError",(function(t){return function(n){return e(t,this,arguments)}})),c("RangeError",(function(t){return function(n){return e(t,this,arguments)}})),c("ReferenceError",(function(t){return function(n){return e(t,this,arguments)}})),c("SyntaxError",(function(t){return function(n){return e(t,this,arguments)}})),c("TypeError",(function(t){return function(n){return e(t,this,arguments)}})),c("URIError",(function(t){return function(n){return e(t,this,arguments)}})),s("CompileError",(function(t){return function(n){return e(t,this,arguments)}})),s("LinkError",(function(t){return function(n){return e(t,this,arguments)}})),s("RuntimeError",(function(t){return function(n){return e(t,this,arguments)}})),ln}var Ro,Io,Co,Mo={};function No(){if(Io)return Ro;Io=1;var t=En(),n=Sn(),e=Tr(),r=jo(),i=Error.prototype.toString,o=n((function(){if(t){var n=Object.create(Object.defineProperty({},"name",{get:function(){return this===n}}));if("true"!==i.call(n))return!0}return"2: 1"!==i.call({message:1,name:2})||"Error"!==i.call({})}));return Ro=o?function(){var t=e(this),n=r(t.name,"Error"),i=r(t.message);return n?i?n+": "+i:n:i}:i}function Wo(){if(Co)return Mo;Co=1;var t=Xr(),n=No(),e=Error.prototype;return e.toString!==n&&t(e,"toString",n),Mo}var Fo,Uo,zo,Lo={};function Bo(){if(zo)return Lo;zo=1;var t=ko(),n=Xr(),e=function(){if(Uo)return Fo;Uo=1;var t=ko(),n=Oo();return Fo=t?{}.toString:function(){return"[object "+n(this)+"]"}}();return t||n(Object.prototype,"toString",e,{unsafe:!0}),Lo}var Go,qo,Jo,Vo,Zo={};function Ko(){if(Vo)return Jo;Vo=1;var t=ar(),n=we(),e=sr(),r=Zr(),i=function(){if(qo)return Go;qo=1;var t=Sn();return Go=!t((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))}(),o=r("IE_PROTO"),u=Object,c=u.prototype;return Jo=i?u.getPrototypeOf:function(r){var i=e(r);if(t(i,o))return i[o];var s=i.constructor;return n(s)&&i instanceof s?s.prototype:i instanceof u?c:null}}var Yo,Ho,Xo,$o,Qo,tu,nu,eu,ru={};function iu(){if(Ho)return Yo;Ho=1;var t=wi(),n=xi();return Yo=Object.keys||function(e){return t(e,n)}}function ou(){if(Qo)return $o;Qo=1;var t=Se();return $o=t("document","documentElement")}function uu(){if(nu)return tu;nu=1;var t,n=Tr(),e=function(){if(Xo)return ru;Xo=1;var t=En(),n=Or(),e=jr(),r=Tr(),i=ge(),o=iu();return ru.f=t&&!n?Object.defineProperties:function(t,n){r(t);for(var u,c=i(n),s=o(n),a=s.length,f=0;a>f;)e.f(t,u=s[f++],c[u]);return t},ru}(),r=xi(),i=Kr(),o=ou(),u=dr(),c=Zr(),s=c("IE_PROTO"),a=function(){},f=function(t){return"<script>"+t+"</"+"script>"},l=function(t){t.write(f("")),t.close();var n=t.parentWindow.Object;return t=null,n},h=function(){try{t=new ActiveXObject("htmlfile")}catch(t){}var n,e;h="undefined"!=typeof document?document.domain&&t?l(t):((e=u("iframe")).style.display="none",o.appendChild(e),e.src=String("javascript:"),(n=e.contentWindow.document).open(),n.write(f("document.F=Object")),n.close(),n.F):l(t);for(var i=r.length;i--;)delete h.prototype[r[i]];return h()};return i[s]=!0,tu=Object.create||function(t,r){var i;return null!==t?(a.prototype=n(t),i=new a,a.prototype=null,i[s]=t):i=h(),void 0===r?i:e.f(i,r)}}function cu(){if(eu)return Zo;eu=1;var t=bo(),n=hn(),e=Ee(),r=Ko(),i=xo(),o=vo(),u=uu(),c=_r(),s=de(),a=Po(),f=jo(),l=lr(),h=Sn(),v=ir(),d=n.SuppressedError,p=l("toStringTag"),b=Error,y=!!d&&3!==d.length,m=!!d&&h((function(){return 4===new d(1,2,3,{cause:4}).cause})),g=y||m,w=function(t,n,o){var s,l=e(x,this);return i?s=!g||l&&r(this)!==x?i(new b,l?r(this):x):new d:(s=l?this:u(x),c(s,p,"Error")),void 0!==o&&c(s,"message",f(o)),a(s,w,s.stack,1),c(s,"error",t),c(s,"suppressed",n),s};i?i(w,b):o(w,b,{name:!0});var x=w.prototype=g?d.prototype:u(b.prototype,{constructor:s(1,w),message:s(1,""),name:s(1,"SuppressedError")});return g&&!v&&(x.constructor=w),t({global:!0,constructor:!0,arity:3,forced:g},{SuppressedError:w}),Zo}var su,au,fu,lu,hu,vu,du,pu,bu,yu,mu,gu,wu,xu={};function Su(){if(au)return su;au=1;var t=Ee(),n=TypeError;return su=function(e,r){if(t(r,e))return e;throw new n("Incorrect invocation")}}function Eu(){if(lu)return fu;lu=1;var t=Xr();return fu=function(n,e,r){for(var i in e)t(n,i,e[i],r);return n}}function ku(){if(vu)return hu;vu=1;var t=Hr(),n=jr();return hu=function(e,r,i){return i.get&&t(i.get,r,{getter:!0}),i.set&&t(i.set,r,{setter:!0}),n.f(e,r,i)}}function Ou(){if(yu)return bu;yu=1;var t=function(){if(pu)return du;pu=1;var t=be(),n=pe();return du=function(e){if("Function"===t(e))return n(e)}}(),n=Ae(),e=kn(),r=t(t.bind);return bu=function(t,i){return n(t),void 0===i?t:e?r(t,i):function(){return t.apply(i,arguments)}},bu}function Tu(){if(gu)return mu;gu=1;var t=On(),n=pe(),e=Ou(),r=Tr(),i=Ae(),o=ye(),u=De(),c=lr(),s=c("asyncDispose"),a=c("dispose"),f=n([].push),l=function(n,e){if("async-dispose"===e){var r=u(n,s);return void 0!==r||void 0===(r=u(n,a))?r:function(){t(r,this)}}return u(n,a)},h=function(t,n,u){return arguments.length<3&&!o(t)&&(u=i(l(r(t),n))),void 0===u?function(){}:e(u,t)};return mu=function(t,n,e,r){var i;if(arguments.length<4){if(o(n)&&"sync-dispose"===e)return;i=h(n,e)}else i=h(void 0,e,r);f(t.stack,i)},mu}var ju,_u,Pu,Au,Du,Ru,Iu,Cu={};function Mu(){if(_u)return ju;_u=1;var t,n,e,r=Sn(),i=we(),o=xe(),u=uu(),c=Ko(),s=Xr(),a=lr(),f=ir(),l=a("iterator"),h=!1;return[].keys&&("next"in(e=[].keys())?(n=c(c(e)))!==Object.prototype&&(t=n):h=!0),!o(t)||r((function(){var n={};return t[l].call(n)!==n}))?t={}:f&&(t=u(t)),i(t[l])||s(t,l,(function(){return this})),ju={IteratorPrototype:t,BUGGY_SAFARI_ITERATORS:h}}function Nu(){if(Pu)return Cu;Pu=1;var t=On(),n=Xr(),e=De(),r=ar(),i=lr(),o=Mu().IteratorPrototype,u=i("dispose");return r(o,u)||n(o,u,(function(){var n=e(this,"return");n&&t(n,this)})),Cu}function Wu(){if(Du)return Au;Du=1;var t=hn();return Au=t}!function(){if(Iu)return Ru;Iu=1,Do(),Wo(),Bo(),cu(),function(){if(wu)return xu;wu=1;var t=bo(),n=En(),e=Se(),r=Ae(),i=Su(),o=Xr(),u=Eu(),c=ku(),s=lr(),a=Yr(),f=Tu(),l=e("SuppressedError"),h=ReferenceError,v=s("dispose"),d=s("toStringTag"),p="DisposableStack",b=a.set,y=a.getterFor(p),m="sync-dispose",g="disposed",w=function(t){var n=y(t);if(n.state===g)throw new h("DisposableStack already disposed");return n},x=function(){b(i(this,S),{type:p,state:"pending",stack:[]}),n||(this.disposed=!1)},S=x.prototype;u(S,{dispose:function(){var t=y(this);if(t.state!==g){t.state=g,n||(this.disposed=!0);for(var e,r=t.stack,i=r.length,o=!1;i;){var u=r[--i];r[i]=void 0;try{u()}catch(t){o?e=new l(t,e):(o=!0,e=t)}}if(t.stack=void 0,o)throw e}},use:function(t){return f(w(this),t,m),t},adopt:function(t,n){var e=w(this);return r(n),f(e,void 0,m,(function(){n(t)})),t},defer:function(t){var n=w(this);r(t),f(n,void 0,m,t)},move:function(){var t=w(this),e=new x;return y(e).stack=t.stack,t.stack=[],t.state=g,n||(this.disposed=!0),e}}),n&&c(S,"disposed",{configurable:!0,get:function(){return y(this).state===g}}),o(S,v,S.dispose,{name:"dispose"}),o(S,d,p,{nonWritable:!0}),t({global:!0,constructor:!0},{DisposableStack:x})}(),Nu();var t=Wu();Ru=t.DisposableStack}();var Fu,Uu,zu,Lu,Bu,Gu,qu,Ju,Vu,Zu,Ku,Yu,Hu,Xu,$u,Qu,tc,nc,ec,rc,ic,oc,uc,cc,sc,ac,fc,lc,hc,vc,dc,pc,bc,yc,mc,gc,wc,xc,Sc,Ec,kc={},Oc={};function Tc(){if(Uu)return Fu;Uu=1;var t=hn(),n=ke(),e=be(),r=function(t){return n.slice(0,t.length)===t};return Fu=r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":t.Bun&&"string"==typeof Bun.version?"BUN":t.Deno&&"object"==typeof Deno.version?"DENO":"process"===e(t.process)?"NODE":t.window&&t.document?"BROWSER":"REST"}function jc(){if(Lu)return zu;Lu=1;var t=Tc();return zu="NODE"===t}function _c(){if(Gu)return Bu;Gu=1;var t=jr().f,n=ar(),e=lr()("toStringTag");return Bu=function(r,i,o){r&&!o&&(r=r.prototype),r&&!n(r,e)&&t(r,e,{configurable:!0,value:i})}}function Pc(){if(Ju)return qu;Ju=1;var t=Se(),n=ku(),e=lr(),r=En(),i=e("species");return qu=function(e){var o=t(e);r&&o&&!o[i]&&n(o,i,{configurable:!0,get:function(){return this}})}}function Ac(){if(Zu)return Vu;Zu=1;var t=pe(),n=Sn(),e=we(),r=Oo(),i=Se(),o=Vr(),u=function(){},c=i("Reflect","construct"),s=/^\s*(?:class|function)\b/,a=t(s.exec),f=!s.test(u),l=function(t){if(!e(t))return!1;try{return c(u,[],t),!0}catch(t){return!1}},h=function(t){if(!e(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!a(s,o(t))}catch(t){return!0}};return h.sham=!0,Vu=!c||n((function(){var t;return l(l.call)||!l(Object)||!l((function(){t=!0}))||t}))?h:l}function Dc(){if(Yu)return Ku;Yu=1;var t=Ac(),n=Pe(),e=TypeError;return Ku=function(r){if(t(r))return r;throw new e(n(r)+" is not a constructor")}}function Rc(){if(Xu)return Hu;Xu=1;var t=Tr(),n=Dc(),e=ye(),r=lr()("species");return Hu=function(i,o){var u,c=t(i).constructor;return void 0===c||e(u=t(c)[r])?o:n(u)}}function Ic(){if(Qu)return $u;Qu=1;var t=pe();return $u=t([].slice)}function Cc(){if(nc)return tc;nc=1;var t=TypeError;return tc=function(n,e){if(n<e)throw new t("Not enough arguments");return n}}function Mc(){if(rc)return ec;rc=1;var t=ke();return ec=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)}function Nc(){if(oc)return ic;oc=1;var t,n,e,r,i=hn(),o=yo(),u=Ou(),c=we(),s=ar(),a=Sn(),f=ou(),l=Ic(),h=dr(),v=Cc(),d=Mc(),p=jc(),b=i.setImmediate,y=i.clearImmediate,m=i.process,g=i.Dispatch,w=i.Function,x=i.MessageChannel,S=i.String,E=0,k={},O="onreadystatechange";a((function(){t=i.location}));var T=function(t){if(s(k,t)){var n=k[t];delete k[t],n()}},j=function(t){return function(){T(t)}},_=function(t){T(t.data)},P=function(n){i.postMessage(S(n),t.protocol+"//"+t.host)};return b&&y||(b=function(t){v(arguments.length,1);var e=c(t)?t:w(t),r=l(arguments,1);return k[++E]=function(){o(e,void 0,r)},n(E),E},y=function(t){delete k[t]},p?n=function(t){m.nextTick(j(t))}:g&&g.now?n=function(t){g.now(j(t))}:x&&!d?(r=(e=new x).port2,e.port1.onmessage=_,n=u(r.postMessage,r)):i.addEventListener&&c(i.postMessage)&&!i.importScripts&&t&&"file:"!==t.protocol&&!a(P)?(n=P,i.addEventListener("message",_,!1)):n=O in h("script")?function(t){f.appendChild(h("script")).onreadystatechange=function(){f.removeChild(this),T(t)}}:function(t){setTimeout(j(t),0)}),ic={set:b,clear:y}}function Wc(){if(cc)return uc;cc=1;var t=hn(),n=En(),e=Object.getOwnPropertyDescriptor;return uc=function(r){if(!n)return t[r];var i=e(t,r);return i&&i.value}}function Fc(){if(ac)return sc;ac=1;var t=function(){this.head=null,this.tail=null};return t.prototype={add:function(t){var n={item:t,next:null},e=this.tail;e?e.next=n:this.head=n,this.tail=n},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}},sc=t}function Uc(){if(pc)return dc;pc=1;var t,n,e,r,i,o=hn(),u=Wc(),c=Ou(),s=Nc().set,a=Fc(),f=Mc(),l=function(){if(lc)return fc;lc=1;var t=ke();return fc=/ipad|iphone|ipod/i.test(t)&&"undefined"!=typeof Pebble}(),h=function(){if(vc)return hc;vc=1;var t=ke();return hc=/web0s(?!.*chrome)/i.test(t)}(),v=jc(),d=o.MutationObserver||o.WebKitMutationObserver,p=o.document,b=o.process,y=o.Promise,m=u("queueMicrotask");if(!m){var g=new a,w=function(){var n,e;for(v&&(n=b.domain)&&n.exit();e=g.get();)try{e()}catch(n){throw g.head&&t(),n}n&&n.enter()};f||v||h||!d||!p?!l&&y&&y.resolve?((r=y.resolve(void 0)).constructor=y,i=c(r.then,r),t=function(){i(w)}):v?t=function(){b.nextTick(w)}:(s=c(s,o),t=function(){s(w)}):(n=!0,e=p.createTextNode(""),new d(w).observe(e,{characterData:!0}),t=function(){e.data=n=!n}),m=function(n){g.head||t(),g.add(n)}}return dc=m}function zc(){return yc||(yc=1,bc=function(t,n){try{1===arguments.length?console.error(t):console.error(t,n)}catch(t){}}),bc}function Lc(){return gc?mc:(gc=1,mc=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}})}function Bc(){if(xc)return wc;xc=1;var t=hn();return wc=t.Promise}function Gc(){if(Ec)return Sc;Ec=1;var t=hn(),n=Bc(),e=we(),r=po(),i=Vr(),o=lr(),u=Tc(),c=ir(),s=Oe(),a=n&&n.prototype,f=o("species"),l=!1,h=e(t.PromiseRejectionEvent),v=r("Promise",(function(){var t=i(n),e=t!==String(n);if(!e&&66===s)return!0;if(c&&(!a.catch||!a.finally))return!0;if(!s||s<51||!/native code/.test(t)){var r=new n((function(t){t(1)})),o=function(t){t((function(){}),(function(){}))};if((r.constructor={})[f]=o,!(l=r.then((function(){}))instanceof o))return!0}return!(e||"BROWSER"!==u&&"DENO"!==u||h)}));return Sc={CONSTRUCTOR:v,REJECTION_EVENT:h,SUBCLASSING:l}}var qc,Jc,Vc={};function Zc(){if(qc)return Vc;qc=1;var t=Ae(),n=TypeError,e=function(e){var r,i;this.promise=new e((function(t,e){if(void 0!==r||void 0!==i)throw new n("Bad Promise constructor");r=t,i=e})),this.resolve=t(r),this.reject=t(i)};return Vc.f=function(t){return new e(t)},Vc}var Kc,Yc,Hc,Xc,$c,Qc,ts,ns,es,rs,is,os,us,cs,ss,as,fs,ls={};function hs(){return Yc?Kc:(Yc=1,Kc={})}function vs(){if(Xc)return Hc;Xc=1;var t=lr(),n=hs(),e=t("iterator"),r=Array.prototype;return Hc=function(t){return void 0!==t&&(n.Array===t||r[e]===t)}}function ds(){if(Qc)return $c;Qc=1;var t=Oo(),n=De(),e=ye(),r=hs(),i=lr()("iterator");return $c=function(o){if(!e(o))return n(o,i)||n(o,"@@iterator")||r[t(o)]}}function ps(){if(ns)return ts;ns=1;var t=On(),n=Ae(),e=Tr(),r=Pe(),i=ds(),o=TypeError;return ts=function(u,c){var s=arguments.length<2?i(u):c;if(n(s))return e(t(s,u));throw new o(r(u)+" is not iterable")},ts}function bs(){if(rs)return es;rs=1;var t=On(),n=Tr(),e=De();return es=function(r,i,o){var u,c;n(r);try{if(!(u=e(r,"return"))){if("throw"===i)throw o;return o}u=t(u,r)}catch(t){c=!0,u=t}if("throw"===i)throw o;if(c)throw u;return n(u),o},es}function ys(){if(os)return is;os=1;var t=Ou(),n=On(),e=Tr(),r=Pe(),i=vs(),o=gi(),u=Ee(),c=ps(),s=ds(),a=bs(),f=TypeError,l=function(t,n){this.stopped=t,this.result=n},h=l.prototype;return is=function(v,d,p){var b,y,m,g,w,x,S,E=p&&p.that,k=!(!p||!p.AS_ENTRIES),O=!(!p||!p.IS_RECORD),T=!(!p||!p.IS_ITERATOR),j=!(!p||!p.INTERRUPTED),_=t(d,E),P=function(t){return b&&a(b,"normal",t),new l(!0,t)},A=function(t){return k?(e(t),j?_(t[0],t[1],P):_(t[0],t[1])):j?_(t,P):_(t)};if(O)b=v.iterator;else if(T)b=v;else{if(!(y=s(v)))throw new f(r(v)+" is not iterable");if(i(y)){for(m=0,g=o(v);g>m;m++)if((w=A(v[m]))&&u(h,w))return w;return new l(!1)}b=c(v,y)}for(x=O?v.next:b.next;!(S=n(x,b)).done;){try{w=A(S.value)}catch(t){a(b,"throw",t)}if("object"==typeof w&&w&&u(h,w))return w}return new l(!1)},is}function ms(){if(cs)return us;cs=1;var t=lr()("iterator"),n=!1;try{var e=0,r={next:function(){return{done:!!e++}},return:function(){n=!0}};r[t]=function(){return this},Array.from(r,(function(){throw 2}))}catch(t){}return us=function(e,r){try{if(!r&&!n)return!1}catch(t){return!1}var i=!1;try{var o={};o[t]=function(){return{next:function(){return{done:i=!0}}}},e(o)}catch(t){}return i}}function gs(){if(as)return ss;as=1;var t=Bc(),n=ms(),e=Gc().CONSTRUCTOR;return ss=e||!n((function(n){t.all(n).then(void 0,(function(){}))}))}var ws,xs={};var Ss,Es={};var ks,Os={};var Ts,js,_s,Ps,As={};function Ds(){if(js)return Ts;js=1;var t=Tr(),n=xe(),e=Zc();return Ts=function(r,i){if(t(r),n(i)&&i.constructor===r)return i;var o=e.f(r);return(0,o.resolve)(i),o.promise}}function Rs(){return Ps||(Ps=1,function(){if(Jc)return Oc;Jc=1;var t,n,e,r=bo(),i=ir(),o=jc(),u=hn(),c=On(),s=Xr(),a=xo(),f=_c(),l=Pc(),h=Ae(),v=we(),d=xe(),p=Su(),b=Rc(),y=Nc().set,m=Uc(),g=zc(),w=Lc(),x=Fc(),S=Yr(),E=Bc(),k=Gc(),O=Zc(),T="Promise",j=k.CONSTRUCTOR,_=k.REJECTION_EVENT,P=k.SUBCLASSING,A=S.getterFor(T),D=S.set,R=E&&E.prototype,I=E,C=R,M=u.TypeError,N=u.document,W=u.process,F=O.f,U=F,z=!!(N&&N.createEvent&&u.dispatchEvent),L="unhandledrejection",B=function(t){var n;return!(!d(t)||!v(n=t.then))&&n},G=function(t,n){var e,r,i,o=n.value,u=1===n.state,s=u?t.ok:t.fail,a=t.resolve,f=t.reject,l=t.domain;try{s?(u||(2===n.rejection&&K(n),n.rejection=1),!0===s?e=o:(l&&l.enter(),e=s(o),l&&(l.exit(),i=!0)),e===t.promise?f(new M("Promise-chain cycle")):(r=B(e))?c(r,e,a,f):a(e)):f(o)}catch(t){l&&!i&&l.exit(),f(t)}},q=function(t,n){t.notified||(t.notified=!0,m((function(){for(var e,r=t.reactions;e=r.get();)G(e,t);t.notified=!1,n&&!t.rejection&&V(t)})))},J=function(t,n,e){var r,i;z?((r=N.createEvent("Event")).promise=n,r.reason=e,r.initEvent(t,!1,!0),u.dispatchEvent(r)):r={promise:n,reason:e},!_&&(i=u["on"+t])?i(r):t===L&&g("Unhandled promise rejection",e)},V=function(t){c(y,u,(function(){var n,e=t.facade,r=t.value;if(Z(t)&&(n=w((function(){o?W.emit("unhandledRejection",r,e):J(L,e,r)})),t.rejection=o||Z(t)?2:1,n.error))throw n.value}))},Z=function(t){return 1!==t.rejection&&!t.parent},K=function(t){c(y,u,(function(){var n=t.facade;o?W.emit("rejectionHandled",n):J("rejectionhandled",n,t.value)}))},Y=function(t,n,e){return function(r){t(n,r,e)}},H=function(t,n,e){t.done||(t.done=!0,e&&(t=e),t.value=n,t.state=2,q(t,!0))},X=function(t,n,e){if(!t.done){t.done=!0,e&&(t=e);try{if(t.facade===n)throw new M("Promise can't be resolved itself");var r=B(n);r?m((function(){var e={done:!1};try{c(r,n,Y(X,e,t),Y(H,e,t))}catch(n){H(e,n,t)}})):(t.value=n,t.state=1,q(t,!1))}catch(n){H({done:!1},n,t)}}};if(j&&(C=(I=function(n){p(this,C),h(n),c(t,this);var e=A(this);try{n(Y(X,e),Y(H,e))}catch(t){H(e,t)}}).prototype,(t=function(t){D(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new x,rejection:!1,state:0,value:void 0})}).prototype=s(C,"then",(function(t,n){var e=A(this),r=F(b(this,I));return e.parent=!0,r.ok=!v(t)||t,r.fail=v(n)&&n,r.domain=o?W.domain:void 0,0===e.state?e.reactions.add(r):m((function(){G(r,e)})),r.promise})),n=function(){var n=new t,e=A(n);this.promise=n,this.resolve=Y(X,e),this.reject=Y(H,e)},O.f=F=function(t){return t===I||void 0===t?new n(t):U(t)},!i&&v(E)&&R!==Object.prototype)){e=R.then,P||s(R,"then",(function(t,n){var r=this;return new I((function(t,n){c(e,r,t,n)})).then(t,n)}),{unsafe:!0});try{delete R.constructor}catch(t){}a&&a(R,C)}r({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:I}),f(I,T,!1,!0),l(T)}(),function(){if(fs)return ls;fs=1;var t=bo(),n=On(),e=Ae(),r=Zc(),i=Lc(),o=ys();t({target:"Promise",stat:!0,forced:gs()},{all:function(t){var u=this,c=r.f(u),s=c.resolve,a=c.reject,f=i((function(){var r=e(u.resolve),i=[],c=0,f=1;o(t,(function(t){var e=c++,o=!1;f++,n(r,u,t).then((function(t){o||(o=!0,i[e]=t,--f||s(i))}),a)})),--f||s(i)}));return f.error&&a(f.value),c.promise}})}(),function(){if(ws)return xs;ws=1;var t=bo(),n=ir(),e=Gc().CONSTRUCTOR,r=Bc(),i=Se(),o=we(),u=Xr(),c=r&&r.prototype;if(t({target:"Promise",proto:!0,forced:e,real:!0},{catch:function(t){return this.then(void 0,t)}}),!n&&o(r)){var s=i("Promise").prototype.catch;c.catch!==s&&u(c,"catch",s,{unsafe:!0})}}(),function(){if(Ss)return Es;Ss=1;var t=bo(),n=On(),e=Ae(),r=Zc(),i=Lc(),o=ys();t({target:"Promise",stat:!0,forced:gs()},{race:function(t){var u=this,c=r.f(u),s=c.reject,a=i((function(){var r=e(u.resolve);o(t,(function(t){n(r,u,t).then(c.resolve,s)}))}));return a.error&&s(a.value),c.promise}})}(),function(){if(ks)return Os;ks=1;var t=bo(),n=Zc();t({target:"Promise",stat:!0,forced:Gc().CONSTRUCTOR},{reject:function(t){var e=n.f(this);return(0,e.reject)(t),e.promise}})}(),function(){if(_s)return As;_s=1;var t=bo(),n=Se(),e=ir(),r=Bc(),i=Gc().CONSTRUCTOR,o=Ds(),u=n("Promise"),c=e&&!i;t({target:"Promise",stat:!0,forced:e||i},{resolve:function(t){return o(c&&this===u?r:this,t)}})}()),kc}var Is,Cs={};var Ms,Ns,Ws,Fs,Us,zs={};function Ls(){if(Ws)return zs;Ws=1;var t=On(),n=Xr(),e=Se(),r=De(),i=ar(),o=lr(),u=function(){if(Ns)return Ms;Ns=1;var t,n,e=hn(),r=ur(),i=we(),o=uu(),u=Ko(),c=Xr(),s=lr(),a=ir(),f=s("asyncIterator"),l=e.AsyncIterator,h=r.AsyncIteratorPrototype;if(h)t=h;else if(i(l))t=l.prototype;else if(r.USE_FUNCTION_CONSTRUCTOR||e.USE_FUNCTION_CONSTRUCTOR)try{n=u(u(u(Function("return async function*(){}()")()))),u(n)===Object.prototype&&(t=n)}catch(t){}return t?a&&(t=o(t)):t={},i(t[f])||c(t,f,(function(){return this})),Ms=t}(),c=o("asyncDispose"),s=e("Promise");return i(u,c)||n(u,c,(function(){var n=this;return new s((function(e,i){var o=r(n,"return");o?s.resolve(t(o,n)).then((function(){e(void 0)}),i):e(void 0)}))})),zs}!function(){if(Us)return Fs;Us=1,Do(),Wo(),Bo(),Rs(),cu(),function(){if(Is)return Cs;Is=1;var t=bo(),n=En(),e=Se(),r=Ae(),i=Su(),o=Xr(),u=Eu(),c=ku(),s=lr(),a=Yr(),f=Tu(),l=e("Promise"),h=e("SuppressedError"),v=ReferenceError,d=s("asyncDispose"),p=s("toStringTag"),b="AsyncDisposableStack",y=a.set,m=a.getterFor(b),g="async-dispose",w="disposed",x=function(t){var n=m(t);if(n.state===w)throw new v("AsyncDisposableStack already disposed");return n},S=function(){y(i(this,E),{type:b,state:"pending",stack:[]}),n||(this.disposed=!1)},E=S.prototype;u(E,{disposeAsync:function(){var t=this;return new l((function(e,r){var i=m(t);if(i.state===w)return e(void 0);i.state=w,n||(t.disposed=!0);var o,u=i.stack,c=u.length,s=!1,a=function(t){s?o=new h(t,o):(s=!0,o=t),f()},f=function(){if(c){var t=u[--c];u[c]=void 0;try{l.resolve(t()).then(f,a)}catch(t){a(t)}}else i.stack=void 0,s?r(o):e(void 0)};f()}))},use:function(t){return f(x(this),t,g),t},adopt:function(t,n){var e=x(this);return r(n),f(e,void 0,g,(function(){return n(t)})),t},defer:function(t){var n=x(this);r(t),f(n,void 0,g,t)},move:function(){var t=x(this),e=new S;return m(e).stack=t.stack,t.stack=[],t.state=w,n||(this.disposed=!0),e}}),n&&c(E,"disposed",{configurable:!0,get:function(){return m(this).state===w}}),o(E,d,E.disposeAsync,{name:"disposeAsync"}),o(E,p,b,{nonWritable:!0}),t({global:!0,constructor:!0},{AsyncDisposableStack:S})}(),Ls(),Nu();var t=Wu();Fs=t.AsyncDisposableStack}();var Bs,Gs,qs,Js,Vs,Zs,Ks={},Ys={};function Hs(){if(Bs)return Ys;Bs=1;var t=lr();return Ys.f=t,Ys}function Xs(){if(qs)return Gs;qs=1;var t=Wu(),n=ar(),e=Hs(),r=jr().f;return Gs=function(i){var o=t.Symbol||(t.Symbol={});n(o,i)||r(o,i,{value:e.f(i)})}}!function(){if(Zs)return Vs;Zs=1,function(){if(Js)return Ks;Js=1;var t=hn(),n=Xs(),e=jr().f,r=br().f,i=t.Symbol;if(n("asyncDispose"),i){var o=r(i,"asyncDispose");o.enumerable&&o.configurable&&o.writable&&e(i,"asyncDispose",{value:o.value,enumerable:!1,configurable:!1,writable:!1})}}();var t=Hs();Vs=t.f("asyncDispose")}();var $s,Qs,ta,na={};!function(){if(ta)return Qs;ta=1,function(){if($s)return na;$s=1;var t=hn(),n=Xs(),e=jr().f,r=br().f,i=t.Symbol;if(n("dispose"),i){var o=r(i,"dispose");o.enumerable&&o.configurable&&o.writable&&e(i,"dispose",{value:o.value,enumerable:!1,configurable:!1,writable:!1})}}();var t=Hs();Qs=t.f("dispose")}();var ea,ra,ia,oa,ua,ca,sa,aa,fa,la,ha,va,da,pa,ba,ya,ma,ga,wa,xa,Sa={},Ea={exports:{}},ka={};function Oa(){if(ea)return ka;ea=1;var t=be(),n=ge(),e=Si().f,r=Ic(),i="object"==typeof self&&self&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(self):[];return ka.f=function(o){return i&&"Window"===t(o)?function(t){try{return e(t)}catch(t){return r(i)}}(o):e(n(o))},ka}function Ta(){if(ua)return oa;ua=1;var t=Sn(),n=xe(),e=be(),r=function(){if(ia)return ra;ia=1;var t=Sn();return ra=t((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),ra}(),i=Object.isExtensible,o=t((function(){}));return oa=o||r?function(t){return!!n(t)&&((!r||"ArrayBuffer"!==e(t))&&(!i||i(t)))}:i}function ja(){if(aa)return Ea.exports;aa=1;var t=bo(),n=pe(),e=Kr(),r=xe(),i=ar(),o=jr().f,u=Si(),c=Oa(),s=Ta(),a=fr(),f=function(){if(sa)return ca;sa=1;var t=Sn();return ca=!t((function(){return Object.isExtensible(Object.preventExtensions({}))}))}(),l=!1,h=a("meta"),v=0,d=function(t){o(t,h,{value:{objectID:"O"+v++,weakData:{}}})},p=Ea.exports={enable:function(){p.enable=function(){},l=!0;var e=u.f,r=n([].splice),i={};i[h]=1,e(i).length&&(u.f=function(t){for(var n=e(t),i=0,o=n.length;i<o;i++)if(n[i]===h){r(n,i,1);break}return n},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:c.f}))},fastKey:function(t,n){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,h)){if(!s(t))return"F";if(!n)return"E";d(t)}return t[h].objectID},getWeakData:function(t,n){if(!i(t,h)){if(!s(t))return!0;if(!n)return!1;d(t)}return t[h].weakData},onFreeze:function(t){return f&&l&&s(t)&&!i(t,h)&&d(t),t}};return e[h]=!0,Ea.exports}function _a(){if(pa)return da;pa=1;var t=bo(),n=On(),e=ir(),r=Jr(),i=we(),o=function(){if(va)return ha;va=1;var t=Mu().IteratorPrototype,n=uu(),e=de(),r=_c(),i=hs(),o=function(){return this};return ha=function(u,c,s,a){var f=c+" Iterator";return u.prototype=n(t,{next:e(+!a,s)}),r(u,f,!1,!0),i[f]=o,u}}(),u=Ko(),c=xo(),s=_c(),a=_r(),f=Xr(),l=lr(),h=hs(),v=Mu(),d=r.PROPER,p=r.CONFIGURABLE,b=v.IteratorPrototype,y=v.BUGGY_SAFARI_ITERATORS,m=l("iterator"),g="keys",w="values",x="entries",S=function(){return this};return da=function(r,l,v,E,k,O,T){o(v,l,E);var j,_,P,A=function(t){if(t===k&&M)return M;if(!y&&t&&t in I)return I[t];switch(t){case g:case w:case x:return function(){return new v(this,t)}}return function(){return new v(this)}},D=l+" Iterator",R=!1,I=r.prototype,C=I[m]||I["@@iterator"]||k&&I[k],M=!y&&C||A(k),N="Array"===l&&I.entries||C;if(N&&(j=u(N.call(new r)))!==Object.prototype&&j.next&&(e||u(j)===b||(c?c(j,b):i(j[m])||f(j,m,S)),s(j,D,!0,!0),e&&(h[D]=S)),d&&k===w&&C&&C.name!==w&&(!e&&p?a(I,"name",w):(R=!0,M=function(){return n(C,this)})),k)if(_={values:A(w),keys:O?M:A(g),entries:A(x)},T)for(P in _)(y||R||!(P in I))&&f(I,P,_[P]);else t({target:l,proto:!0,forced:y||R},_);return e&&!T||I[m]===M||f(I,m,M,{name:k}),h[l]=M,_}}function Pa(){return ya?ba:(ya=1,ba=function(t,n){return{value:t,done:n}})}function Aa(){return xa||(xa=1,wa||(wa=1,function(){if(la)return fa;la=1;var t=bo(),n=hn(),e=pe(),r=po(),i=Xr(),o=ja(),u=ys(),c=Su(),s=we(),a=ye(),f=xe(),l=Sn(),h=ms(),v=_c(),d=Eo();return fa=function(p,b,y){var m=-1!==p.indexOf("Map"),g=-1!==p.indexOf("Weak"),w=m?"set":"add",x=n[p],S=x&&x.prototype,E=x,k={},O=function(t){var n=e(S[t]);i(S,t,"add"===t?function(t){return n(this,0===t?0:t),this}:"delete"===t?function(t){return!(g&&!f(t))&&n(this,0===t?0:t)}:"get"===t?function(t){return g&&!f(t)?void 0:n(this,0===t?0:t)}:"has"===t?function(t){return!(g&&!f(t))&&n(this,0===t?0:t)}:function(t,e){return n(this,0===t?0:t,e),this})};if(r(p,!s(x)||!(g||S.forEach&&!l((function(){(new x).entries().next()})))))E=y.getConstructor(b,p,m,w),o.enable();else if(r(p,!0)){var T=new E,j=T[w](g?{}:-0,1)!==T,_=l((function(){T.has(1)})),P=h((function(t){new x(t)})),A=!g&&l((function(){for(var t=new x,n=5;n--;)t[w](n,n);return!t.has(-0)}));P||((E=b((function(t,n){c(t,S);var e=d(new x,t,E);return a(n)||u(n,e[w],{that:e,AS_ENTRIES:m}),e}))).prototype=S,S.constructor=E),(_||A)&&(O("delete"),O("has"),m&&O("get")),(A||j)&&O(w),g&&S.clear&&delete S.clear}return k[p]=E,t({global:!0,constructor:!0,forced:E!==x},k),v(E,p),g||y.setStrong(E,p,m),E},fa}()("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),function(){if(ga)return ma;ga=1;var t=uu(),n=ku(),e=Eu(),r=Ou(),i=Su(),o=ye(),u=ys(),c=_a(),s=Pa(),a=Pc(),f=En(),l=ja().fastKey,h=Yr(),v=h.set,d=h.getterFor;return ma={getConstructor:function(c,s,a,h){var p=c((function(n,e){i(n,b),v(n,{type:s,index:t(null),first:void 0,last:void 0,size:0}),f||(n.size=0),o(e)||u(e,n[h],{that:n,AS_ENTRIES:a})})),b=p.prototype,y=d(s),m=function(t,n,e){var r,i,o=y(t),u=g(t,n);return u?u.value=e:(o.last=u={index:i=l(n,!0),key:n,value:e,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=u),r&&(r.next=u),f?o.size++:t.size++,"F"!==i&&(o.index[i]=u)),t},g=function(t,n){var e,r=y(t),i=l(n);if("F"!==i)return r.index[i];for(e=r.first;e;e=e.next)if(e.key===n)return e};return e(b,{clear:function(){for(var n=y(this),e=n.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),e=e.next;n.first=n.last=void 0,n.index=t(null),f?n.size=0:this.size=0},delete:function(t){var n=this,e=y(n),r=g(n,t);if(r){var i=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),e.first===r&&(e.first=i),e.last===r&&(e.last=o),f?e.size--:n.size--}return!!r},forEach:function(t){for(var n,e=y(this),i=r(t,arguments.length>1?arguments[1]:void 0);n=n?n.next:e.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(t){return!!g(this,t)}}),e(b,a?{get:function(t){var n=g(this,t);return n&&n.value},set:function(t,n){return m(this,0===t?0:t,n)}}:{add:function(t){return m(this,t=0===t?0:t,t)}}),f&&n(b,"size",{configurable:!0,get:function(){return y(this).size}}),p},setStrong:function(t,n,e){var r=n+" Iterator",i=d(n),o=d(r);c(t,n,(function(t,n){v(this,{type:r,target:t,state:i(t),kind:n,last:void 0})}),(function(){for(var t=o(this),n=t.kind,e=t.last;e&&e.removed;)e=e.previous;return t.target&&(t.last=e=e?e.next:t.state.first)?s("keys"===n?e.key:"values"===n?e.value:[e.key,e.value],!1):(t.target=void 0,s(void 0,!0))}),e?"entries":"values",!e,!0),a(n)}},ma}()))),Sa}var Da,Ra,Ia,Ca,Ma,Na,Wa,Fa,Ua,za,La,Ba,Ga,qa,Ja,Va,Za,Ka,Ya,Ha,Xa,$a,Qa,tf,nf,ef={};function rf(){if(Ra)return Da;Ra=1;var t=pe(),n=Set.prototype;return Da={Set,add:t(n.add),has:t(n.has),remove:t(n.delete),proto:n}}function of(){if(Ca)return Ia;Ca=1;var t=rf().has;return Ia=function(n){return t(n),n}}function uf(){if(Na)return Ma;Na=1;var t=On();return Ma=function(n,e,r){for(var i,o,u=r?n:n.iterator,c=n.next;!(i=t(c,u)).done;)if(void 0!==(o=e(i.value)))return o},Ma}function cf(){if(Fa)return Wa;Fa=1;var t=pe(),n=uf(),e=rf(),r=e.Set,i=e.proto,o=t(i.forEach),u=t(i.keys),c=u(new r).next;return Wa=function(t,e,r){return r?n({iterator:u(t),next:c},e):o(t,e)},Wa}function sf(){return qa?Ga:(qa=1,Ga=function(t){return{iterator:t,next:t.next,done:!1}})}function af(){if(Va)return Ja;Va=1;var t=Ae(),n=Tr(),e=On(),r=bi(),i=sf(),o="Invalid size",u=RangeError,c=TypeError,s=Math.max,a=function(n,e){this.set=n,this.size=s(e,0),this.has=t(n.has),this.keys=t(n.keys)};return a.prototype={getIterator:function(){return i(n(e(this.keys,this.set)))},includes:function(t){return e(this.has,this.set,t)}},Ja=function(t){n(t);var e=+t.size;if(e!=e)throw new c(o);var i=r(e);if(i<0)throw new u(o);return new a(t,i)}}function ff(){if(Ka)return Za;Ka=1;var t=of(),n=rf(),e=function(){if(za)return Ua;za=1;var t=rf(),n=cf(),e=t.Set,r=t.add;return Ua=function(t){var i=new e;return n(t,(function(t){r(i,t)})),i},Ua}(),r=function(){if(Ba)return La;Ba=1;var t=mo(),n=rf();return La=t(n.proto,"size","get")||function(t){return t.size},La}(),i=af(),o=cf(),u=uf(),c=n.has,s=n.remove;return Za=function(n){var a=t(this),f=i(n),l=e(a);return r(a)<=f.size?o(a,(function(t){f.includes(t)&&s(l,t)})):u(f.getIterator(),(function(t){c(a,t)&&s(l,t)})),l}}function lf(){if(Ha)return Ya;Ha=1;var t=Se(),n=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};return Ya=function(e){var r=t("Set");try{(new r)[e](n(0));try{return(new r)[e](n(-1)),!1}catch(t){return!0}}catch(t){return!1}}}function hf(){if(Qa)return $a;Qa=1;var t=hn(),n=pe();return $a=function(e,r){return n(t[e].prototype[r])}}!function(){if(nf)return tf;nf=1,Aa(),function(){if(Xa)return ef;Xa=1;var t=bo(),n=ff();t({target:"Set",proto:!0,real:!0,forced:!lf()("difference")},{difference:n})}();var t=hf();tf=t("Set","difference")}();var vf,df,pf,bf={};!function(){if(pf)return df;pf=1,Rs(),function(){if(vf)return bf;vf=1;var t=bo(),n=Zc();t({target:"Promise",stat:!0},{withResolvers:function(){var t=n.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}})}();var t=On(),n=we(),e=Wu().Promise,r=e.withResolvers;df=function(){return t(r,n(this)?this:e)}}();var yf=function(t,n){return yf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},yf(t,n)};function mf(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}yf(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function gf(t,n,e,r){return new(e||(e=Promise))((function(i,o){function u(t){try{s(r.next(t))}catch(t){o(t)}}function c(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){var n;t.done?i(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(u,c)}s((r=r.apply(t,n||[])).next())}))}function wf(t,n){var e,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(s){return function(c){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(u=0)),u;)try{if(e=1,r&&(i=2&c[0]?r.return:c[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,c[1])).done)return i;switch(r=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return u.label++,{value:c[1],done:!1};case 5:u.label++,r=c[1],c=[0];continue;case 7:c=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){u=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){u.label=c[1];break}if(6===c[0]&&u.label<i[1]){u.label=i[1],i=c;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(c);break}i[2]&&u.ops.pop(),u.trys.pop();continue}c=n.call(t,u)}catch(t){c=[6,t],r=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}}function xf(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sf(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),u=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return u}function Ef(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))}function kf(t){return this instanceof kf?(this.v=t,this):new kf(t)}function Of(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},u("next"),u("throw"),u("return",(function(t){return function(n){return Promise.resolve(n).then(t,a)}})),r[Symbol.asyncIterator]=function(){return this},r;function u(t,n){i[t]&&(r[t]=function(n){return new Promise((function(e,r){o.push([t,n,e,r])>1||c(t,n)}))},n&&(r[t]=n(r[t])))}function c(t,n){try{(e=i[t](n)).value instanceof kf?Promise.resolve(e.value.v).then(s,a):f(o[0][2],e)}catch(t){f(o[0][3],t)}var e}function s(t){c("next",t)}function a(t){c("throw",t)}function f(t,n){t(n),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Tf(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=xf(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(e){n[e]=t[e]&&function(n){return new Promise((function(r,i){(function(t,n,e,r){Promise.resolve(r).then((function(n){t({value:n,done:e})}),n)})(r,i,(n=t[e](n)).done,n.value)}))}}}function jf(t){return"function"==typeof t}function _f(t){var n=t((function(t){Error.call(t),t.stack=(new Error).stack}));return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Pf=_f((function(t){return function(n){t(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(t,n){return n+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}}));function Af(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var Df=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var n;return t.prototype.unsubscribe=function(){var t,n,e,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var u=xf(o),c=u.next();!c.done;c=u.next()){c.value.remove(this)}}catch(n){t={error:n}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}else o.remove(this);var s=this.initialTeardown;if(jf(s))try{s()}catch(t){i=t instanceof Pf?t.errors:[t]}var a=this._finalizers;if(a){this._finalizers=null;try{for(var f=xf(a),l=f.next();!l.done;l=f.next()){var h=l.value;try{Cf(h)}catch(t){i=null!=i?i:[],t instanceof Pf?i=Ef(Ef([],Sf(i)),Sf(t.errors)):i.push(t)}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(r=f.return)&&r.call(f)}finally{if(e)throw e.error}}}if(i)throw new Pf(i)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)Cf(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}},t.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},t.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},t.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Af(n,t)},t.prototype.remove=function(n){var e=this._finalizers;e&&Af(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=((n=new t).closed=!0,n),t}(),Rf=Df.EMPTY;function If(t){return t instanceof Df||t&&"closed"in t&&jf(t.remove)&&jf(t.add)&&jf(t.unsubscribe)}function Cf(t){jf(t)?t():t.unsubscribe()}var Mf={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nf={setTimeout:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return setTimeout.apply(void 0,Ef([t,n],Sf(e)))},clearTimeout:function(t){var n=Nf.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Wf(t){Nf.setTimeout((function(){var n=Mf.onUnhandledError;if(!n)throw t;n(t)}))}function Ff(){}var Uf=zf("C",void 0,void 0);function zf(t,n,e){return{kind:t,value:n,error:e}}var Lf=null;function Bf(t){if(Mf.useDeprecatedSynchronousErrorHandling){var n=!Lf;if(n&&(Lf={errorThrown:!1,error:null}),t(),n){var e=Lf,r=e.errorThrown,i=e.error;if(Lf=null,r)throw i}}else t()}var Gf=function(t){function n(n){var e=t.call(this)||this;return e.isStopped=!1,n?(e.destination=n,If(n)&&n.add(e)):e.destination=Hf,e}return mf(n,t),n.create=function(t,n,e){return new Zf(t,n,e)},n.prototype.next=function(t){this.isStopped?Yf(function(t){return zf("N",t,void 0)}(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?Yf(zf("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?Yf(Uf,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(Df),qf=Function.prototype.bind;function Jf(t,n){return qf.call(t,n)}var Vf=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(t){Kf(t)}},t.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(t){Kf(t)}else Kf(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){Kf(t)}},t}(),Zf=function(t){function n(n,e,r){var i,o,u=t.call(this)||this;jf(n)||!n?i={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0}:u&&Mf.useDeprecatedNextContext?((o=Object.create(n)).unsubscribe=function(){return u.unsubscribe()},i={next:n.next&&Jf(n.next,o),error:n.error&&Jf(n.error,o),complete:n.complete&&Jf(n.complete,o)}):i=n;return u.destination=new Vf(i),u}return mf(n,t),n}(Gf);function Kf(t){var n;Mf.useDeprecatedSynchronousErrorHandling?(n=t,Mf.useDeprecatedSynchronousErrorHandling&&Lf&&(Lf.errorThrown=!0,Lf.error=n)):Wf(t)}function Yf(t,n){var e=Mf.onStoppedNotification;e&&Nf.setTimeout((function(){return e(t,n)}))}var Hf={closed:!0,next:Ff,error:function(t){throw t},complete:Ff},Xf="function"==typeof Symbol&&Symbol.observable||"@@observable";function $f(t){return t}function Qf(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return tl(t)}function tl(t){return 0===t.length?$f:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}var nl=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(t,n,e){var r,i=this,o=(r=t)&&r instanceof Gf||function(t){return t&&jf(t.next)&&jf(t.error)&&jf(t.complete)}(r)&&If(r)?t:new Zf(t,n,e);return Bf((function(){var t=i,n=t.operator,e=t.source;o.add(n?n.call(o,e):e?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},t.prototype.forEach=function(t,n){var e=this;return new(n=el(n))((function(n,r){var i=new Zf({next:function(n){try{t(n)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n});e.subscribe(i)}))},t.prototype._subscribe=function(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)},t.prototype[Xf]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return tl(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=el(t))((function(t,e){var r;n.subscribe((function(t){return r=t}),(function(t){return e(t)}),(function(){return t(r)}))}))},t.create=function(n){return new t(n)},t}();function el(t){var n;return null!==(n=null!=t?t:Mf.Promise)&&void 0!==n?n:Promise}function rl(t){return function(n){if(function(t){return jf(null==t?void 0:t.lift)}(n))return n.lift((function(n){try{return t(n,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function il(t,n,e,r,i){return new ul(t,n,e,r,i)}var ol,ul=function(t){function n(n,e,r,i,o,u){var c=t.call(this,n)||this;return c.onFinalize=o,c.shouldUnsubscribe=u,c._next=e?function(t){try{e(t)}catch(t){n.error(t)}}:t.prototype._next,c._error=i?function(t){try{i(t)}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=r?function(){try{r()}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return mf(n,t),n.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e=this.closed;t.prototype.unsubscribe.call(this),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}},n}(Gf),cl={schedule:function(t){var n=requestAnimationFrame,e=cancelAnimationFrame,r=cl.delegate;r&&(n=r.requestAnimationFrame,e=r.cancelAnimationFrame);var i=n((function(n){e=void 0,t(n)}));return new Df((function(){return null==e?void 0:e(i)}))},requestAnimationFrame:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return requestAnimationFrame.apply(void 0,Ef([],Sf(t)))},cancelAnimationFrame:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=cl.delegate;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,Ef([],Sf(t)))},delegate:void 0},sl=_f((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),al=function(t){function n(){var n=t.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return mf(n,t),n.prototype.lift=function(t){var n=new fl(this,this);return n.operator=t,n},n.prototype._throwIfClosed=function(){if(this.closed)throw new sl},n.prototype.next=function(t){var n=this;Bf((function(){var e,r;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var i=xf(n.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}))},n.prototype.error=function(t){var n=this;Bf((function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=t;for(var e=n.observers;e.length;)e.shift().error(t)}}))},n.prototype.complete=function(){var t=this;Bf((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var n=t.observers;n.length;)n.shift().complete()}}))},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(n){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var n=this,e=this,r=e.hasError,i=e.isStopped,o=e.observers;return r||i?Rf:(this.currentObservers=null,o.push(t),new Df((function(){n.currentObservers=null,Af(o,t)})))},n.prototype._checkFinalizedStatuses=function(t){var n=this,e=n.hasError,r=n.thrownError,i=n.isStopped;e?t.error(r):i&&t.complete()},n.prototype.asObservable=function(){var t=new nl;return t.source=this,t},n.create=function(t,n){return new fl(t,n)},n}(nl),fl=function(t){function n(n,e){var r=t.call(this)||this;return r.destination=n,r.source=e,r}return mf(n,t),n.prototype.next=function(t){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===e||e.call(n,t)},n.prototype.error=function(t){var n,e;null===(e=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===e||e.call(n,t)},n.prototype.complete=function(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)},n.prototype._subscribe=function(t){var n,e;return null!==(e=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==e?e:Rf},n}(al),ll=function(t){function n(n){var e=t.call(this)||this;return e._value=n,e}return mf(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(n){var e=t.prototype._subscribe.call(this,n);return!e.closed&&n.next(this._value),e},n.prototype.getValue=function(){var t=this,n=t.hasError,e=t.thrownError,r=t._value;if(n)throw e;return this._throwIfClosed(),r},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(al),hl={now:function(){return(hl.delegate||Date).now()},delegate:void 0},vl=function(t){function n(n,e,r){void 0===n&&(n=1/0),void 0===e&&(e=1/0),void 0===r&&(r=hl);var i=t.call(this)||this;return i._bufferSize=n,i._windowTime=e,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=e===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,e),i}return mf(n,t),n.prototype.next=function(n){var e=this,r=e.isStopped,i=e._buffer,o=e._infiniteTimeWindow,u=e._timestampProvider,c=e._windowTime;r||(i.push(n),!o&&i.push(u.now()+c)),this._trimBuffer(),t.prototype.next.call(this,n)},n.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(t),e=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!t.closed;i+=e?1:2)t.next(r[i]);return this._checkFinalizedStatuses(t),n},n.prototype._trimBuffer=function(){var t=this,n=t._bufferSize,e=t._timestampProvider,r=t._buffer,i=t._infiniteTimeWindow,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var u=e.now(),c=0,s=1;s<r.length&&r[s]<=u;s+=2)c=s;c&&r.splice(0,c+1)}},n}(al),dl=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n._value=null,n._hasValue=!1,n._isComplete=!1,n}return mf(n,t),n.prototype._checkFinalizedStatuses=function(t){var n=this,e=n.hasError,r=n._hasValue,i=n._value,o=n.thrownError,u=n.isStopped,c=n._isComplete;e?t.error(o):(u||c)&&(r&&t.next(i),t.complete())},n.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},n.prototype.complete=function(){var n=this,e=n._hasValue,r=n._value;n._isComplete||(this._isComplete=!0,e&&t.prototype.next.call(this,r),t.prototype.complete.call(this))},n}(al),pl=function(t){function n(n,e){return t.call(this)||this}return mf(n,t),n.prototype.schedule=function(t,n){return this},n}(Df),bl={setInterval:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return setInterval.apply(void 0,Ef([t,n],Sf(e)))},clearInterval:function(t){var n=bl.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},yl=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.scheduler=n,r.work=e,r.pending=!1,r}return mf(n,t),n.prototype.schedule=function(t,n){var e;if(void 0===n&&(n=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=null!==(e=this.id)&&void 0!==e?e:this.requestAsyncId(i,this.id,n),this},n.prototype.requestAsyncId=function(t,n,e){return void 0===e&&(e=0),bl.setInterval(t.flush.bind(t,this),e)},n.prototype.recycleAsyncId=function(t,n,e){if(void 0===e&&(e=0),null!=e&&this.delay===e&&!1===this.pending)return n;null!=n&&bl.clearInterval(n)},n.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,n);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,n){var e,r=!1;try{this.work(t)}catch(t){r=!0,e=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),e},n.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,e=this.scheduler,r=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Af(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(pl),ml=1,gl={};function wl(t){return t in gl&&(delete gl[t],!0)}var xl=function(t){var n=ml++;return gl[n]=!0,ol||(ol=Promise.resolve()),ol.then((function(){return wl(n)&&t()})),n},Sl=function(t){wl(t)},El={setImmediate:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return xl.apply(void 0,Ef([],Sf(t)))},clearImmediate:function(t){var n=El.delegate;return((null==n?void 0:n.clearImmediate)||Sl)(t)},delegate:void 0},kl=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.scheduler=n,r.work=e,r}return mf(n,t),n.prototype.requestAsyncId=function(n,e,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=El.setImmediate(n.flush.bind(n,void 0))))},n.prototype.recycleAsyncId=function(n,e,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,n,e,r);var o=n.actions;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(El.clearImmediate(e),n._scheduled===e&&(n._scheduled=void 0))},n}(yl),Ol=function(){function t(n,e){void 0===e&&(e=t.now),this.schedulerActionCtor=n,this.now=e}return t.prototype.schedule=function(t,n,e){return void 0===n&&(n=0),new this.schedulerActionCtor(this,t).schedule(e,n)},t.now=hl.now,t}(),Tl=function(t){function n(n,e){void 0===e&&(e=Ol.now);var r=t.call(this,n,e)||this;return r.actions=[],r._active=!1,r}return mf(n,t),n.prototype.flush=function(t){var n=this.actions;if(this._active)n.push(t);else{var e;this._active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}}},n}(Ol),jl=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return mf(n,t),n.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var e,r=this.actions;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,e){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw e}},n}(Tl))(kl),_l=new Tl(yl),Pl=_l,Al=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.scheduler=n,r.work=e,r}return mf(n,t),n.prototype.schedule=function(n,e){return void 0===e&&(e=0),e>0?t.prototype.schedule.call(this,n,e):(this.delay=e,this.state=n,this.scheduler.flush(this),this)},n.prototype.execute=function(n,e){return e>0||this.closed?t.prototype.execute.call(this,n,e):this._execute(n,e)},n.prototype.requestAsyncId=function(n,e,r){return void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0?t.prototype.requestAsyncId.call(this,n,e,r):(n.flush(this),0)},n}(yl),Dl=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return mf(n,t),n}(Tl))(Al),Rl=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.scheduler=n,r.work=e,r}return mf(n,t),n.prototype.requestAsyncId=function(n,e,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,n,e,r):(n.actions.push(this),n._scheduled||(n._scheduled=cl.requestAnimationFrame((function(){return n.flush(void 0)}))))},n.prototype.recycleAsyncId=function(n,e,r){var i;if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,n,e,r);var o=n.actions;null!=e&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==e&&(cl.cancelAnimationFrame(e),n._scheduled=void 0)},n}(yl),Il=new(function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return mf(n,t),n.prototype.flush=function(t){this._active=!0;var n=this._scheduled;this._scheduled=void 0;var e,r=this.actions;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,e){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw e}},n}(Tl))(Rl),Cl=function(t){function n(n,e){void 0===n&&(n=Ml),void 0===e&&(e=1/0);var r=t.call(this,n,(function(){return r.frame}))||this;return r.maxFrames=e,r.frame=0,r.index=-1,r}return mf(n,t),n.prototype.flush=function(){for(var t,n,e=this.actions,r=this.maxFrames;(n=e[0])&&n.delay<=r&&(e.shift(),this.frame=n.delay,!(t=n.execute(n.state,n.delay))););if(t){for(;n=e.shift();)n.unsubscribe();throw t}},n.frameTimeFactor=10,n}(Tl),Ml=function(t){function n(n,e,r){void 0===r&&(r=n.index+=1);var i=t.call(this,n,e)||this;return i.scheduler=n,i.work=e,i.index=r,i.active=!0,i.index=n.index=r,i}return mf(n,t),n.prototype.schedule=function(e,r){if(void 0===r&&(r=0),Number.isFinite(r)){if(!this.id)return t.prototype.schedule.call(this,e,r);this.active=!1;var i=new n(this.scheduler,this.work);return this.add(i),i.schedule(e,r)}return Df.EMPTY},n.prototype.requestAsyncId=function(t,e,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(n.sortActions),1},n.prototype.recycleAsyncId=function(t,n,e){},n.prototype._execute=function(n,e){if(!0===this.active)return t.prototype._execute.call(this,n,e)},n.sortActions=function(t,n){return t.delay===n.delay?t.index===n.index?0:t.index>n.index?1:-1:t.delay>n.delay?1:-1},n}(yl),Nl=new nl((function(t){return t.complete()}));function Wl(t){return t&&jf(t.schedule)}function Fl(t){return t[t.length-1]}function Ul(t){return jf(Fl(t))?t.pop():void 0}function zl(t){return Wl(Fl(t))?t.pop():void 0}function Ll(t,n){return"number"==typeof Fl(t)?t.pop():n}var Bl=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Gl(t){return jf(null==t?void 0:t.then)}function ql(t){return jf(t[Xf])}function Jl(t){return Symbol.asyncIterator&&jf(null==t?void 0:t[Symbol.asyncIterator])}function Vl(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var Zl,Kl="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Yl(t){return jf(null==t?void 0:t[Kl])}function Hl(t){return Of(this,arguments,(function(){var n,e,r;return wf(this,(function(i){switch(i.label){case 0:n=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,kf(n.read())];case 3:return e=i.sent(),r=e.value,e.done?[4,kf(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,kf(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}function Xl(t){return jf(null==t?void 0:t.getReader)}function $l(t){if(t instanceof nl)return t;if(null!=t){if(ql(t))return i=t,new nl((function(t){var n=i[Xf]();if(jf(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Bl(t))return r=t,new nl((function(t){for(var n=0;n<r.length&&!t.closed;n++)t.next(r[n]);t.complete()}));if(Gl(t))return e=t,new nl((function(t){e.then((function(n){t.closed||(t.next(n),t.complete())}),(function(n){return t.error(n)})).then(null,Wf)}));if(Jl(t))return Ql(t);if(Yl(t))return n=t,new nl((function(t){var e,r;try{for(var i=xf(n),o=i.next();!o.done;o=i.next()){var u=o.value;if(t.next(u),t.closed)return}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}t.complete()}));if(Xl(t))return Ql(Hl(t))}var n,e,r,i;throw Vl(t)}function Ql(t){return new nl((function(n){(function(t,n){var e,r,i,o;return gf(this,void 0,void 0,(function(){var u,c;return wf(this,(function(s){switch(s.label){case 0:s.trys.push([0,5,6,11]),e=Tf(t),s.label=1;case 1:return[4,e.next()];case 2:if((r=s.sent()).done)return[3,4];if(u=r.value,n.next(u),n.closed)return[2];s.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=s.sent(),i={error:c},[3,11];case 6:return s.trys.push([6,,9,10]),r&&!r.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}}))}))})(t,n).catch((function(t){return n.error(t)}))}))}function th(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=n.schedule((function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function nh(t,n){return void 0===n&&(n=0),rl((function(e,r){e.subscribe(il(r,(function(e){return th(r,t,(function(){return r.next(e)}),n)}),(function(){return th(r,t,(function(){return r.complete()}),n)}),(function(e){return th(r,t,(function(){return r.error(e)}),n)})))}))}function eh(t,n){return void 0===n&&(n=0),rl((function(e,r){r.add(t.schedule((function(){return e.subscribe(r)}),n))}))}function rh(t,n){return new nl((function(e){var r;return th(e,n,(function(){r=t[Kl](),th(e,n,(function(){var t,n,i;try{n=(t=r.next()).value,i=t.done}catch(t){return void e.error(t)}i?e.complete():e.next(n)}),0,!0)})),function(){return jf(null==r?void 0:r.return)&&r.return()}}))}function ih(t,n){if(!t)throw new Error("Iterable cannot be null");return new nl((function(e){th(e,n,(function(){var r=t[Symbol.asyncIterator]();th(e,n,(function(){r.next().then((function(t){t.done?e.complete():e.next(t.value)}))}),0,!0)}))}))}function oh(t,n){if(null!=t){if(ql(t))return function(t,n){return $l(t).pipe(eh(n),nh(n))}(t,n);if(Bl(t))return function(t,n){return new nl((function(e){var r=0;return n.schedule((function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())}))}))}(t,n);if(Gl(t))return function(t,n){return $l(t).pipe(eh(n),nh(n))}(t,n);if(Jl(t))return ih(t,n);if(Yl(t))return rh(t,n);if(Xl(t))return function(t,n){return ih(Hl(t),n)}(t,n)}throw Vl(t)}function uh(t,n){return n?oh(t,n):$l(t)}function ch(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=zl(t);return uh(t,e)}function sh(t,n){var e=jf(t)?t:function(){return t},r=function(t){return t.error(e())};return new nl(n?function(t){return n.schedule(r,0,t)}:r)}!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(Zl||(Zl={}));var ah=function(){function t(t,n,e){this.kind=t,this.value=n,this.error=e,this.hasValue="N"===t}return t.prototype.observe=function(t){return fh(this,t)},t.prototype.do=function(t,n,e){var r=this,i=r.kind,o=r.value,u=r.error;return"N"===i?null==t?void 0:t(o):"E"===i?null==n?void 0:n(u):null==e?void 0:e()},t.prototype.accept=function(t,n,e){var r;return jf(null===(r=t)||void 0===r?void 0:r.next)?this.observe(t):this.do(t,n,e)},t.prototype.toObservable=function(){var t=this,n=t.kind,e=t.value,r=t.error,i="N"===n?ch(e):"E"===n?sh((function(){return r})):"C"===n?Nl:0;if(!i)throw new TypeError("Unexpected notification kind "+n);return i},t.createNext=function(n){return new t("N",n)},t.createError=function(n){return new t("E",void 0,n)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function fh(t,n){var e,r,i,o=t,u=o.kind,c=o.value,s=o.error;if("string"!=typeof u)throw new TypeError('Invalid notification, missing "kind"');"N"===u?null===(e=n.next)||void 0===e||e.call(n,c):"E"===u?null===(r=n.error)||void 0===r||r.call(n,s):null===(i=n.complete)||void 0===i||i.call(n)}var lh=_f((function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}}));var hh=_f((function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})),vh=_f((function(t){return function(n){t(this),this.name="NotFoundError",this.message=n}})),dh=_f((function(t){return function(n){t(this),this.name="SequenceError",this.message=n}}));function ph(t){return t instanceof Date&&!isNaN(t)}var bh=_f((function(t){return function(n){void 0===n&&(n=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n}}));function yh(t){throw new bh(t)}function mh(t,n){return rl((function(e,r){var i=0;e.subscribe(il(r,(function(e){r.next(t.call(n,e,i++))})))}))}var gh=Array.isArray;function wh(t){return mh((function(n){return function(t,n){return gh(n)?t.apply(void 0,Ef([],Sf(n))):t(n)}(t,n)}))}function xh(t,n,e,r){if(e){if(!Wl(e))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return xh(t,n,r).apply(this,i).pipe(wh(e))};r=e}return r?function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return xh(t,n).apply(this,e).pipe(eh(r),nh(r))}:function(){for(var e=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new dl,u=!0;return new nl((function(i){var c=o.subscribe(i);if(u){u=!1;var s=!1,a=!1;n.apply(e,Ef(Ef([],Sf(r)),[function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(t){var r=n.shift();if(null!=r)return void o.error(r)}o.next(1<n.length?n:n[0]),a=!0,s&&o.complete()}])),a&&o.complete(),s=!0}return c}))}}var Sh=Array.isArray,Eh=Object.getPrototypeOf,kh=Object.prototype,Oh=Object.keys;function Th(t){if(1===t.length){var n=t[0];if(Sh(n))return{args:n,keys:null};if((r=n)&&"object"==typeof r&&Eh(r)===kh){var e=Oh(n);return{args:e.map((function(t){return n[t]})),keys:e}}}var r;return{args:t,keys:null}}function jh(t,n){return t.reduce((function(t,e,r){return t[e]=n[r],t}),{})}function _h(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=zl(t),r=Ul(t),i=Th(t),o=i.args,u=i.keys;if(0===o.length)return uh([],e);var c=new nl(Ph(o,e,u?function(t){return jh(u,t)}:$f));return r?c.pipe(wh(r)):c}function Ph(t,n,e){return void 0===e&&(e=$f),function(r){Ah(n,(function(){for(var i=t.length,o=new Array(i),u=i,c=i,s=function(i){Ah(n,(function(){var s=uh(t[i],n),a=!1;s.subscribe(il(r,(function(t){o[i]=t,a||(a=!0,c--),c||r.next(e(o.slice()))}),(function(){--u||r.complete()})))}),r)},a=0;a<i;a++)s(a)}),r)}}function Ah(t,n,e){t?th(e,t,n):n()}function Dh(t,n,e,r,i,o,u,c){var s=[],a=0,f=0,l=!1,h=function(){!l||s.length||a||n.complete()},v=function(t){return a<r?d(t):s.push(t)},d=function(t){o&&n.next(t),a++;var c=!1;$l(e(t,f++)).subscribe(il(n,(function(t){null==i||i(t),o?v(t):n.next(t)}),(function(){c=!0}),void 0,(function(){if(c)try{a--;for(var t=function(){var t=s.shift();u?th(n,u,(function(){return d(t)})):d(t)};s.length&&a<r;)t();h()}catch(t){n.error(t)}})))};return t.subscribe(il(n,v,(function(){l=!0,h()}))),function(){null==c||c()}}function Rh(t,n,e){return void 0===e&&(e=1/0),jf(n)?Rh((function(e,r){return mh((function(t,i){return n(e,t,r,i)}))($l(t(e,r)))}),e):("number"==typeof n&&(e=n),rl((function(n,r){return Dh(n,r,t,e)})))}function Ih(t){return void 0===t&&(t=1/0),Rh($f,t)}function Ch(){return Ih(1)}function Mh(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Ch()(uh(t,zl(t)))}function Nh(t){return new nl((function(n){$l(t()).subscribe(n)}))}var Wh={connector:function(){return new al},resetOnDisconnect:!0};var Fh=["addListener","removeListener"],Uh=["addEventListener","removeEventListener"],zh=["on","off"];function Lh(t,n){return function(e){return function(r){return t[e](n,r)}}}function Bh(t,n,e){void 0===t&&(t=0),void 0===e&&(e=Pl);var r=-1;return null!=n&&(Wl(n)?e=n:r=n),new nl((function(n){var i=ph(t)?+t-e.now():t;i<0&&(i=0);var o=0;return e.schedule((function(){n.closed||(n.next(o++),0<=r?this.schedule(void 0,r):n.complete())}),i)}))}function Gh(t,n){return void 0===t&&(t=0),void 0===n&&(n=_l),t<0&&(t=0),Bh(t,t,n)}function qh(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=zl(t),r=Ll(t,1/0),i=t;return i.length?1===i.length?$l(i[0]):Ih(r)(uh(i,e)):Nl}var Jh=new nl(Ff);var Vh=Array.isArray;function Zh(t){return 1===t.length&&Vh(t[0])?t[0]:t}function Kh(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Zh(t);return new nl((function(t){var n=0,r=function(){if(n<e.length){var i=void 0;try{i=$l(e[n++])}catch(t){return void r()}var o=new ul(t,void 0,Ff,Ff);i.subscribe(o),o.add(r)}else t.complete()};r()}))}function Yh(t,n){return function(e,r){return!t.call(n,e,r)}}function Hh(t,n){return rl((function(e,r){var i=0;e.subscribe(il(r,(function(e){return t.call(n,e,i++)&&r.next(e)})))}))}function Xh(t){return function(n){for(var e=[],r=function(r){e.push($l(t[r]).subscribe(il(n,(function(t){if(e){for(var i=0;i<e.length;i++)i!==r&&e[i].unsubscribe();e=null}n.next(t)}))))},i=0;e&&!n.closed&&i<t.length;i++)r(i)}}function $h(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Ul(t),r=Zh(t);return r.length?new nl((function(t){var n=r.map((function(){return[]})),i=r.map((function(){return!1}));t.add((function(){n=i=null}));for(var o=function(o){$l(r[o]).subscribe(il(t,(function(r){if(n[o].push(r),n.every((function(t){return t.length}))){var u=n.map((function(t){return t.shift()}));t.next(e?e.apply(void 0,Ef([],Sf(u))):u),n.some((function(t,n){return!t.length&&i[n]}))&&t.complete()}}),(function(){i[o]=!0,!n[o].length&&t.complete()})))},u=0;!t.closed&&u<r.length;u++)o(u);return function(){n=i=null}})):Nl}function Qh(t){return rl((function(n,e){var r=!1,i=null,o=null,u=!1,c=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var t=i;i=null,e.next(t)}u&&e.complete()},s=function(){o=null,u&&e.complete()};n.subscribe(il(e,(function(n){r=!0,i=n,o||$l(t(n)).subscribe(o=il(e,c,s))}),(function(){u=!0,(!r||!o||o.closed)&&e.complete()})))}))}function tv(t,n,e,r,i){return function(o,u){var c=e,s=n,a=0;o.subscribe(il(u,(function(n){var e=a++;s=c?t(s,n,e):(c=!0,n),r&&u.next(s)}),i&&function(){c&&u.next(s),u.complete()}))}}function nv(t,n){return rl(tv(t,n,arguments.length>=2,!1,!0))}var ev=function(t,n){return t.push(n),t};function rv(){return rl((function(t,n){nv(ev,[])(t).subscribe(n)}))}function iv(t,n){return Qf(rv(),Rh((function(n){return t(n)})),n?wh(n):$f)}function ov(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Ul(t);return e?Qf(ov.apply(void 0,Ef([],Sf(t))),wh(e)):rl((function(n,e){Ph(Ef([n],Sf(Zh(t))))(e)}))}function uv(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=zl(t);return rl((function(n,r){Ch()(uh(Ef([n],Sf(t)),e)).subscribe(r)}))}var cv={connector:function(){return new al}};function sv(t){return rl((function(n,e){var r=!1;n.subscribe(il(e,(function(t){r=!0,e.next(t)}),(function(){r||e.next(t),e.complete()})))}))}function av(t){return t<=0?function(){return Nl}:rl((function(n,e){var r=0;n.subscribe(il(e,(function(n){++r<=t&&(e.next(n),t<=r&&e.complete())})))}))}function fv(){return rl((function(t,n){t.subscribe(il(n,Ff))}))}function lv(t,n){return n?function(e){return Mh(n.pipe(av(1),fv()),e.pipe(lv(t)))}:Rh((function(n,e){return $l(t(n,e)).pipe(av(1),function(t){return mh((function(){return t}))}(n))}))}function hv(t,n){return void 0===n&&(n=$f),t=null!=t?t:vv,rl((function(e,r){var i,o=!0;e.subscribe(il(r,(function(e){var u=n(e);!o&&t(i,u)||(o=!1,i=u,r.next(e))})))}))}function vv(t,n){return t===n}function dv(t){return void 0===t&&(t=pv),rl((function(n,e){var r=!1;n.subscribe(il(e,(function(t){r=!0,e.next(t)}),(function(){return r?e.complete():e.error(t())})))}))}function pv(){return new lh}function bv(t,n){return n?function(e){return e.pipe(bv((function(e,r){return $l(t(e,r)).pipe(mh((function(t,i){return n(e,t,r,i)})))})))}:rl((function(n,e){var r=0,i=null,o=!1;n.subscribe(il(e,(function(n){i||(i=il(e,void 0,(function(){i=null,o&&e.complete()})),$l(t(n,r++)).subscribe(i))}),(function(){o=!0,!i&&e.complete()})))}))}function yv(t){return rl((function(n,e){try{n.subscribe(e)}finally{e.add(t)}}))}function mv(t,n,e){var r="index"===e;return function(e,i){var o=0;e.subscribe(il(i,(function(u){var c=o++;t.call(n,u,c,e)&&(i.next(r?c:u),i.complete())}),(function(){i.next(r?-1:void 0),i.complete()})))}}function gv(t){return t<=0?function(){return Nl}:rl((function(n,e){var r=[];n.subscribe(il(e,(function(n){r.push(n),t<r.length&&r.shift()}),(function(){var t,n;try{for(var i=xf(r),o=i.next();!o.done;o=i.next()){var u=o.value;e.next(u)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}e.complete()}),void 0,(function(){r=null})))}))}function wv(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=zl(t),r=Ll(t,1/0);return t=Zh(t),rl((function(n,i){Ih(r)(uh(Ef([n],Sf(t)),e)).subscribe(i)}))}function xv(t){return rl((function(n,e){var r=!1,i=null;n.subscribe(il(e,(function(t){r=!0,i=t}))),$l(t).subscribe(il(e,(function(){if(r){r=!1;var t=i;i=null,e.next(t)}}),Ff))}))}function Sv(t){void 0===t&&(t={});var n=t.connector,e=void 0===n?function(){return new al}:n,r=t.resetOnError,i=void 0===r||r,o=t.resetOnComplete,u=void 0===o||o,c=t.resetOnRefCountZero,s=void 0===c||c;return function(t){var n,r,o,c=0,a=!1,f=!1,l=function(){null==r||r.unsubscribe(),r=void 0},h=function(){l(),n=o=void 0,a=f=!1},v=function(){var t=n;h(),null==t||t.unsubscribe()};return rl((function(t,d){c++,f||a||l();var p=o=null!=o?o:e();d.add((function(){0!==--c||f||a||(r=Ev(v,s))})),p.subscribe(d),!n&&c>0&&(n=new Zf({next:function(t){return p.next(t)},error:function(t){f=!0,l(),r=Ev(h,i,t),p.error(t)},complete:function(){a=!0,l(),r=Ev(h,u),p.complete()}}),$l(t).subscribe(n))}))(t)}}function Ev(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];if(!0!==n){if(!1!==n){var i=new Zf({next:function(){i.unsubscribe(),t()}});return $l(n.apply(void 0,Ef([],Sf(e)))).subscribe(i)}}else t()}function kv(t,n){return rl((function(e,r){var i=null,o=0,u=!1,c=function(){return u&&!i&&r.complete()};e.subscribe(il(r,(function(e){null==i||i.unsubscribe();var u=0,s=o++;$l(t(e,s)).subscribe(i=il(r,(function(t){return r.next(n?n(e,t,s,u++):t)}),(function(){i=null,c()})))}),(function(){u=!0,c()})))}))}function Ov(t,n){return rl((function(e,r){var i=null!=n?n:{},o=i.leading,u=void 0===o||o,c=i.trailing,s=void 0!==c&&c,a=!1,f=null,l=null,h=!1,v=function(){null==l||l.unsubscribe(),l=null,s&&(b(),h&&r.complete())},d=function(){l=null,h&&r.complete()},p=function(n){return l=$l(t(n)).subscribe(il(r,v,d))},b=function(){if(a){a=!1;var t=f;f=null,r.next(t),!h&&p(t)}};e.subscribe(il(r,(function(t){a=!0,f=t,(!l||l.closed)&&(u?b():p(t))}),(function(){h=!0,(!(s&&a&&l)||l.closed)&&r.complete()})))}))}var Tv=function(t,n){this.value=t,this.interval=n};function jv(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return rl((function(n,e){$h.apply(void 0,Ef([n],Sf(t))).subscribe(e)}))}function _v(t){return n=>{const e=function(t){return"function"==typeof t?{next:n=>t(n),error:()=>{},complete:()=>{}}:{next:n=>{var e;return null===(e=t.next)||void 0===e?void 0:e.call(t,n)},error:n=>{var e;return null===(e=t.error)||void 0===e?void 0:e.call(t,n)},complete:()=>{var n;return null===(n=t.complete)||void 0===n?void 0:n.call(t)}}}(null!=t?t:{}),r=n.subscribe({next:t=>e.next(t),error:t=>e.error(Rt(t)),complete:()=>e.complete()});return{[Symbol.dispose]:()=>r.unsubscribe()}}}var Pv=new WeakMap;class Av extends ll{constructor(t){super(t.getValue()),u(this,Pv,void 0),c(Pv,this,t.subscribe({next:t=>this.next(t),error:t=>this.error(t),complete:()=>this.complete()}))}unsubscribe(){o(Pv,this)[Symbol.dispose](),super.unsubscribe()}[Symbol.dispose](){this.unsubscribe()}}const Dv=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:hh,AsyncSubject:dl,BehaviorSubject:ll,EMPTY:Nl,EmptyError:lh,NEVER:Jh,NotFoundError:vh,ObjectUnsubscribedError:sl,Observable:nl,ReplaySubject:vl,SequenceError:dh,Subject:al,Subscriber:Gf,Subscription:Df,TimeoutError:bh,UnsubscriptionError:Pf,VirtualAction:Ml,VirtualTimeScheduler:Cl,animationFrameScheduler:Il,asapScheduler:jl,asyncScheduler:_l,audit:Qh,auditTime:function(t,n){return void 0===n&&(n=_l),Qh((function(){return Bh(t,n)}))},bindCallback:function(t,n,e){return xh(!1,t,n,e)},bindNodeCallback:function(t,n,e){return xh(!0,t,n,e)},buffer:function(t){return rl((function(n,e){var r=[];return n.subscribe(il(e,(function(t){return r.push(t)}),(function(){e.next(r),e.complete()}))),$l(t).subscribe(il(e,(function(){var t=r;r=[],e.next(t)}),Ff)),function(){r=null}}))},bufferCount:function(t,n){return void 0===n&&(n=null),n=null!=n?n:t,rl((function(e,r){var i=[],o=0;e.subscribe(il(r,(function(e){var u,c,s,a,f=null;o++%n==0&&i.push([]);try{for(var l=xf(i),h=l.next();!h.done;h=l.next()){(p=h.value).push(e),t<=p.length&&(f=null!=f?f:[]).push(p)}}catch(t){u={error:t}}finally{try{h&&!h.done&&(c=l.return)&&c.call(l)}finally{if(u)throw u.error}}if(f)try{for(var v=xf(f),d=v.next();!d.done;d=v.next()){var p=d.value;Af(i,p),r.next(p)}}catch(t){s={error:t}}finally{try{d&&!d.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}}),(function(){var t,n;try{for(var e=xf(i),o=e.next();!o.done;o=e.next()){var u=o.value;r.next(u)}}catch(n){t={error:n}}finally{try{o&&!o.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}r.complete()}),void 0,(function(){i=null})))}))},bufferTime:function(t){for(var n,e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=null!==(n=zl(r))&&void 0!==n?n:_l,u=null!==(e=r[0])&&void 0!==e?e:null,c=r[1]||1/0;return rl((function(n,e){var r=[],i=!1,s=function(t){var n=t.buffer;t.subs.unsubscribe(),Af(r,t),e.next(n),i&&a()},a=function(){if(r){var n=new Df;e.add(n);var i={buffer:[],subs:n};r.push(i),th(n,o,(function(){return s(i)}),t)}};null!==u&&u>=0?th(e,o,a,u,!0):i=!0,a();var f=il(e,(function(t){var n,e,i=r.slice();try{for(var o=xf(i),u=o.next();!u.done;u=o.next()){var a=u.value,f=a.buffer;f.push(t),c<=f.length&&s(a)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}}),(function(){for(;null==r?void 0:r.length;)e.next(r.shift().buffer);null==f||f.unsubscribe(),e.complete(),e.unsubscribe()}),void 0,(function(){return r=null}));n.subscribe(f)}))},bufferToggle:function(t,n){return rl((function(e,r){var i=[];$l(t).subscribe(il(r,(function(t){var e=[];i.push(e);var o=new Df;o.add($l(n(t)).subscribe(il(r,(function(){Af(i,e),r.next(e),o.unsubscribe()}),Ff)))}),Ff)),e.subscribe(il(r,(function(t){var n,e;try{for(var r=xf(i),o=r.next();!o.done;o=r.next()){o.value.push(t)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(n)throw n.error}}}),(function(){for(;i.length>0;)r.next(i.shift());r.complete()})))}))},bufferUntil:function(t){return n=>new nl((e=>{const r=[],i=new Df;let o=!1;return i.add(uh(t).pipe(av(1)).subscribe({next:()=>{o=!0,(()=>{for(;r.length>0;){const t=r.shift();e.next(t)}})()},complete:()=>{o||(e.complete(),i.unsubscribe())},error:t=>{o||e.error(t)}})),i.add(n.subscribe({next:t=>{o?e.next(t):r.push(t)},error:t=>{e.error(t),i.unsubscribe()},complete:()=>{e.complete(),i.unsubscribe()}})),{unsubscribe:()=>i.unsubscribe()}}))},bufferWhen:function(t){return rl((function(n,e){var r=null,i=null,o=function(){null==i||i.unsubscribe();var n=r;r=[],n&&e.next(n),$l(t()).subscribe(i=il(e,o,Ff))};o(),n.subscribe(il(e,(function(t){return null==r?void 0:r.push(t)}),(function(){r&&e.next(r),e.complete()}),void 0,(function(){return r=i=null})))}))},catchError:function t(n){return rl((function(e,r){var i,o=null,u=!1;o=e.subscribe(il(r,void 0,void 0,(function(c){i=$l(n(c,t(n)(e))),o?(o.unsubscribe(),o=null,i.subscribe(r)):u=!0}))),u&&(o.unsubscribe(),o=null,i.subscribe(r))}))},combineLatest:_h,combineLatestAll:function(t){return iv(_h,t)},combineLatestWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return ov.apply(void 0,Ef([],Sf(t)))},concat:Mh,concatAll:Ch,concatMap:function(t,n){return jf(n)?Rh(t,n,1):Rh(t,1)},concatWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return uv.apply(void 0,Ef([],Sf(t)))},config:Mf,connect:function(t,n){void 0===n&&(n=cv);var e=n.connector;return rl((function(n,r){var i,o=e();$l(t((i=o,new nl((function(t){return i.subscribe(t)}))))).subscribe(r),r.add(n.subscribe(o))}))},connectable:function(t,n){void 0===n&&(n=Wh);var e=null,r=n.connector,i=n.resetOnDisconnect,o=void 0===i||i,u=r(),c=new nl((function(t){return u.subscribe(t)}));return c.connect=function(){return e&&!e.closed||(e=Nh((function(){return t})).subscribe(u),o&&e.add((function(){return u=r()}))),e},c},count:function(t){return nv((function(n,e,r){return!t||t(e,r)?n+1:n}),0)},debounce:function(t){return rl((function(n,e){var r=!1,i=null,o=null,u=function(){if(null==o||o.unsubscribe(),o=null,r){r=!1;var t=i;i=null,e.next(t)}};n.subscribe(il(e,(function(n){null==o||o.unsubscribe(),r=!0,i=n,o=il(e,u,Ff),$l(t(n)).subscribe(o)}),(function(){u(),e.complete()}),void 0,(function(){i=o=null})))}))},debounceTime:function(t,n){return void 0===n&&(n=_l),rl((function(e,r){var i=null,o=null,u=null,c=function(){if(i){i.unsubscribe(),i=null;var t=o;o=null,r.next(t)}};function s(){var e=u+t,o=n.now();if(o<e)return i=this.schedule(void 0,e-o),void r.add(i);c()}e.subscribe(il(r,(function(e){o=e,u=n.now(),i||(i=n.schedule(s,t),r.add(i))}),(function(){c(),r.complete()}),void 0,(function(){o=i=null})))}))},defaultIfEmpty:sv,defer:Nh,delay:function(t,n){void 0===n&&(n=_l);var e=Bh(t,n);return lv((function(){return e}))},delayWhen:lv,dematerialize:function(){return rl((function(t,n){t.subscribe(il(n,(function(t){return fh(t,n)})))}))},distinct:function(t,n){return rl((function(e,r){var i=new Set;e.subscribe(il(r,(function(n){var e=t?t(n):n;i.has(e)||(i.add(e),r.next(n))}))),n&&$l(n).subscribe(il(r,(function(){return i.clear()}),Ff))}))},distinctUntilChanged:hv,distinctUntilKeyChanged:function(t,n){return hv((function(e,r){return n?n(e[t],r[t]):e[t]===r[t]}))},elementAt:function(t,n){if(t<0)throw new hh;var e=arguments.length>=2;return function(r){return r.pipe(Hh((function(n,e){return e===t})),av(1),e?sv(n):dv((function(){return new hh})))}},endWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){return Mh(n,ch.apply(void 0,Ef([],Sf(t))))}},every:function(t,n){return rl((function(e,r){var i=0;e.subscribe(il(r,(function(o){t.call(n,o,i++,e)||(r.next(!1),r.complete())}),(function(){r.next(!0),r.complete()})))}))},exhaustAll:function(){return bv($f)},exhaustMap:bv,exhaustMapWithTrailing:function(t){return n=>{let e,r=!1,i=!1;const o=new al;return qh(n.pipe(mh(((t,n)=>[t,n])),yv((()=>{i=!0,e||o.complete()}))),o).pipe(Rh((n=>{let[u,c]=n;return r?(e=[u,c],Nl):(r=!0,uh(t(u,c)).pipe(yv((()=>{if(i)return o.complete();if(r=!1,e){const[t,n]=e;e=void 0,o.next([t,n])}}))))})))}},expand:function(t,n,e){return void 0===n&&(n=1/0),n=(n||0)<1?1/0:n,rl((function(r,i){return Dh(r,i,t,n,void 0,!0,e)}))},filter:Hh,finalize:yv,find:function(t,n){return rl(mv(t,n,"value"))},findIndex:function(t,n){return rl(mv(t,n,"index"))},first:function(t,n){var e=arguments.length>=2;return function(r){return r.pipe(t?Hh((function(n,e){return t(n,e,r)})):$f,av(1),e?sv(n):dv((function(){return new lh})))}},firstValueFrom:function(t,n){var e="object"==typeof n;return new Promise((function(r,i){var o=new Zf({next:function(t){r(t),o.unsubscribe()},error:i,complete:function(){e?r(n.defaultValue):i(new lh)}});t.subscribe(o)}))},forkJoin:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Ul(t),r=Th(t),i=r.args,o=r.keys,u=new nl((function(t){var n=i.length;if(n)for(var e=new Array(n),r=n,u=n,c=function(n){var c=!1;$l(i[n]).subscribe(il(t,(function(t){c||(c=!0,u--),e[n]=t}),(function(){return r--}),void 0,(function(){r&&c||(u||t.next(o?jh(o,e):e),t.complete())})))},s=0;s<n;s++)c(s);else t.complete()}));return e?u.pipe(wh(e)):u},from:uh,fromEvent:function t(n,e,r,i){if(jf(r)&&(i=r,r=void 0),i)return t(n,e,r).pipe(wh(i));var o=Sf(function(t){return jf(t.addEventListener)&&jf(t.removeEventListener)}(n)?Uh.map((function(t){return function(i){return n[t](e,i,r)}})):function(t){return jf(t.addListener)&&jf(t.removeListener)}(n)?Fh.map(Lh(n,e)):function(t){return jf(t.on)&&jf(t.off)}(n)?zh.map(Lh(n,e)):[],2),u=o[0],c=o[1];if(!u&&Bl(n))return Rh((function(n){return t(n,e,r)}))($l(n));if(!u)throw new TypeError("Invalid event target");return new nl((function(t){var n=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.next(1<n.length?n:n[0])};return u(n),function(){return c(n)}}))},fromEventPattern:function t(n,e,r){return r?t(n,e).pipe(wh(r)):new nl((function(t){var r=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.next(1===n.length?n[0]:n)},i=n(r);return jf(e)?function(){return e(r,i)}:void 0}))},fromSubscribable:function(t){return new nl((n=>{const e=t.subscribe(n);return()=>e[Symbol.dispose]()}))},fromSubscribableState:function(t){return new Av(t)},generate:function(t,n,e,r,i){var o,u,c,s;function a(){var t;return wf(this,(function(r){switch(r.label){case 0:t=s,r.label=1;case 1:return n&&!n(t)?[3,4]:[4,c(t)];case 2:r.sent(),r.label=3;case 3:return t=e(t),[3,1];case 4:return[2]}}))}return 1===arguments.length?(s=(o=t).initialState,n=o.condition,e=o.iterate,u=o.resultSelector,c=void 0===u?$f:u,i=o.scheduler):(s=t,!r||Wl(r)?(c=$f,i=r):c=r),Nh(i?function(){return rh(a(),i)}:a)},groupBy:function(t,n,e,r){return rl((function(i,o){var u;n&&"function"!=typeof n?(e=n.duration,u=n.element,r=n.connector):u=n;var c=new Map,s=function(t){c.forEach(t),t(o)},a=function(t){return s((function(n){return n.error(t)}))},f=0,l=!1,h=new ul(o,(function(n){try{var i=t(n),s=c.get(i);if(!s){c.set(i,s=r?r():new al);var v=(p=i,b=s,(y=new nl((function(t){f++;var n=b.subscribe(t);return function(){n.unsubscribe(),0==--f&&l&&h.unsubscribe()}}))).key=p,y);if(o.next(v),e){var d=il(s,(function(){s.complete(),null==d||d.unsubscribe()}),void 0,void 0,(function(){return c.delete(i)}));h.add($l(e(v)).subscribe(d))}}s.next(u?u(n):n)}catch(t){a(t)}var p,b,y}),(function(){return s((function(t){return t.complete()}))}),a,(function(){return c.clear()}),(function(){return l=!0,0===f}));i.subscribe(h)}))},identity:$f,ignoreElements:fv,iif:function(t,n,e){return Nh((function(){return t()?n:e}))},interval:Gh,isEmpty:function(){return rl((function(t,n){t.subscribe(il(n,(function(){n.next(!1),n.complete()}),(function(){n.next(!0),n.complete()})))}))},isObservable:function(t){return!!t&&(t instanceof nl||jf(t.lift)&&jf(t.subscribe))},last:function(t,n){var e=arguments.length>=2;return function(r){return r.pipe(t?Hh((function(n,e){return t(n,e,r)})):$f,gv(1),e?sv(n):dv((function(){return new lh})))}},lastValueFrom:function(t,n){var e="object"==typeof n;return new Promise((function(r,i){var o,u=!1;t.subscribe({next:function(t){o=t,u=!0},error:i,complete:function(){u?r(o):e?r(n.defaultValue):i(new lh)}})}))},map:mh,materialize:function(){return rl((function(t,n){t.subscribe(il(n,(function(t){n.next(ah.createNext(t))}),(function(){n.next(ah.createComplete()),n.complete()}),(function(t){n.next(ah.createError(t)),n.complete()})))}))},max:function(t){return nv(jf(t)?function(n,e){return t(n,e)>0?n:e}:function(t,n){return t>n?t:n})},merge:qh,mergeAll:Ih,mergeMap:Rh,mergeScan:function(t,n,e){return void 0===e&&(e=1/0),rl((function(r,i){var o=n;return Dh(r,i,(function(n,e){return t(o,n,e)}),e,(function(t){o=t}),!1,void 0,(function(){return o=null}))}))},mergeWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return wv.apply(void 0,Ef([],Sf(t)))},min:function(t){return nv(jf(t)?function(n,e){return t(n,e)<0?n:e}:function(t,n){return t<n?t:n})},never:function(){return Jh},noop:Ff,observeOn:nh,of:ch,onErrorResumeNext:Kh,onErrorResumeNextWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Zh(t);return function(t){return Kh.apply(void 0,Ef([t],Sf(e)))}},pairwise:function(){return rl((function(t,n){var e,r=!1;t.subscribe(il(n,(function(t){var i=e;e=t,r&&n.next([i,t]),r=!0})))}))},partition:function(t,n,e){return[Hh(n,e)($l(t)),Hh(Yh(n,e))($l(t))]},pipe:Qf,pluck:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return mh((function(n){for(var r=n,i=0;i<e;i++){var o=null==r?void 0:r[t[i]];if(void 0===o)return;r=o}return r}))},queueScheduler:Dl,race:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===(t=Zh(t)).length?$l(t[0]):new nl(Xh(t))},raceWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length?rl((function(n,e){Xh(Ef([n],Sf(t)))(e)})):$f},range:function(t,n,e){if(null==n&&(n=t,t=0),n<=0)return Nl;var r=n+t;return new nl(e?function(n){var i=t;return e.schedule((function(){i<r?(n.next(i++),this.schedule()):n.complete()}))}:function(n){for(var e=t;e<r&&!n.closed;)n.next(e++);n.complete()})},reduce:nv,repeat:function(t){var n,e,r=1/0;return null!=t&&("object"==typeof t?(n=t.count,r=void 0===n?1/0:n,e=t.delay):r=t),r<=0?function(){return Nl}:rl((function(t,n){var i,o=0,u=function(){if(null==i||i.unsubscribe(),i=null,null!=e){var t="number"==typeof e?Bh(e):$l(e(o)),r=il(n,(function(){r.unsubscribe(),c()}));t.subscribe(r)}else c()},c=function(){var e=!1;i=t.subscribe(il(n,void 0,(function(){++o<r?i?u():e=!0:n.complete()}))),e&&u()};c()}))},retry:function(t){var n;void 0===t&&(t=1/0);var e=(n=t&&"object"==typeof t?t:{count:t}).count,r=void 0===e?1/0:e,i=n.delay,o=n.resetOnSuccess,u=void 0!==o&&o;return r<=0?$f:rl((function(t,n){var e,o=0,c=function(){var s=!1;e=t.subscribe(il(n,(function(t){u&&(o=0),n.next(t)}),void 0,(function(t){if(o++<r){var u=function(){e?(e.unsubscribe(),e=null,c()):s=!0};if(null!=i){var a="number"==typeof i?Bh(i):$l(i(t,o)),f=il(n,(function(){f.unsubscribe(),u()}),(function(){n.complete()}));a.subscribe(f)}else u()}else n.error(t)}))),s&&(e.unsubscribe(),e=null,c())};c()}))},sample:xv,sampleTime:function(t,n){return void 0===n&&(n=_l),xv(Gh(t,n))},scan:function(t,n){return rl(tv(t,n,arguments.length>=2,!0))},scheduled:oh,sequenceEqual:function(t,n){return void 0===n&&(n=function(t,n){return t===n}),rl((function(e,r){var i={buffer:[],complete:!1},o={buffer:[],complete:!1},u=function(t){r.next(t),r.complete()},c=function(t,e){var i=il(r,(function(r){var i=e.buffer,o=e.complete;0===i.length?o?u(!1):t.buffer.push(r):!n(r,i.shift())&&u(!1)}),(function(){t.complete=!0;var n=e.complete,r=e.buffer;n&&u(0===r.length),null==i||i.unsubscribe()}));return i};e.subscribe(c(i,o)),$l(t).subscribe(c(o,i))}))},share:Sv,shareReplay:function(t,n,e){var r,i,o,u,c=!1;return t&&"object"==typeof t?(r=t.bufferSize,u=void 0===r?1/0:r,i=t.windowTime,n=void 0===i?1/0:i,c=void 0!==(o=t.refCount)&&o,e=t.scheduler):u=null!=t?t:1/0,Sv({connector:function(){return new vl(u,n,e)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})},single:function(t){return rl((function(n,e){var r,i=!1,o=!1,u=0;n.subscribe(il(e,(function(c){o=!0,t&&!t(c,u++,n)||(i&&e.error(new dh("Too many matching values")),i=!0,r=c)}),(function(){i?(e.next(r),e.complete()):e.error(o?new vh("No matching values"):new lh)})))}))},skip:function(t){return Hh((function(n,e){return t<=e}))},skipLast:function(t){return t<=0?$f:rl((function(n,e){var r=new Array(t),i=0;return n.subscribe(il(e,(function(n){var o=i++;if(o<t)r[o]=n;else{var u=o%t,c=r[u];r[u]=n,e.next(c)}}))),function(){r=null}}))},skipUntil:function(t){return rl((function(n,e){var r=!1,i=il(e,(function(){null==i||i.unsubscribe(),r=!0}),Ff);$l(t).subscribe(i),n.subscribe(il(e,(function(t){return r&&e.next(t)})))}))},skipWhile:function(t){return rl((function(n,e){var r=!1,i=0;n.subscribe(il(e,(function(n){return(r||(r=!t(n,i++)))&&e.next(n)})))}))},startWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=zl(t);return rl((function(n,r){(e?Mh(t,n,e):Mh(t,n)).subscribe(r)}))},subscribe:_v,subscribeOn:eh,subscriptionToDisposable:function(t){return{[Symbol.dispose]:()=>t.unsubscribe()}},switchAll:function(){return kv($f)},switchMap:kv,switchScan:function(t,n){return rl((function(e,r){var i=n;return kv((function(n,e){return t(i,n,e)}),(function(t,n){return i=n,n}))(e).subscribe(r),function(){i=null}}))},take:av,takeLast:gv,takeUntil:function(t){return rl((function(n,e){$l(t).subscribe(il(e,(function(){return e.complete()}),Ff)),!e.closed&&n.subscribe(e)}))},takeWhile:function(t,n){return void 0===n&&(n=!1),rl((function(e,r){var i=0;e.subscribe(il(r,(function(e){var o=t(e,i++);(o||n)&&r.next(e),!o&&r.complete()})))}))},tap:function(t,n,e){var r=jf(t)||n||e?{next:t,error:n,complete:e}:t;return r?rl((function(t,n){var e;null===(e=r.subscribe)||void 0===e||e.call(r);var i=!0;t.subscribe(il(n,(function(t){var e;null===(e=r.next)||void 0===e||e.call(r,t),n.next(t)}),(function(){var t;i=!1,null===(t=r.complete)||void 0===t||t.call(r),n.complete()}),(function(t){var e;i=!1,null===(e=r.error)||void 0===e||e.call(r,t),n.error(t)}),(function(){var t,n;i&&(null===(t=r.unsubscribe)||void 0===t||t.call(r)),null===(n=r.finalize)||void 0===n||n.call(r)})))})):$f},throttle:Ov,throttleTime:function(t,n,e){void 0===n&&(n=_l);var r=Bh(t,n);return Ov((function(){return r}),e)},throwError:sh,throwIfEmpty:dv,timeInterval:function(t){return void 0===t&&(t=_l),rl((function(n,e){var r=t.now();n.subscribe(il(e,(function(n){var i=t.now(),o=i-r;r=i,e.next(new Tv(n,o))})))}))},timeout:function(t,n){var e=ph(t)?{first:t}:"number"==typeof t?{each:t}:t,r=e.first,i=e.each,o=e.with,u=void 0===o?yh:o,c=e.scheduler,s=void 0===c?null!=n?n:_l:c,a=e.meta,f=void 0===a?null:a;if(null==r&&null==i)throw new TypeError("No timeout provided.");return rl((function(t,n){var e,o,c=null,a=0,l=function(t){o=th(n,s,(function(){try{e.unsubscribe(),$l(u({meta:f,lastValue:c,seen:a})).subscribe(n)}catch(t){n.error(t)}}),t)};e=t.subscribe(il(n,(function(t){null==o||o.unsubscribe(),a++,n.next(c=t),i>0&&l(i)}),void 0,void 0,(function(){(null==o?void 0:o.closed)||null==o||o.unsubscribe(),c=null}))),!a&&l(null!=r?"number"==typeof r?r:+r-s.now():i)}))},timer:Bh,timestamp:function(t){return void 0===t&&(t=hl),mh((function(n){return{value:n,timestamp:t.now()}}))},toArray:rv,toSubscribable:function(t){const n=uh(t);return{subscribe:t=>_v(t)(n)}},toSubscribableState:function(t){return{getValue:()=>t.getValue(),subscribe:n=>_v(n)(t)}},using:function(t,n){return new nl((function(e){var r=t(),i=n(r);return(i?$l(i):Nl).subscribe(e),function(){r&&r.unsubscribe()}}))},window:function(t){return rl((function(n,e){var r=new al;e.next(r.asObservable());var i=function(t){r.error(t),e.error(t)};return n.subscribe(il(e,(function(t){return null==r?void 0:r.next(t)}),(function(){r.complete(),e.complete()}),i)),$l(t).subscribe(il(e,(function(){r.complete(),e.next(r=new al)}),Ff,i)),function(){null==r||r.unsubscribe(),r=null}}))},windowCount:function(t,n){void 0===n&&(n=0);var e=n>0?n:t;return rl((function(n,r){var i=[new al],o=0;r.next(i[0].asObservable()),n.subscribe(il(r,(function(n){var u,c;try{for(var s=xf(i),a=s.next();!a.done;a=s.next()){a.value.next(n)}}catch(t){u={error:t}}finally{try{a&&!a.done&&(c=s.return)&&c.call(s)}finally{if(u)throw u.error}}var f=o-t+1;if(f>=0&&f%e==0&&i.shift().complete(),++o%e==0){var l=new al;i.push(l),r.next(l.asObservable())}}),(function(){for(;i.length>0;)i.shift().complete();r.complete()}),(function(t){for(;i.length>0;)i.shift().error(t);r.error(t)}),(function(){null,i=null})))}))},windowTime:function(t){for(var n,e,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var o=null!==(n=zl(r))&&void 0!==n?n:_l,u=null!==(e=r[0])&&void 0!==e?e:null,c=r[1]||1/0;return rl((function(n,e){var r=[],i=!1,s=function(t){var n=t.window,e=t.subs;n.complete(),e.unsubscribe(),Af(r,t),i&&a()},a=function(){if(r){var n=new Df;e.add(n);var i=new al,u={window:i,subs:n,seen:0};r.push(u),e.next(i.asObservable()),th(n,o,(function(){return s(u)}),t)}};null!==u&&u>=0?th(e,o,a,u,!0):i=!0,a();var f=function(t){return r.slice().forEach(t)},l=function(t){f((function(n){var e=n.window;return t(e)})),t(e),e.unsubscribe()};return n.subscribe(il(e,(function(t){f((function(n){n.window.next(t),c<=++n.seen&&s(n)}))}),(function(){return l((function(t){return t.complete()}))}),(function(t){return l((function(n){return n.error(t)}))}))),function(){r=null}}))},windowToggle:function(t,n){return rl((function(e,r){var i=[],o=function(t){for(;0<i.length;)i.shift().error(t);r.error(t)};$l(t).subscribe(il(r,(function(t){var e=new al;i.push(e);var u,c=new Df;try{u=$l(n(t))}catch(t){return void o(t)}r.next(e.asObservable()),c.add(u.subscribe(il(r,(function(){Af(i,e),e.complete(),c.unsubscribe()}),Ff,o)))}),Ff)),e.subscribe(il(r,(function(t){var n,e,r=i.slice();try{for(var o=xf(r),u=o.next();!u.done;u=o.next()){u.value.next(t)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}}),(function(){for(;0<i.length;)i.shift().complete();r.complete()}),o,(function(){for(;0<i.length;)i.shift().unsubscribe()})))}))},windowWhen:function(t){return rl((function(n,e){var r,i,o=function(t){r.error(t),e.error(t)},u=function(){var n;null==i||i.unsubscribe(),null==r||r.complete(),r=new al,e.next(r.asObservable());try{n=$l(t())}catch(t){return void o(t)}n.subscribe(i=il(e,u,u,o))};u(),n.subscribe(il(e,(function(t){return r.next(t)}),(function(){r.complete(),e.complete()}),o,(function(){null==i||i.unsubscribe(),r=null})))}))},withLatestFrom:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=Ul(t);return rl((function(n,r){for(var i=t.length,o=new Array(i),u=t.map((function(){return!1})),c=!1,s=function(n){$l(t[n]).subscribe(il(r,(function(t){o[n]=t,c||u[n]||(u[n]=!0,(c=u.every($f))&&(u=null))}),Ff))},a=0;a<i;a++)s(a);n.subscribe(il(r,(function(t){if(c){var n=Ef([t],Sf(o));r.next(e?e.apply(void 0,Ef([],Sf(n))):n)}})))}))},zip:$h,zipAll:function(t){return iv($h,t)},zipWith:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return jv.apply(void 0,Ef([],Sf(t)))}},Symbol.toStringTag,{value:"Module"})),Rv=Dv;var Iv=new WeakMap,Cv=new WeakMap,Mv=new WeakMap,Nv=new WeakMap;class Wv{constructor(t){u(this,Iv,void 0),u(this,Cv,void 0),u(this,Mv,void 0),u(this,Nv,void 0),c(Iv,this,t.port),c(Cv,this,t.getMetadata),c(Mv,this,(t=>t.isTrusted)),c(Nv,this,t.name)}onMessage(t){const n=n=>{o(Mv,this).call(this,n)?t(n.data,o(Cv,this).call(this,n)):(Pt.verbose("".concat(o(Nv,this)," Received invalid event"),n),Pt.warn("".concat(o(Nv,this)," Received invalid event ").concat(JSON.stringify(n))))};return o(Iv,this).addEventListener("message",n),o(Iv,this).start(),function(t){const n=new DisposableStack;return n.defer(t),n}((()=>o(Iv,this).removeEventListener("message",n)))}sendMessage(t){return Kt((()=>o(Iv,this).postMessage(t)))}}function Fv(){const t=crypto.randomUUID();return t}var Uv=new WeakMap,zv=new WeakMap;class Lv{constructor(){u(this,Uv,Fv()),u(this,zv,0)}next(){var t;o(zv,this)===Number.MAX_SAFE_INTEGER?(c(zv,this,0),c(Uv,this,Fv())):c(zv,this,(t=o(zv,this),++t));return"".concat(o(Uv,this),"-").concat(o(zv,this).toString(16))}}const Bv=new Lv;var Gv=new WeakMap,qv=new WeakMap,Jv=new WeakMap,Vv=new WeakSet;class Zv{constructor(t,n){var e,r,i;s(this,Vv),u(this,Gv,!0),a(this,"status",void 0),a(this,"message",void 0),a(this,"endTime",void 0),a(this,"id",void 0),a(this,"name",void 0),a(this,"startTime",void 0),a(this,"links",void 0),a(this,"events",void 0),a(this,"attributes",void 0),u(this,qv,void 0),u(this,Jv,void 0),this.id=Bv.next(),this.name=t,this.links=null!==(e=null===(r=n.links)||void 0===r?void 0:r.map((t=>({id:t.id}))))&&void 0!==e?e:[],this.attributes=l({},n.attributes),this.events=[],this.startTime=null!==(i=n.timestamp)&&void 0!==i?i:performance.now(),c(qv,this,n.tracer),c(Jv,this,n.parent?{id:n.parent.id}:null)}get isRecording(){return o(Gv,this)}setAttribute(t,n){if(!o(Gv,this))return r(Vv,this,Kv).call(this);this.attributes[t]=n}setAttributes(t){if(!o(Gv,this))return r(Vv,this,Kv).call(this);Object.assign(this.attributes,t)}setStatus(t,n){if(!o(Gv,this))return r(Vv,this,Kv).call(this);this.status=t,this.message=n}recordError(t,n){if(!o(Gv,this))return r(Vv,this,Kv).call(this);this.events.push({name:t.name,kind:"error",attributes:{message:t.message,stack:t.stack},timestamp:null!=n?n:performance.now()})}recordEvent(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(!o(Gv,this))return r(Vv,this,Kv).call(this);"number"==typeof n&&(e=n,n={}),this.events.push({name:t,kind:"event",attributes:n,timestamp:null!=e?e:performance.now()})}link(t,n){if(!o(Gv,this))return r(Vv,this,Kv).call(this);this.links.push({id:t.id,attributes:n})}startSpan(t,n){o(Gv,this)||r(Vv,this,Kv).call(this);const e=l(l({},n),{},{parent:this,tracer:o(qv,this)});return o(qv,this).startSpan("".concat(this.name,".").concat(t),e)}runInSpan(t,n,e){return this.run(n,this.startSpan(t,e))}run(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;const e=()=>{n.setStatus("ok"),n.end()},r=t=>{const e=Rt(t);n.recordError(e),n.setStatus("error",e.message),n.end()};try{const i=t(n);return i instanceof Promise?i.then(e,r):e(),i}catch(t){throw r(t),t}}end(t){var n;if(!o(Gv,this))return r(Vv,this,Kv).call(this);c(Gv,this,!1),null!==(n=this.status)&&void 0!==n||(this.status="unset"),this.endTime=null!=t?t:performance.now(),o(qv,this).onSpanDidEnd(this)}[Symbol.dispose](){o(Gv,this)&&this.end()}toJSON(){var t;return{id:this.id,parentId:null===(t=o(Jv,this))||void 0===t?void 0:t.id,traceId:o(qv,this).id,name:this.name,status:this.status,message:this.message,startTime:this.startTime,endTime:this.endTime,links:this.links,events:this.events,attributes:this.attributes}}toString(){const t=[];return t.push(this.name),"error"===this.status&&t.push("(error)"),this.message&&t.push(this.message),Object.keys(this.attributes).length&&t.push("|",Yv(this.attributes)),t.push("(".concat(this.id,")")),t.join(" ")}}function Kv(){Pt.warn("Span ".concat(this.name,"(").concat(this.id,") is not recording."))}function Yv(t){const n=Object.entries(t);return 0===n.length?"":"attributes: "+n.map((t=>{let[n,e]=t;return"".concat(n,"=").concat(function(t){return"string"==typeof t?t:JSON.stringify(t)}(e))})).join(", ")}var Hv=new WeakMap,Xv=new WeakMap,$v=new WeakMap,Qv=new WeakMap,td=new WeakSet;class nd{get id(){return o(Hv,this)}constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s(this,td),u(this,Hv,Bv.next()),u(this,Xv,void 0),u(this,$v,new Set),u(this,Qv,void 0),c(Xv,this,t),c(Qv,this,n)}get observers(){return Array.from(o($v,this))}get attributes(){var t;return null!==(t=o(Xv,this))&&void 0!==t?t:{}}load(t){c(Hv,this,t.id),c(Xv,this,t.attributes)}addObserver(t){return o($v,this).add(t),{[Symbol.dispose]:()=>{o($v,this).delete(t)}}}removeObserver(t){return o($v,this).delete(t)}startSpan(t,n){return r(td,this,ed).call(this,t,n)}runInSpan(t,n,e){return r(td,this,ed).call(this,t,e).run(n)}onSpanDidStart(t){o(Qv,this)&&o(Qv,this).onSpanDidStart(t),o($v,this).forEach((n=>{if(n.onDidStart)try{n.onDidStart(t)}catch(t){}}))}onSpanDidEnd(t){o(Qv,this)&&o(Qv,this).onSpanDidEnd(t),o($v,this).forEach((n=>{if(n.onDidEnd)try{n.onDidEnd(t)}catch(t){}}))}startTrace(t){return new nd(t,this)}}function ed(t,n){const e=new Zv(t,l(l({tracer:this,parent:null},n),{},{attributes:l(l({},o(Xv,this)),null==n?void 0:n.attributes)}));return this.onSpanDidStart(e),e}var rd=new WeakMap;class id{constructor(){a(this,"name",id.name),u(this,rd,Pt.createLogger("Trace"))}onDidStart(t){o(rd,this).verbose("START ".concat(t),t.toJSON())}onDidEnd(t){const n=Number(t.endTime-t.startTime).toFixed(2)+"ms";if(t instanceof Zv){const e=t=>t.attributes&&Object.keys(t.attributes).length?"".concat(t.name,"(").concat(Yv(t.attributes),")"):t.name;for(const r of t.events){const i="error"===r.kind?"ERROR":"EVENT",u=Number(r.timestamp-t.startTime).toFixed(2)+"ms";o(rd,this).verbose("".concat(i," ").concat(e(r)," in ").concat(t," at ").concat(u," of ").concat(n))}}o(rd,this).verbose("END ".concat(t," in ").concat(n),t.toJSON())}}a(id,"name","ConsoleObserver");class od{constructor(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,"name",od.name),a(this,"showDetails",void 0),this.showDetails=null!==(t=n.showDetails)&&void 0!==t&&t}onDidStart(t){performance.mark("".concat(t.name," (").concat(t.id,")"),{startTime:t.startTime})}onDidEnd(t){performance.clearMarks("".concat(t.name," (").concat(t.id,")"));try{performance.measure(this.showDetails?t.toString():t.name,{start:t.startTime,end:t.endTime,detail:t.toJSON()})}catch(t){}t instanceof Zv&&t.events.forEach((n=>{var e;performance.mark("".concat(t.name,"#").concat(n.name," ").concat(Yv(null!==(e=n.attributes)&&void 0!==e?e:{})),{startTime:n.timestamp})}))}}a(od,"name","PerformanceObserver");const ud=b(new nd,{stableUniqueIdentifier:"@grammarly/util-tracing",serialize:t=>[{id:t.id,attributes:t.attributes,observers:t.observers.map((t=>t instanceof id?{name:t.name}:t instanceof od?{name:t.name,showDetails:t.showDetails}:null))},[]],deserialize:(t,n)=>{n.load(t);for(const e of t.observers)e&&(e.name===id.name?n.addObserver(new id):e.name===od.name&&n.addObserver(new od({showDetails:e.showDetails})))}});var cd=new WeakMap,sd=new WeakMap,ad=new WeakMap,fd=new WeakMap,ld=new WeakMap,hd=new WeakMap,vd=new WeakMap,dd=new WeakMap,pd=new WeakSet;class bd{constructor(t,n){var e;s(this,pd),u(this,cd,void 0),u(this,sd,new DisposableStack),u(this,ad,void 0),u(this,fd,new Map),u(this,ld,void 0),u(this,hd,void 0),u(this,vd,new Rv.Subject),u(this,dd,new Lv),a(this,"label",void 0),this.label=null!==(e=n.label)&&void 0!==e?e:"RPC",c(cd,this,Pt.createLogger(this.label)),c(hd,this,n.report),c(ad,this,t),c(ld,this,n.handler),o(cd,this).verbose("Registered handler for ".concat(this.label,"(").concat(Object.keys(o(ld,this)).join(", "),")")),o(sd,this).defer((()=>{for(const t of o(fd,this).values())t[Symbol.dispose]();o(fd,this).clear()})),o(sd,this).use(un(o(vd,this),Rv.concatMap((t=>{let[n,e]=t;return r(pd,this,yd).call(this,n,e)})),Rv.mergeMap((n=>{let[e,r]=n;return r&&o(cd,this).error("outbound ".concat(e.action,"() throws an error:"),r),un(t.sendMessage(e),Yt(cn((t=>{o(cd,this).error("Failed to send ".concat(e.action," response to client"),t)}))))})),Rv.subscribe())),o(sd,this).use(t.onMessage(((t,n)=>{switch(t.type){case"request":return o(vd,this).next([t,n]);case"response":return r(pd,this,md).call(this,t);default:throw new Mt(t)}})))}createClient(){return{execute:async(t,n,e)=>{try{var r,i=h();if(o(sd,this).disposed)return Jt(new ReferenceError);i.a(ud.startSpan("".concat(this.label,".").concat(String(t),"()"),{attributes:void 0}));const u=o(dd,this).next(),c=performance.now(),s=await new Promise((r=>{const i=setTimeout((()=>{o(fd,this).has(u)&&(o(fd,this).delete(u),r(zt(new xd(u,String(t),n))))}),null!=e?e:5e3),c={id:u,type:"request",action:String(t),data:n},s=()=>{clearTimeout(i),o(fd,this).delete(u)};o(fd,this).set(u,{request:c,complete:t=>{var n;s(),r(function(t){return"failure"===t.data.status}(t)?zt(null!==(n=function(t){var n;const e=t.data.data,r=new gd(null!==(n=e.errorMessage)&&void 0!==n?n:"Unknown error");return Object.assign(r,e),r}(t))&&void 0!==n?n:new gd("Unprocessable error response.")):Ut(t.data.data))},[Symbol.dispose]:()=>{s(),r(zt(new ReferenceError))}}),un(o(ad,this).sendMessage(c),Yt(cn((t=>r(zt(t))))))}));return Bt(s)&&o(cd,this).error("inbound ".concat(String(t),"() throws an error:"),s.error),null===(r=o(hd,this))||void 0===r||r.call(this,{kind:"outbound",action:String(t),durationInMs:performance.now()-c,error:Bt(s)?s.error:void 0}),s}catch(t){i.e=t}finally{await i.d()}}}}[Symbol.dispose](){o(sd,this).dispose()}toString(){return"DefaultRemoteFunctionManager|".concat(this.label,"(").concat(Object.keys(o(ld,this)).join(", "),")")}}async function yd(t,n){const e=(r={success:n=>({id:t.id,action:t.action,type:"response",data:{status:"success",data:n}}),failure:n=>({id:t.id,action:t.action,type:"response",data:{status:"failure",data:n}})},t=>t.ok?r.success(t.value):r.failure(t.error));var r;const i=t.action,u=t.data,c=o(ld,this)[i];if(c){var s;const r=performance.now(),i=await c(u,n),a=Bt(i)?i.error:void 0;return null===(s=o(hd,this))||void 0===s||s.call(this,{kind:"inbound",action:t.action,durationInMs:performance.now()-r,error:a}),[e(i),a]}{const n=new wd(t.action);return[e(zt(n)),n]}}function md(t){const n=o(fd,this).get(t.id);n&&t.action===n.request.action?n.complete(t):(o(cd,this).warn("unexpected ".concat(t.action,"() id=").concat(t.id," is not expected by any handler.")),o(cd,this).verbose("Unhandled message:",t))}class gd extends At{}class wd extends gd{constructor(t){super("Unknown action: ".concat(t)),a(this,"action",void 0),this.action=t}toJSON(){return l(l({},super.toJSON()),{},{action:this.action})}}class xd extends gd{constructor(t,n,e){super("Timeout waiting for response for ".concat(n,"()")),a(this,"id",void 0),a(this,"action",void 0),a(this,"data",void 0),this.id=t,this.action=n,this.data=e}toJSON(){return l(l({},super.toJSON()),{},{action:this.action,id:this.id,data:this.data})}}const Sd="InkwellSecureKeyRequestMessage";const Ed={pointerdown:null,pointerup:null,pointermove:null};async function kd(t,n,e){switch(t.kind){case"secureKey":{const r=await t.getSecureKey();if(r)return{kind:"secureKey",secureKey:r,webHostPort:n,connectorPort:e};Pt.error("Cannot get security key to setup communication");break}case"secureOrigin":return{kind:"secureOrigin",webHostPort:n,connectorPort:e};default:throw new Mt(t)}return null}function Od(t,n){try{var e=h();const r=e.u(new DisposableStack),i=e=>{if(!function(t){return Object.keys(Ed).includes(t)}(e.type))return;const r=n.getBoundingClientRect();var i,o;i=r,o={x:e.clientX,y:e.clientY},i.x<=o.x&&i.y<=o.y&&i.x+i.width>=o.x&&i.y+i.height>=o.y&&t.execute("pointerEventDidEmit",{kind:e.type,position:{x:e.clientX-r.x,y:e.clientY-r.y}})};return document.body.addEventListener("pointermove",i),document.body.addEventListener("pointerdown",i),document.body.addEventListener("pointerup",i),r.defer((()=>{document.body.removeEventListener("pointermove",i),document.body.removeEventListener("pointerdown",i),document.body.removeEventListener("pointerup",i)})),r.move()}catch(t){e.e=t}finally{e.d()}}async function Td(t){try{var n=h();const r=n.u(new DisposableStack),i=function(t){const n=document.createElement("iframe");return n.style.pointerEvents="none",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="0",n.style.height="0",n.style.border="0",n.style.overflow="hidden",n.style.visibility="hidden",n.src=t,n}(t.frameSrc);r.defer((()=>i.remove())),await function(t,n){return new Promise(((e,r)=>{t.addEventListener("load",(()=>e(t))),n.then((n=>n.appendChild(t))).catch(r)}))}(i,t.getInjectionRoot({feature:"inlineDecorations",documentID:""}));const o="parent-connector",u={updateWindowRect:t=>{let{screenRect:n}=t;return nn.mutate((async()=>{rn(i,"top","".concat(on(n.y),"px")),rn(i,"left","".concat(on(n.x),"px")),rn(i,"width","".concat(on(n.width),"px")),rn(i,"height","".concat(on(n.height),"px"))}))}},c=(t,n)=>{const e=new bd(new Wv({port:t,getMetadata:()=>({connectorId:o}),name:"inkwell-web-host-FrameHost"}),{handler:l(l({},u),n)});r.use(e);const i=e.createClient();return{hostToIframeRPC:e,hostToIframeClient:i}},s=await async function(t,n,e,r){let i=3;for(;i>0;)try{var o=h();i--;const u=o.u(new DisposableStack),c=Promise.withResolvers(),s=setTimeout((()=>{c.resolve("timeout")}),500),a=new MessageChannel,f=new MessageChannel,{hostToIframeRPC:l,hostToIframeClient:v}=r(a.port1,{connected:()=>(c.resolve("connected"),clearTimeout(s),qt())});u.use(l);const d=await kd(e,a.port2,f.port2);if(!t.contentWindow)return Jt(new At("iframe.contentWindow is null"));if(null===d)return Jt(new At("Cannot create communication setup message"));if(t.contentWindow.postMessage(d,n,[d.webHostPort,d.connectorPort]),a.port1.start(),"connected"===await c.promise){const t=u.move();return qt({connectorPort:f.port1,hostToIframeClient:v,[Symbol.dispose]:()=>t.dispose()})}}catch(t){o.e=t}finally{o.d()}return Jt(new At("Cannot setup communication with Inkwell iFrame after ".concat(3," attempts")))}(i,new URL(t.frameSrc).origin,t.iframeSecurityStrategy,c);if(!s.ok)throw s.error;r.use(s.value);const{connectorPort:a,hostToIframeClient:f}=s.value,v=r.use(new bd(new Wv({port:a,getMetadata:()=>({connectorId:o}),name:"inkwell-web-host-connector"}),{label:"RPC/Host/Connector",handler:(e=t.hostAPI,{cancel:t=>Vt(e.connector.cancel(t)),getDocumentText:t=>Vt(e.connector.getDocumentText(t)),getDocumentGeometry:t=>Vt(e.connector.getDocumentGeometry(t)),getBoundingBoxesForTextRanges:t=>Vt(e.connector.getBoundingBoxesForTextRanges(t)),setDocumentSelectedTextRanges:t=>Vt(e.connector.setDocumentSelectedTextRanges(t)),applyDocumentTextChange:t=>Vt(e.connector.applyDocumentTextChange(t)),sendCAPIMessage:t=>Vt(e.capi.sendCAPIMessage(t)),handleTextDecorationInteraction:t=>Vt(e.textDecoration.handleTextDecorationInteraction(t)),makeExperimentationRequest:t=>Vt(e.experimentation.makeExperimentationRequest(t))})})).createClient();r.use(un(Rv.interval(4e3),Rv.switchMap((()=>v.execute("echo","ping"))),Rv.subscribe())),v.execute("handshake",{client:"extension",version:"1.0",protocolVersion:0,options:{pixelKind:"logical",viewportAndWindowFrameStrategy:"browser"}}),r.use(Od(f,i)),a.start();const d=r.move();return l(l({},function(t){const n=n=>async e=>{const r=await t.execute(n,e);if(Bt(r))throw r.error;return r.value};return{capi:{capiAlertRemoved:n("capiAlertRemoved"),capiConnected:n("capiConnected"),capiDisconnected:n("capiDisconnected"),capiMessageReceived:n("capiMessageReceived"),capiTextRevision:n("capiTextRevision")},connector:{documentDidDestroy:n("documentDidDestroy"),documentDidFocus:n("documentDidFocus"),documentGeometryDidChange:n("documentGeometryDidChange"),documentGeometryWillChange:n("documentGeometryWillChange"),documentSelectedTextRangesDidChange:n("documentSelectedTextRangesDidChange"),documentTextDidChange:n("documentTextDidChange"),cancel:n("cancel")},textDecoration:{setTextDecorationVisibility:n("setTextDecorationVisibility")}}}(v)),{},{dispose:()=>d.dispose()})}catch(t){n.e=t}finally{n.d()}var e}}}]);